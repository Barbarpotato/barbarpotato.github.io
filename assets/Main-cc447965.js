import{r as A,u as Br,j as _,A as Qa,m as ve,c as ge,a as Za,b as ce,d as Ja,e as ec,S as Qo,f as ue,g as Bt,o as yt,h as U,F as Ce,i as tc,k as nc,l as rc,n as hr,p as oc,q as ic,s as sc,t as pr,R as Be,v as Zo,w as ac,x as Jo,y as de,z as cc,L as lc,I as Bn,_ as uc}from"./index-99f585fb.js";const jr=e=>e?"":void 0,m0=e=>e?!0:void 0;function dc(e){return A.Children.toArray(e).filter(t=>A.isValidElement(t))}const fc=e=>{const{condition:t,message:n}=e};function ei(e={}){const{onClose:t,onOpen:n,isOpen:r,id:o}=e,s=Br(n),c=Br(t),[i,l]=A.useState(e.defaultIsOpen||!1),a=r!==void 0?r:i,u=r!==void 0,h=A.useId(),f=o??`disclosure-${h}`,d=A.useCallback(()=>{u||l(!1),c==null||c()},[u,c]),g=A.useCallback(()=>{u||l(!0),s==null||s()},[u,s]),p=A.useCallback(()=>{a?d():g()},[a,g,d]);function m(v={}){return{...v,"aria-expanded":a,"aria-controls":f,onClick(y){var b;(b=v.onClick)==null||b.call(v,y),p()}}}function x(v={}){return{...v,hidden:!a,id:f}}return{isOpen:a,onOpen:g,onClose:d,onToggle:p,isControlled:u,getButtonProps:m,getDisclosureProps:x}}function hc(e,t){if(e!=null){if(typeof e=="function"){e(t);return}try{e.current=t}catch{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)}}}function pc(...e){return t=>{e.forEach(n=>{hc(n,t)})}}function gc(...e){return A.useMemo(()=>pc(...e),e)}const rt={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]},_t={scale:{enter:{scale:1},exit:{scale:.95}},fade:{enter:{opacity:1},exit:{opacity:0}},pushLeft:{enter:{x:"100%"},exit:{x:"-30%"}},pushRight:{enter:{x:"-100%"},exit:{x:"30%"}},pushUp:{enter:{y:"100%"},exit:{y:"-30%"}},pushDown:{enter:{y:"-100%"},exit:{y:"30%"}},slideLeft:{position:{left:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"-100%",y:0}},slideRight:{position:{right:0,top:0,bottom:0,width:"100%"},enter:{x:0,y:0},exit:{x:"100%",y:0}},slideUp:{position:{top:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"-100%"}},slideDown:{position:{bottom:0,left:0,right:0,maxWidth:"100vw"},enter:{x:0,y:0},exit:{x:0,y:"100%"}}};function y0(e){switch((e==null?void 0:e.direction)??"right"){case"right":return _t.slideRight;case"left":return _t.slideLeft;case"bottom":return _t.slideDown;case"top":return _t.slideUp;default:return _t.slideRight}}const x0={enter:{duration:.2,ease:rt.easeOut},exit:{duration:.1,ease:rt.easeIn}},Fr={enter:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.enter}),exit:(e,t)=>({...e,delay:typeof t=="number"?t:t==null?void 0:t.exit})},mc=e=>e!=null&&parseInt(e.toString(),10)>0,Vr={exit:{height:{duration:.2,ease:rt.ease},opacity:{duration:.3,ease:rt.ease}},enter:{height:{duration:.3,ease:rt.ease},opacity:{duration:.4,ease:rt.ease}}},yc={exit:({animateOpacity:e,startingHeight:t,transition:n,transitionEnd:r,delay:o})=>({...e&&{opacity:mc(t)?1:0},height:t,transitionEnd:r==null?void 0:r.exit,transition:(n==null?void 0:n.exit)??Fr.exit(Vr.exit,o)}),enter:({animateOpacity:e,endingHeight:t,transition:n,transitionEnd:r,delay:o})=>({...e&&{opacity:1},height:t,transitionEnd:r==null?void 0:r.enter,transition:(n==null?void 0:n.enter)??Fr.enter(Vr.enter,o)})},ti=A.forwardRef((e,t)=>{const{in:n,unmountOnExit:r,animateOpacity:o=!0,startingHeight:s=0,endingHeight:c="auto",style:i,className:l,transition:a,transitionEnd:u,animatePresenceProps:h,...f}=e,[d,g]=A.useState(!1);A.useEffect(()=>{const y=setTimeout(()=>{g(!0)});return()=>clearTimeout(y)},[]),fc({condition:Number(s)>0&&!!r,message:"startingHeight and unmountOnExit are mutually exclusive. You can't use them together"});const p=parseFloat(s.toString())>0,m={startingHeight:s,endingHeight:c,animateOpacity:o,transition:d?a:{enter:{duration:0}},transitionEnd:{enter:u==null?void 0:u.enter,exit:r?u==null?void 0:u.exit:{...u==null?void 0:u.exit,display:p?"block":"none"}}},x=r?n:!0,v=n||r?"enter":"exit";return _(Qa,{...h,initial:!1,custom:m,children:x&&_(ve.div,{ref:t,...f,className:ge("chakra-collapse",l),style:{overflow:"hidden",display:"block",...i},custom:m,variants:yc,initial:r?"exit":!1,animate:v,exit:"exit"})})});ti.displayName="Collapse";function xc(e){const{loading:t,src:n,srcSet:r,onLoad:o,onError:s,crossOrigin:c,sizes:i,ignoreFallback:l}=e,[a,u]=A.useState("pending");A.useEffect(()=>{u(n?"loading":"pending")},[n]);const h=A.useRef(null),f=A.useCallback(()=>{if(!n)return;d();const g=new Image;g.src=n,c&&(g.crossOrigin=c),r&&(g.srcset=r),i&&(g.sizes=i),t&&(g.loading=t),g.onload=p=>{d(),u("loaded"),o==null||o(p)},g.onerror=p=>{d(),u("failed"),s==null||s(p)},h.current=g},[n,c,r,i,o,s,t]),d=()=>{h.current&&(h.current.onload=null,h.current.onerror=null,h.current=null)};return Za(()=>{if(!l)return a==="loading"&&f(),()=>{d()}},[a,f,l]),l?"loaded":a}const bc=(e,t)=>e!=="loaded"&&t==="beforeLoadOrError"||e==="failed"&&t==="onError",te=ce("div");te.displayName="Box";const[b0,vc]=Ja({strict:!1,name:"ButtonGroupContext"});function Ct(e){const{children:t,className:n,...r}=e,o=A.isValidElement(t)?A.cloneElement(t,{"aria-hidden":!0,focusable:!1}):t,s=ge("chakra-button__icon",n);return _(ce.span,{display:"inline-flex",alignSelf:"center",flexShrink:0,...r,className:s,children:o})}Ct.displayName="ButtonIcon";function Qn(e){const{label:t,placement:n,spacing:r="0.5rem",children:o=_(Qo,{color:"currentColor",width:"1em",height:"1em"}),className:s,__css:c,...i}=e,l=ge("chakra-button__spinner",s),a=n==="start"?"marginEnd":"marginStart",u=A.useMemo(()=>ec({display:"flex",alignItems:"center",position:t?"relative":"absolute",[a]:t?r:0,fontSize:"1em",lineHeight:"normal",...c}),[c,t,a,r]);return _(ce.div,{className:l,...i,__css:u,children:o})}Qn.displayName="ButtonSpinner";function wc(e){const[t,n]=A.useState(!e);return{ref:A.useCallback(s=>{s&&n(s.tagName==="BUTTON")},[]),type:t?"button":void 0}}const Ie=ue((e,t)=>{const n=vc(),r=Bt("Button",{...n,...e}),{isDisabled:o=n==null?void 0:n.isDisabled,isLoading:s,isActive:c,children:i,leftIcon:l,rightIcon:a,loadingText:u,iconSpacing:h="0.5rem",type:f,spinner:d,spinnerPlacement:g="start",className:p,as:m,shouldWrapChildren:x,...v}=yt(e),y=A.useMemo(()=>{const C={...r==null?void 0:r._focus,zIndex:1};return{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",...r,...!!n&&{_focus:C}}},[r,n]),{ref:b,type:S}=wc(m),E={rightIcon:a,leftIcon:l,iconSpacing:h,children:i,shouldWrapChildren:x};return U(ce.button,{disabled:o||s,ref:gc(t,b),as:m,type:f??S,"data-active":jr(c),"data-loading":jr(s),__css:y,className:ge("chakra-button",p),...v,children:[s&&g==="start"&&_(Qn,{className:"chakra-button__spinner--start",label:u,placement:"start",spacing:h,children:d}),s?u||_(ce.span,{opacity:0,children:_(Wr,{...E})}):_(Wr,{...E}),s&&g==="end"&&_(Qn,{className:"chakra-button__spinner--end",label:u,placement:"end",spacing:h,children:d})]})});Ie.displayName="Button";function Wr(e){const{leftIcon:t,rightIcon:n,children:r,iconSpacing:o,shouldWrapChildren:s}=e;return s?U("span",{style:{display:"contents"},children:[t&&_(Ct,{marginEnd:o,children:t}),r,n&&_(Ct,{marginStart:o,children:n})]}):U(Ce,{children:[t&&_(Ct,{marginEnd:o,children:t}),r,n&&_(Ct,{marginStart:o,children:n})]})}const ni=ue((e,t)=>{const{icon:n,children:r,isRound:o,"aria-label":s,...c}=e,i=n||r,l=A.isValidElement(i)?A.cloneElement(i,{"aria-hidden":!0,focusable:!1}):null;return _(Ie,{px:"0",py:"0",borderRadius:o?"full":void 0,ref:t,"aria-label":s,...c,children:l})});ni.displayName="IconButton";const[_c,ri]=tc("Card"),Sc=ue(function(t,n){const{className:r,children:o,direction:s="column",justify:c,align:i,...l}=yt(t),a=nc("Card",t);return _(ce.div,{ref:n,className:ge("chakra-card",r),__css:{display:"flex",flexDirection:s,justifyContent:c,alignItems:i,position:"relative",minWidth:0,wordWrap:"break-word",...a.container},...l,children:_(_c,{value:a,children:o})})}),Ec=ue(function(t,n){const{className:r,...o}=t,s=ri();return _(ce.div,{ref:n,className:ge("chakra-card__body",r),__css:s.body,...o})}),Cc=ue(function(t,n){const{className:r,...o}=t,s=ri();return _(ce.div,{ref:n,className:ge("chakra-card__header",r),__css:s.header,...o})}),ct=ue(function(t,n){const{className:r,centerContent:o,...s}=yt(t),c=Bt("Container",t);return _(ce.div,{ref:n,className:ge("chakra-container",r),...s,__css:{...c,...o&&{display:"flex",flexDirection:"column",alignItems:"center"}}})});ct.displayName="Container";const gr=ue(function(t,n){const{templateAreas:r,gap:o,rowGap:s,columnGap:c,column:i,row:l,autoFlow:a,autoRows:u,templateRows:h,autoColumns:f,templateColumns:d,...g}=t,p={display:"grid",gridTemplateAreas:r,gridGap:o,gridRowGap:s,gridColumnGap:c,gridAutoColumns:f,gridColumn:i,gridRow:l,gridAutoFlow:a,gridAutoRows:u,gridTemplateRows:h,gridTemplateColumns:d};return _(ce.div,{ref:n,__css:p,...g})});gr.displayName="Grid";const mr=ue(function(t,n){const{columns:r,spacingX:o,spacingY:s,spacing:c,minChildWidth:i,...l}=t,a=rc(),u=i?kc(i,a):Mc(r);return _(gr,{ref:n,gap:c,columnGap:o,rowGap:s,templateColumns:u,...l})});mr.displayName="SimpleGrid";function Nc(e){return typeof e=="number"?`${e}px`:e}function kc(e,t){return hr(e,n=>{const r=oc("sizes",n,Nc(n))(t);return n===null?null:`repeat(auto-fit, minmax(${r}, 1fr))`})}function Mc(e){return hr(e,t=>t===null?null:`repeat(${t}, minmax(0, 1fr))`)}const Zn=ue(function(t,n){const{htmlWidth:r,htmlHeight:o,alt:s,...c}=t;return _("img",{width:r,height:o,ref:n,alt:s,...c})});Zn.displayName="NativeImage";const oi=ue(function(t,n){const{fallbackSrc:r,fallback:o,src:s,srcSet:c,align:i,fit:l,loading:a,ignoreFallback:u,crossOrigin:h,fallbackStrategy:f="beforeLoadOrError",referrerPolicy:d,...g}=t,p=r!==void 0||o!==void 0,m=a!=null||u||!p,x=xc({...t,crossOrigin:h,ignoreFallback:m}),v=bc(x,f),y={ref:n,objectFit:l,objectPosition:i,...m?g:ic(g,["onError","onLoad"])};return v?o||_(ce.img,{as:Zn,className:"chakra-image__placeholder",src:r,...y}):_(ce.img,{as:Zn,src:s,srcSet:c,crossOrigin:h,loading:a,referrerPolicy:d,className:"chakra-image",...y})});oi.displayName="Image";const Ge=ue(function(t,n){const r=Bt("Link",t),{className:o,isExternal:s,...c}=yt(t);return _(ce.a,{target:s?"_blank":void 0,rel:s?"noopener":void 0,ref:n,className:ge("chakra-link",o),...c,__css:r})});Ge.displayName="Link";const ii=e=>_(ce.div,{className:"chakra-stack__item",...e,__css:{display:"inline-block",flex:"0 0 auto",minWidth:0,...e.__css}});ii.displayName="StackItem";function Pc(e){const{spacing:t,direction:n}=e,r={column:{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:t,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:t,my:0,borderLeftWidth:"1px",borderBottomWidth:0}};return{"&":hr(n,o=>r[o])}}const wn=ue((e,t)=>{const{isInline:n,direction:r,align:o,justify:s,spacing:c="0.5rem",wrap:i,children:l,divider:a,className:u,shouldWrapChildren:h,...f}=e,d=n?"row":r??"column",g=A.useMemo(()=>Pc({spacing:c,direction:d}),[c,d]),p=!!a,m=!h&&!p,x=A.useMemo(()=>{const y=dc(l);return m?y:y.map((b,S)=>{const E=typeof b.key<"u"?b.key:S,C=S+1===y.length,z=h?_(ii,{children:b},E):b;if(!p)return z;const D=A.cloneElement(a,{__css:g}),T=C?null:D;return U(A.Fragment,{children:[z,T]},E)})},[a,g,p,m,h,l]),v=ge("chakra-stack",u);return _(ce.div,{ref:t,display:"flex",alignItems:o,justifyContent:s,flexDirection:d,flexWrap:i,gap:p?void 0:c,className:v,...f,children:x})});wn.displayName="Stack";const si=ue((e,t)=>_(wn,{align:"center",...e,direction:"row",ref:t}));si.displayName="HStack";const yr=ue((e,t)=>_(wn,{align:"center",...e,direction:"column",ref:t}));yr.displayName="VStack";const Fe=ue(function(t,n){const r=Bt("Heading",t),{className:o,...s}=yt(t);return _(ce.h2,{ref:n,className:ge("chakra-heading",t.className),...s,__css:r})});Fe.displayName="Heading";const le=ue(function(t,n){const r=Bt("Text",t),{className:o,align:s,decoration:c,casing:i,...l}=yt(t),a=sc({textAlign:t.align,textDecoration:t.decoration,textTransform:t.casing});return _(ce.p,{ref:n,className:ge("chakra-text",t.className),...a,...l,__css:r})});le.displayName="Text";function ae(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=ae(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Ac={value:()=>{}};function _n(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new nn(n)}function nn(e){this._=e}function Tc(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}nn.prototype=_n.prototype={constructor:nn,on:function(e,t){var n=this._,r=Tc(e+"",n),o,s=-1,c=r.length;if(arguments.length<2){for(;++s<c;)if((o=(e=r[s]).type)&&(o=Ic(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<c;)if(o=(e=r[s]).type)n[o]=Yr(n[o],e.name,t);else if(t==null)for(o in n)n[o]=Yr(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new nn(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,s;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,o=s.length;r<o;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,s=r.length;o<s;++o)r[o].value.apply(t,n)}};function Ic(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function Yr(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Ac,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Jn="http://www.w3.org/1999/xhtml";const Xr={svg:"http://www.w3.org/2000/svg",xhtml:Jn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Xr.hasOwnProperty(t)?{space:Xr[t],local:e}:e}function Oc(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Jn&&t.documentElement.namespaceURI===Jn?t.createElement(e):t.createElementNS(n,e)}}function Dc(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ai(e){var t=Sn(e);return(t.local?Dc:Oc)(t)}function $c(){}function xr(e){return e==null?$c:function(){return this.querySelector(e)}}function zc(e){typeof e!="function"&&(e=xr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],c=s.length,i=r[o]=new Array(c),l,a,u=0;u<c;++u)(l=s[u])&&(a=e.call(l,l.__data__,u,s))&&("__data__"in l&&(a.__data__=l.__data__),i[u]=a);return new pe(r,this._parents)}function Rc(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Lc(){return[]}function ci(e){return e==null?Lc:function(){return this.querySelectorAll(e)}}function Hc(e){return function(){return Rc(e.apply(this,arguments))}}function Bc(e){typeof e=="function"?e=Hc(e):e=ci(e);for(var t=this._groups,n=t.length,r=[],o=[],s=0;s<n;++s)for(var c=t[s],i=c.length,l,a=0;a<i;++a)(l=c[a])&&(r.push(e.call(l,l.__data__,a,c)),o.push(l));return new pe(r,o)}function li(e){return function(){return this.matches(e)}}function ui(e){return function(t){return t.matches(e)}}var jc=Array.prototype.find;function Fc(e){return function(){return jc.call(this.children,e)}}function Vc(){return this.firstElementChild}function Wc(e){return this.select(e==null?Vc:Fc(typeof e=="function"?e:ui(e)))}var Yc=Array.prototype.filter;function Xc(){return Array.from(this.children)}function Gc(e){return function(){return Yc.call(this.children,e)}}function qc(e){return this.selectAll(e==null?Xc:Gc(typeof e=="function"?e:ui(e)))}function Uc(e){typeof e!="function"&&(e=li(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],c=s.length,i=r[o]=[],l,a=0;a<c;++a)(l=s[a])&&e.call(l,l.__data__,a,s)&&i.push(l);return new pe(r,this._parents)}function di(e){return new Array(e.length)}function Kc(){return new pe(this._enter||this._groups.map(di),this._parents)}function an(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}an.prototype={constructor:an,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Qc(e){return function(){return e}}function Zc(e,t,n,r,o,s){for(var c=0,i,l=t.length,a=s.length;c<a;++c)(i=t[c])?(i.__data__=s[c],r[c]=i):n[c]=new an(e,s[c]);for(;c<l;++c)(i=t[c])&&(o[c]=i)}function Jc(e,t,n,r,o,s,c){var i,l,a=new Map,u=t.length,h=s.length,f=new Array(u),d;for(i=0;i<u;++i)(l=t[i])&&(f[i]=d=c.call(l,l.__data__,i,t)+"",a.has(d)?o[i]=l:a.set(d,l));for(i=0;i<h;++i)d=c.call(e,s[i],i,s)+"",(l=a.get(d))?(r[i]=l,l.__data__=s[i],a.delete(d)):n[i]=new an(e,s[i]);for(i=0;i<u;++i)(l=t[i])&&a.get(f[i])===l&&(o[i]=l)}function el(e){return e.__data__}function tl(e,t){if(!arguments.length)return Array.from(this,el);var n=t?Jc:Zc,r=this._parents,o=this._groups;typeof e!="function"&&(e=Qc(e));for(var s=o.length,c=new Array(s),i=new Array(s),l=new Array(s),a=0;a<s;++a){var u=r[a],h=o[a],f=h.length,d=nl(e.call(u,u&&u.__data__,a,r)),g=d.length,p=i[a]=new Array(g),m=c[a]=new Array(g),x=l[a]=new Array(f);n(u,h,p,m,x,d,t);for(var v=0,y=0,b,S;v<g;++v)if(b=p[v]){for(v>=y&&(y=v+1);!(S=m[y])&&++y<g;);b._next=S||null}}return c=new pe(c,r),c._enter=i,c._exit=l,c}function nl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rl(){return new pe(this._exit||this._groups.map(di),this._parents)}function ol(e,t,n){var r=this.enter(),o=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?s.remove():n(s),r&&o?r.merge(o).order():o}function il(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,s=r.length,c=Math.min(o,s),i=new Array(o),l=0;l<c;++l)for(var a=n[l],u=r[l],h=a.length,f=i[l]=new Array(h),d,g=0;g<h;++g)(d=a[g]||u[g])&&(f[g]=d);for(;l<o;++l)i[l]=n[l];return new pe(i,this._parents)}function sl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,s=r[o],c;--o>=0;)(c=r[o])&&(s&&c.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(c,s),s=c);return this}function al(e){e||(e=cl);function t(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,o=new Array(r),s=0;s<r;++s){for(var c=n[s],i=c.length,l=o[s]=new Array(i),a,u=0;u<i;++u)(a=c[u])&&(l[u]=a);l.sort(t)}return new pe(o,this._parents).order()}function cl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ll(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ul(){return Array.from(this)}function dl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length;o<s;++o){var c=r[o];if(c)return c}return null}function fl(){let e=0;for(const t of this)++e;return e}function hl(){return!this.node()}function pl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],s=0,c=o.length,i;s<c;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this}function gl(e){return function(){this.removeAttribute(e)}}function ml(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yl(e,t){return function(){this.setAttribute(e,t)}}function xl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function bl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function vl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wl(e,t){var n=Sn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?ml:gl:typeof t=="function"?n.local?vl:bl:n.local?xl:yl)(n,t))}function fi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function _l(e){return function(){this.style.removeProperty(e)}}function Sl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function El(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Cl(e,t,n){return arguments.length>1?this.each((t==null?_l:typeof t=="function"?El:Sl)(e,t,n??"")):lt(this.node(),e)}function lt(e,t){return e.style.getPropertyValue(t)||fi(e).getComputedStyle(e,null).getPropertyValue(t)}function Nl(e){return function(){delete this[e]}}function kl(e,t){return function(){this[e]=t}}function Ml(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Pl(e,t){return arguments.length>1?this.each((t==null?Nl:typeof t=="function"?Ml:kl)(e,t)):this.node()[e]}function hi(e){return e.trim().split(/^|\s+/)}function br(e){return e.classList||new pi(e)}function pi(e){this._node=e,this._names=hi(e.getAttribute("class")||"")}pi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gi(e,t){for(var n=br(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function mi(e,t){for(var n=br(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Al(e){return function(){gi(this,e)}}function Tl(e){return function(){mi(this,e)}}function Il(e,t){return function(){(t.apply(this,arguments)?gi:mi)(this,e)}}function Ol(e,t){var n=hi(e+"");if(arguments.length<2){for(var r=br(this.node()),o=-1,s=n.length;++o<s;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Il:t?Al:Tl)(n,t))}function Dl(){this.textContent=""}function $l(e){return function(){this.textContent=e}}function zl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Rl(e){return arguments.length?this.each(e==null?Dl:(typeof e=="function"?zl:$l)(e)):this.node().textContent}function Ll(){this.innerHTML=""}function Hl(e){return function(){this.innerHTML=e}}function Bl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function jl(e){return arguments.length?this.each(e==null?Ll:(typeof e=="function"?Bl:Hl)(e)):this.node().innerHTML}function Fl(){this.nextSibling&&this.parentNode.appendChild(this)}function Vl(){return this.each(Fl)}function Wl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yl(){return this.each(Wl)}function Xl(e){var t=typeof e=="function"?e:ai(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Gl(){return null}function ql(e,t){var n=typeof e=="function"?e:ai(e),r=t==null?Gl:typeof t=="function"?t:xr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ul(){var e=this.parentNode;e&&e.removeChild(this)}function Kl(){return this.each(Ul)}function Ql(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Zl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jl(e){return this.select(e?Zl:Ql)}function eu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function tu(e){return function(t){e.call(this,t,this.__data__)}}function nu(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ru(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,s;n<o;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function ou(e,t,n){return function(){var r=this.__on,o,s=tu(t);if(r){for(var c=0,i=r.length;c<i;++c)if((o=r[c]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=s,o.options=n),o.value=t;return}}this.addEventListener(e.type,s,n),o={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(o):this.__on=[o]}}function iu(e,t,n){var r=nu(e+""),o,s=r.length,c;if(arguments.length<2){var i=this.node().__on;if(i){for(var l=0,a=i.length,u;l<a;++l)for(o=0,u=i[l];o<s;++o)if((c=r[o]).type===u.type&&c.name===u.name)return u.value}return}for(i=t?ou:ru,o=0;o<s;++o)this.each(i(r[o],t,n));return this}function yi(e,t,n){var r=fi(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function su(e,t){return function(){return yi(this,e,t)}}function au(e,t){return function(){return yi(this,e,t.apply(this,arguments))}}function cu(e,t){return this.each((typeof t=="function"?au:su)(e,t))}function*lu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,s=r.length,c;o<s;++o)(c=r[o])&&(yield c)}var xi=[null];function pe(e,t){this._groups=e,this._parents=t}function jt(){return new pe([[document.documentElement]],xi)}function uu(){return this}pe.prototype=jt.prototype={constructor:pe,select:zc,selectAll:Bc,selectChild:Wc,selectChildren:qc,filter:Uc,data:tl,enter:Kc,exit:rl,join:ol,merge:il,selection:uu,order:sl,sort:al,call:ll,nodes:ul,node:dl,size:fl,empty:hl,each:pl,attr:wl,style:Cl,property:Pl,classed:Ol,text:Rl,html:jl,raise:Vl,lower:Yl,append:Xl,insert:ql,remove:Kl,clone:Jl,datum:eu,on:iu,dispatch:cu,[Symbol.iterator]:lu};function he(e){return typeof e=="string"?new pe([[document.querySelector(e)]],[document.documentElement]):new pe([[e]],xi)}function du(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ye(e,t){if(e=du(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const fu={passive:!1},At={capture:!0,passive:!1};function jn(e){e.stopImmediatePropagation()}function st(e){e.preventDefault(),e.stopImmediatePropagation()}function bi(e){var t=e.document.documentElement,n=he(e).on("dragstart.drag",st,At);"onselectstart"in t?n.on("selectstart.drag",st,At):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function vi(e,t){var n=e.document.documentElement,r=he(e).on("dragstart.drag",null);t&&(r.on("click.drag",st,At),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Gt=e=>()=>e;function er(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:s,x:c,y:i,dx:l,dy:a,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:c,enumerable:!0,configurable:!0},y:{value:i,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:a,enumerable:!0,configurable:!0},_:{value:u}})}er.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function hu(e){return!e.ctrlKey&&!e.button}function pu(){return this.parentNode}function gu(e,t){return t??{x:e.x,y:e.y}}function mu(){return navigator.maxTouchPoints||"ontouchstart"in this}function wi(){var e=hu,t=pu,n=gu,r=mu,o={},s=_n("start","drag","end"),c=0,i,l,a,u,h=0;function f(b){b.on("mousedown.drag",d).filter(r).on("touchstart.drag",m).on("touchmove.drag",x,fu).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(b,S){if(!(u||!e.call(this,b,S))){var E=y(this,t.call(this,b,S),b,S,"mouse");E&&(he(b.view).on("mousemove.drag",g,At).on("mouseup.drag",p,At),bi(b.view),jn(b),a=!1,i=b.clientX,l=b.clientY,E("start",b))}}function g(b){if(st(b),!a){var S=b.clientX-i,E=b.clientY-l;a=S*S+E*E>h}o.mouse("drag",b)}function p(b){he(b.view).on("mousemove.drag mouseup.drag",null),vi(b.view,a),st(b),o.mouse("end",b)}function m(b,S){if(e.call(this,b,S)){var E=b.changedTouches,C=t.call(this,b,S),P=E.length,z,D;for(z=0;z<P;++z)(D=y(this,C,b,S,E[z].identifier,E[z]))&&(jn(b),D("start",b,E[z]))}}function x(b){var S=b.changedTouches,E=S.length,C,P;for(C=0;C<E;++C)(P=o[S[C].identifier])&&(st(b),P("drag",b,S[C]))}function v(b){var S=b.changedTouches,E=S.length,C,P;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),C=0;C<E;++C)(P=o[S[C].identifier])&&(jn(b),P("end",b,S[C]))}function y(b,S,E,C,P,z){var D=s.copy(),T=ye(z||E,S),L,H,w;if((w=n.call(b,new er("beforestart",{sourceEvent:E,target:f,identifier:P,active:c,x:T[0],y:T[1],dx:0,dy:0,dispatch:D}),C))!=null)return L=w.x-T[0]||0,H=w.y-T[1]||0,function I(N,$,B){var k=T,O;switch(N){case"start":o[P]=I,O=c++;break;case"end":delete o[P],--c;case"drag":T=ye(B||$,S),O=c;break}D.call(N,b,new er(N,{sourceEvent:$,subject:w,target:f,identifier:P,active:O,x:T[0]+L,y:T[1]+H,dx:T[0]-k[0],dy:T[1]-k[1],dispatch:D}),C)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Gt(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Gt(b),f):t},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Gt(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Gt(!!b),f):r},f.on=function(){var b=s.on.apply(s,arguments);return b===s?f:b},f.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,f):Math.sqrt(h)},f}function vr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ft(){}var Tt=.7,cn=1/Tt,at="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Se="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yu=/^#([0-9a-f]{3,8})$/,xu=new RegExp(`^rgb\\(${at},${at},${at}\\)$`),bu=new RegExp(`^rgb\\(${Se},${Se},${Se}\\)$`),vu=new RegExp(`^rgba\\(${at},${at},${at},${It}\\)$`),wu=new RegExp(`^rgba\\(${Se},${Se},${Se},${It}\\)$`),_u=new RegExp(`^hsl\\(${It},${Se},${Se}\\)$`),Su=new RegExp(`^hsla\\(${It},${Se},${Se},${It}\\)$`),Gr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vr(Ft,Ot,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qr,formatHex:qr,formatHex8:Eu,formatHsl:Cu,formatRgb:Ur,toString:Ur});function qr(){return this.rgb().formatHex()}function Eu(){return this.rgb().formatHex8()}function Cu(){return Si(this).formatHsl()}function Ur(){return this.rgb().formatRgb()}function Ot(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=yu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Kr(t):n===3?new fe(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?qt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?qt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xu.exec(e))?new fe(t[1],t[2],t[3],1):(t=bu.exec(e))?new fe(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vu.exec(e))?qt(t[1],t[2],t[3],t[4]):(t=wu.exec(e))?qt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_u.exec(e))?Jr(t[1],t[2]/100,t[3]/100,1):(t=Su.exec(e))?Jr(t[1],t[2]/100,t[3]/100,t[4]):Gr.hasOwnProperty(e)?Kr(Gr[e]):e==="transparent"?new fe(NaN,NaN,NaN,0):null}function Kr(e){return new fe(e>>16&255,e>>8&255,e&255,1)}function qt(e,t,n,r){return r<=0&&(e=t=n=NaN),new fe(e,t,n,r)}function Nu(e){return e instanceof Ft||(e=Ot(e)),e?(e=e.rgb(),new fe(e.r,e.g,e.b,e.opacity)):new fe}function tr(e,t,n,r){return arguments.length===1?Nu(e):new fe(e,t,n,r??1)}function fe(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}vr(fe,tr,_i(Ft,{brighter(e){return e=e==null?cn:Math.pow(cn,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tt:Math.pow(Tt,e),new fe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fe(Ue(this.r),Ue(this.g),Ue(this.b),ln(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qr,formatHex:Qr,formatHex8:ku,formatRgb:Zr,toString:Zr}));function Qr(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function ku(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zr(){const e=ln(this.opacity);return`${e===1?"rgb(":"rgba("}${Ue(this.r)}, ${Ue(this.g)}, ${Ue(this.b)}${e===1?")":`, ${e})`}`}function ln(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ue(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qe(e){return e=Ue(e),(e<16?"0":"")+e.toString(16)}function Jr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xe(e,t,n,r)}function Si(e){if(e instanceof xe)return new xe(e.h,e.s,e.l,e.opacity);if(e instanceof Ft||(e=Ot(e)),!e)return new xe;if(e instanceof xe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),s=Math.max(t,n,r),c=NaN,i=s-o,l=(s+o)/2;return i?(t===s?c=(n-r)/i+(n<r)*6:n===s?c=(r-t)/i+2:c=(t-n)/i+4,i/=l<.5?s+o:2-s-o,c*=60):i=l>0&&l<1?0:c,new xe(c,i,l,e.opacity)}function Mu(e,t,n,r){return arguments.length===1?Si(e):new xe(e,t,n,r??1)}function xe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}vr(xe,Mu,_i(Ft,{brighter(e){return e=e==null?cn:Math.pow(cn,e),new xe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tt:Math.pow(Tt,e),new xe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new fe(Fn(e>=240?e-240:e+120,o,r),Fn(e,o,r),Fn(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new xe(eo(this.h),Ut(this.s),Ut(this.l),ln(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ln(this.opacity);return`${e===1?"hsl(":"hsla("}${eo(this.h)}, ${Ut(this.s)*100}%, ${Ut(this.l)*100}%${e===1?")":`, ${e})`}`}}));function eo(e){return e=(e||0)%360,e<0?e+360:e}function Ut(e){return Math.max(0,Math.min(1,e||0))}function Fn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ei=e=>()=>e;function Pu(e,t){return function(n){return e+n*t}}function Au(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Tu(e){return(e=+e)==1?Ci:function(t,n){return n-t?Au(t,n,e):Ei(isNaN(t)?n:t)}}function Ci(e,t){var n=t-e;return n?Pu(e,n):Ei(isNaN(e)?t:e)}const to=function e(t){var n=Tu(t);function r(o,s){var c=n((o=tr(o)).r,(s=tr(s)).r),i=n(o.g,s.g),l=n(o.b,s.b),a=Ci(o.opacity,s.opacity);return function(u){return o.r=c(u),o.g=i(u),o.b=l(u),o.opacity=a(u),o+""}}return r.gamma=e,r}(1);function Le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var nr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vn=new RegExp(nr.source,"g");function Iu(e){return function(){return e}}function Ou(e){return function(t){return e(t)+""}}function Du(e,t){var n=nr.lastIndex=Vn.lastIndex=0,r,o,s,c=-1,i=[],l=[];for(e=e+"",t=t+"";(r=nr.exec(e))&&(o=Vn.exec(t));)(s=o.index)>n&&(s=t.slice(n,s),i[c]?i[c]+=s:i[++c]=s),(r=r[0])===(o=o[0])?i[c]?i[c]+=o:i[++c]=o:(i[++c]=null,l.push({i:c,x:Le(r,o)})),n=Vn.lastIndex;return n<t.length&&(s=t.slice(n),i[c]?i[c]+=s:i[++c]=s),i.length<2?l[0]?Ou(l[0].x):Iu(t):(t=l.length,function(a){for(var u=0,h;u<t;++u)i[(h=l[u]).i]=h.x(a);return i.join("")})}var no=180/Math.PI,rr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ni(e,t,n,r,o,s){var c,i,l;return(c=Math.sqrt(e*e+t*t))&&(e/=c,t/=c),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(i=Math.sqrt(n*n+r*r))&&(n/=i,r/=i,l/=i),e*r<t*n&&(e=-e,t=-t,l=-l,c=-c),{translateX:o,translateY:s,rotate:Math.atan2(t,e)*no,skewX:Math.atan(l)*no,scaleX:c,scaleY:i}}var Kt;function $u(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?rr:Ni(t.a,t.b,t.c,t.d,t.e,t.f)}function zu(e){return e==null||(Kt||(Kt=document.createElementNS("http://www.w3.org/2000/svg","g")),Kt.setAttribute("transform",e),!(e=Kt.transform.baseVal.consolidate()))?rr:(e=e.matrix,Ni(e.a,e.b,e.c,e.d,e.e,e.f))}function ki(e,t,n,r){function o(a){return a.length?a.pop()+" ":""}function s(a,u,h,f,d,g){if(a!==h||u!==f){var p=d.push("translate(",null,t,null,n);g.push({i:p-4,x:Le(a,h)},{i:p-2,x:Le(u,f)})}else(h||f)&&d.push("translate("+h+t+f+n)}function c(a,u,h,f){a!==u?(a-u>180?u+=360:u-a>180&&(a+=360),f.push({i:h.push(o(h)+"rotate(",null,r)-2,x:Le(a,u)})):u&&h.push(o(h)+"rotate("+u+r)}function i(a,u,h,f){a!==u?f.push({i:h.push(o(h)+"skewX(",null,r)-2,x:Le(a,u)}):u&&h.push(o(h)+"skewX("+u+r)}function l(a,u,h,f,d,g){if(a!==h||u!==f){var p=d.push(o(d)+"scale(",null,",",null,")");g.push({i:p-4,x:Le(a,h)},{i:p-2,x:Le(u,f)})}else(h!==1||f!==1)&&d.push(o(d)+"scale("+h+","+f+")")}return function(a,u){var h=[],f=[];return a=e(a),u=e(u),s(a.translateX,a.translateY,u.translateX,u.translateY,h,f),c(a.rotate,u.rotate,h,f),i(a.skewX,u.skewX,h,f),l(a.scaleX,a.scaleY,u.scaleX,u.scaleY,h,f),a=u=null,function(d){for(var g=-1,p=f.length,m;++g<p;)h[(m=f[g]).i]=m.x(d);return h.join("")}}}var Ru=ki($u,"px, ","px)","deg)"),Lu=ki(zu,", ",")",")"),Hu=1e-12;function ro(e){return((e=Math.exp(e))+1/e)/2}function Bu(e){return((e=Math.exp(e))-1/e)/2}function ju(e){return((e=Math.exp(2*e))-1)/(e+1)}const Fu=function e(t,n,r){function o(s,c){var i=s[0],l=s[1],a=s[2],u=c[0],h=c[1],f=c[2],d=u-i,g=h-l,p=d*d+g*g,m,x;if(p<Hu)x=Math.log(f/a)/t,m=function(C){return[i+C*d,l+C*g,a*Math.exp(t*C*x)]};else{var v=Math.sqrt(p),y=(f*f-a*a+r*p)/(2*a*n*v),b=(f*f-a*a-r*p)/(2*f*n*v),S=Math.log(Math.sqrt(y*y+1)-y),E=Math.log(Math.sqrt(b*b+1)-b);x=(E-S)/t,m=function(C){var P=C*x,z=ro(S),D=a/(n*v)*(z*ju(t*P+S)-Bu(S));return[i+D*d,l+D*g,a*z/ro(t*P+S)]}}return m.duration=x*1e3*t/Math.SQRT2,m}return o.rho=function(s){var c=Math.max(.001,+s),i=c*c,l=i*i;return e(c,i,l)},o}(Math.SQRT2,2,4);var ut=0,Nt=0,St=0,Mi=1e3,un,kt,dn=0,Qe=0,En=0,Dt=typeof performance=="object"&&performance.now?performance:Date,Pi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wr(){return Qe||(Pi(Vu),Qe=Dt.now()+En)}function Vu(){Qe=0}function fn(){this._call=this._time=this._next=null}fn.prototype=Ai.prototype={constructor:fn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wr():+n)+(t==null?0:+t),!this._next&&kt!==this&&(kt?kt._next=this:un=this,kt=this),this._call=e,this._time=n,or()},stop:function(){this._call&&(this._call=null,this._time=1/0,or())}};function Ai(e,t,n){var r=new fn;return r.restart(e,t,n),r}function Wu(){wr(),++ut;for(var e=un,t;e;)(t=Qe-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ut}function oo(){Qe=(dn=Dt.now())+En,ut=Nt=0;try{Wu()}finally{ut=0,Xu(),Qe=0}}function Yu(){var e=Dt.now(),t=e-dn;t>Mi&&(En-=t,dn=e)}function Xu(){for(var e,t=un,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:un=n);kt=e,or(r)}function or(e){if(!ut){Nt&&(Nt=clearTimeout(Nt));var t=e-Qe;t>24?(e<1/0&&(Nt=setTimeout(oo,e-Dt.now()-En)),St&&(St=clearInterval(St))):(St||(dn=Dt.now(),St=setInterval(Yu,Mi)),ut=1,Pi(oo))}}function io(e,t,n){var r=new fn;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var Gu=_n("start","end","cancel","interrupt"),qu=[],Ti=0,so=1,ir=2,rn=3,ao=4,sr=5,on=6;function Cn(e,t,n,r,o,s){var c=e.__transition;if(!c)e.__transition={};else if(n in c)return;Uu(e,n,{name:t,index:r,group:o,on:Gu,tween:qu,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ti})}function _r(e,t){var n=we(e,t);if(n.state>Ti)throw new Error("too late; already scheduled");return n}function Ne(e,t){var n=we(e,t);if(n.state>rn)throw new Error("too late; already running");return n}function we(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Uu(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Ai(s,0,n.time);function s(a){n.state=so,n.timer.restart(c,n.delay,n.time),n.delay<=a&&c(a-n.delay)}function c(a){var u,h,f,d;if(n.state!==so)return l();for(u in r)if(d=r[u],d.name===n.name){if(d.state===rn)return io(c);d.state===ao?(d.state=on,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[u]):+u<t&&(d.state=on,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[u])}if(io(function(){n.state===rn&&(n.state=ao,n.timer.restart(i,n.delay,n.time),i(a))}),n.state=ir,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ir){for(n.state=rn,o=new Array(f=n.tween.length),u=0,h=-1;u<f;++u)(d=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++h]=d);o.length=h+1}}function i(a){for(var u=a<n.duration?n.ease.call(null,a/n.duration):(n.timer.restart(l),n.state=sr,1),h=-1,f=o.length;++h<f;)o[h].call(e,u);n.state===sr&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=on,n.timer.stop(),delete r[t];for(var a in r)return;delete e.__transition}}function sn(e,t){var n=e.__transition,r,o,s=!0,c;if(n){t=t==null?null:t+"";for(c in n){if((r=n[c]).name!==t){s=!1;continue}o=r.state>ir&&r.state<sr,r.state=on,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[c]}s&&delete e.__transition}}function Ku(e){return this.each(function(){sn(this,e)})}function Qu(e,t){var n,r;return function(){var o=Ne(this,e),s=o.tween;if(s!==n){r=n=s;for(var c=0,i=r.length;c<i;++c)if(r[c].name===t){r=r.slice(),r.splice(c,1);break}}o.tween=r}}function Zu(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var s=Ne(this,e),c=s.tween;if(c!==r){o=(r=c).slice();for(var i={name:t,value:n},l=0,a=o.length;l<a;++l)if(o[l].name===t){o[l]=i;break}l===a&&o.push(i)}s.tween=o}}function Ju(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=we(this.node(),n).tween,o=0,s=r.length,c;o<s;++o)if((c=r[o]).name===e)return c.value;return null}return this.each((t==null?Qu:Zu)(n,e,t))}function Sr(e,t,n){var r=e._id;return e.each(function(){var o=Ne(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return we(o,r).value[t]}}function Ii(e,t){var n;return(typeof t=="number"?Le:t instanceof Ot?to:(n=Ot(t))?(t=n,to):Du)(e,t)}function ed(e){return function(){this.removeAttribute(e)}}function td(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nd(e,t,n){var r,o=n+"",s;return function(){var c=this.getAttribute(e);return c===o?null:c===r?s:s=t(r=c,n)}}function rd(e,t,n){var r,o=n+"",s;return function(){var c=this.getAttributeNS(e.space,e.local);return c===o?null:c===r?s:s=t(r=c,n)}}function od(e,t,n){var r,o,s;return function(){var c,i=n(this),l;return i==null?void this.removeAttribute(e):(c=this.getAttribute(e),l=i+"",c===l?null:c===r&&l===o?s:(o=l,s=t(r=c,i)))}}function id(e,t,n){var r,o,s;return function(){var c,i=n(this),l;return i==null?void this.removeAttributeNS(e.space,e.local):(c=this.getAttributeNS(e.space,e.local),l=i+"",c===l?null:c===r&&l===o?s:(o=l,s=t(r=c,i)))}}function sd(e,t){var n=Sn(e),r=n==="transform"?Lu:Ii;return this.attrTween(e,typeof t=="function"?(n.local?id:od)(n,r,Sr(this,"attr."+e,t)):t==null?(n.local?td:ed)(n):(n.local?rd:nd)(n,r,t))}function ad(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function cd(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function ld(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&cd(e,s)),n}return o._value=t,o}function ud(e,t){var n,r;function o(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&ad(e,s)),n}return o._value=t,o}function dd(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Sn(e);return this.tween(n,(r.local?ld:ud)(r,t))}function fd(e,t){return function(){_r(this,e).delay=+t.apply(this,arguments)}}function hd(e,t){return t=+t,function(){_r(this,e).delay=t}}function pd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fd:hd)(t,e)):we(this.node(),t).delay}function gd(e,t){return function(){Ne(this,e).duration=+t.apply(this,arguments)}}function md(e,t){return t=+t,function(){Ne(this,e).duration=t}}function yd(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gd:md)(t,e)):we(this.node(),t).duration}function xd(e,t){if(typeof t!="function")throw new Error;return function(){Ne(this,e).ease=t}}function bd(e){var t=this._id;return arguments.length?this.each(xd(t,e)):we(this.node(),t).ease}function vd(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ne(this,e).ease=n}}function wd(e){if(typeof e!="function")throw new Error;return this.each(vd(this._id,e))}function _d(e){typeof e!="function"&&(e=li(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var s=t[o],c=s.length,i=r[o]=[],l,a=0;a<c;++a)(l=s[a])&&e.call(l,l.__data__,a,s)&&i.push(l);return new Oe(r,this._parents,this._name,this._id)}function Sd(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,s=Math.min(r,o),c=new Array(r),i=0;i<s;++i)for(var l=t[i],a=n[i],u=l.length,h=c[i]=new Array(u),f,d=0;d<u;++d)(f=l[d]||a[d])&&(h[d]=f);for(;i<r;++i)c[i]=t[i];return new Oe(c,this._parents,this._name,this._id)}function Ed(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Cd(e,t,n){var r,o,s=Ed(t)?_r:Ne;return function(){var c=s(this,e),i=c.on;i!==r&&(o=(r=i).copy()).on(t,n),c.on=o}}function Nd(e,t){var n=this._id;return arguments.length<2?we(this.node(),n).on.on(e):this.each(Cd(n,e,t))}function kd(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Md(){return this.on("end.remove",kd(this._id))}function Pd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xr(e));for(var r=this._groups,o=r.length,s=new Array(o),c=0;c<o;++c)for(var i=r[c],l=i.length,a=s[c]=new Array(l),u,h,f=0;f<l;++f)(u=i[f])&&(h=e.call(u,u.__data__,f,i))&&("__data__"in u&&(h.__data__=u.__data__),a[f]=h,Cn(a[f],t,n,f,a,we(u,n)));return new Oe(s,this._parents,t,n)}function Ad(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ci(e));for(var r=this._groups,o=r.length,s=[],c=[],i=0;i<o;++i)for(var l=r[i],a=l.length,u,h=0;h<a;++h)if(u=l[h]){for(var f=e.call(u,u.__data__,h,l),d,g=we(u,n),p=0,m=f.length;p<m;++p)(d=f[p])&&Cn(d,t,n,p,f,g);s.push(f),c.push(u)}return new Oe(s,c,t,n)}var Td=jt.prototype.constructor;function Id(){return new Td(this._groups,this._parents)}function Od(e,t){var n,r,o;return function(){var s=lt(this,e),c=(this.style.removeProperty(e),lt(this,e));return s===c?null:s===n&&c===r?o:o=t(n=s,r=c)}}function Oi(e){return function(){this.style.removeProperty(e)}}function Dd(e,t,n){var r,o=n+"",s;return function(){var c=lt(this,e);return c===o?null:c===r?s:s=t(r=c,n)}}function $d(e,t,n){var r,o,s;return function(){var c=lt(this,e),i=n(this),l=i+"";return i==null&&(l=i=(this.style.removeProperty(e),lt(this,e))),c===l?null:c===r&&l===o?s:(o=l,s=t(r=c,i))}}function zd(e,t){var n,r,o,s="style."+t,c="end."+s,i;return function(){var l=Ne(this,e),a=l.on,u=l.value[s]==null?i||(i=Oi(t)):void 0;(a!==n||o!==u)&&(r=(n=a).copy()).on(c,o=u),l.on=r}}function Rd(e,t,n){var r=(e+="")=="transform"?Ru:Ii;return t==null?this.styleTween(e,Od(e,r)).on("end.style."+e,Oi(e)):typeof t=="function"?this.styleTween(e,$d(e,r,Sr(this,"style."+e,t))).each(zd(this._id,e)):this.styleTween(e,Dd(e,r,t),n).on("end.style."+e,null)}function Ld(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Hd(e,t,n){var r,o;function s(){var c=t.apply(this,arguments);return c!==o&&(r=(o=c)&&Ld(e,c,n)),r}return s._value=t,s}function Bd(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Hd(e,t,n??""))}function jd(e){return function(){this.textContent=e}}function Fd(e){return function(){var t=e(this);this.textContent=t??""}}function Vd(e){return this.tween("text",typeof e=="function"?Fd(Sr(this,"text",e)):jd(e==null?"":e+""))}function Wd(e){return function(t){this.textContent=e.call(this,t)}}function Yd(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&Wd(o)),t}return r._value=e,r}function Xd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Yd(e))}function Gd(){for(var e=this._name,t=this._id,n=Di(),r=this._groups,o=r.length,s=0;s<o;++s)for(var c=r[s],i=c.length,l,a=0;a<i;++a)if(l=c[a]){var u=we(l,t);Cn(l,e,n,a,c,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Oe(r,this._parents,e,n)}function qd(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(s,c){var i={value:c},l={value:function(){--o===0&&s()}};n.each(function(){var a=Ne(this,r),u=a.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(i),t._.interrupt.push(i),t._.end.push(l)),a.on=t}),o===0&&s()})}var Ud=0;function Oe(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Di(){return++Ud}var Pe=jt.prototype;Oe.prototype={constructor:Oe,select:Pd,selectAll:Ad,selectChild:Pe.selectChild,selectChildren:Pe.selectChildren,filter:_d,merge:Sd,selection:Id,transition:Gd,call:Pe.call,nodes:Pe.nodes,node:Pe.node,size:Pe.size,empty:Pe.empty,each:Pe.each,on:Nd,attr:sd,attrTween:dd,style:Rd,styleTween:Bd,text:Vd,textTween:Xd,remove:Md,tween:Ju,delay:pd,duration:yd,ease:bd,easeVarying:wd,end:qd,[Symbol.iterator]:Pe[Symbol.iterator]};function Kd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Qd={time:null,delay:0,duration:250,ease:Kd};function Zd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Jd(e){var t,n;e instanceof Oe?(t=e._id,e=e._name):(t=Di(),(n=Qd).time=wr(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,s=0;s<o;++s)for(var c=r[s],i=c.length,l,a=0;a<i;++a)(l=c[a])&&Cn(l,e,t,a,c,n||Zd(l,t));return new Oe(r,this._parents,e,t)}jt.prototype.interrupt=Ku;jt.prototype.transition=Jd;const Qt=e=>()=>e;function ef(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Ae(e,t,n){this.k=e,this.x=t,this.y=n}Ae.prototype={constructor:Ae,scale:function(e){return e===1?this:new Ae(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ae(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Nn=new Ae(1,0,0);$i.prototype=Ae.prototype;function $i(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Nn;return e.__zoom}function Wn(e){e.stopImmediatePropagation()}function Et(e){e.preventDefault(),e.stopImmediatePropagation()}function tf(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function nf(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function co(){return this.__zoom||Nn}function rf(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function of(){return navigator.maxTouchPoints||"ontouchstart"in this}function sf(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],c=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),c>s?(s+c)/2:Math.min(0,s)||Math.max(0,c))}function zi(){var e=tf,t=nf,n=sf,r=rf,o=of,s=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],i=250,l=Fu,a=_n("start","zoom","end"),u,h,f,d=500,g=150,p=0,m=10;function x(w){w.property("__zoom",co).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",z).on("dblclick.zoom",D).filter(o).on("touchstart.zoom",T).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(w,I,N,$){var B=w.selection?w.selection():w;B.property("__zoom",co),w!==B?S(w,I,N,$):B.interrupt().each(function(){E(this,arguments).event($).start().zoom(null,typeof I=="function"?I.apply(this,arguments):I).end()})},x.scaleBy=function(w,I,N,$){x.scaleTo(w,function(){var B=this.__zoom.k,k=typeof I=="function"?I.apply(this,arguments):I;return B*k},N,$)},x.scaleTo=function(w,I,N,$){x.transform(w,function(){var B=t.apply(this,arguments),k=this.__zoom,O=N==null?b(B):typeof N=="function"?N.apply(this,arguments):N,R=k.invert(O),j=typeof I=="function"?I.apply(this,arguments):I;return n(y(v(k,j),O,R),B,c)},N,$)},x.translateBy=function(w,I,N,$){x.transform(w,function(){return n(this.__zoom.translate(typeof I=="function"?I.apply(this,arguments):I,typeof N=="function"?N.apply(this,arguments):N),t.apply(this,arguments),c)},null,$)},x.translateTo=function(w,I,N,$,B){x.transform(w,function(){var k=t.apply(this,arguments),O=this.__zoom,R=$==null?b(k):typeof $=="function"?$.apply(this,arguments):$;return n(Nn.translate(R[0],R[1]).scale(O.k).translate(typeof I=="function"?-I.apply(this,arguments):-I,typeof N=="function"?-N.apply(this,arguments):-N),k,c)},$,B)};function v(w,I){return I=Math.max(s[0],Math.min(s[1],I)),I===w.k?w:new Ae(I,w.x,w.y)}function y(w,I,N){var $=I[0]-N[0]*w.k,B=I[1]-N[1]*w.k;return $===w.x&&B===w.y?w:new Ae(w.k,$,B)}function b(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function S(w,I,N,$){w.on("start.zoom",function(){E(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event($).end()}).tween("zoom",function(){var B=this,k=arguments,O=E(B,k).event($),R=t.apply(B,k),j=N==null?b(R):typeof N=="function"?N.apply(B,k):N,Y=Math.max(R[1][0]-R[0][0],R[1][1]-R[0][1]),M=B.__zoom,G=typeof I=="function"?I.apply(B,k):I,F=l(M.invert(j).concat(Y/M.k),G.invert(j).concat(Y/G.k));return function(V){if(V===1)V=G;else{var W=F(V),q=Y/W[2];V=new Ae(q,j[0]-W[0]*q,j[1]-W[1]*q)}O.zoom(null,V)}})}function E(w,I,N){return!N&&w.__zooming||new C(w,I)}function C(w,I){this.that=w,this.args=I,this.active=0,this.sourceEvent=null,this.extent=t.apply(w,I),this.taps=0}C.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,I){return this.mouse&&w!=="mouse"&&(this.mouse[1]=I.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=I.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=I.invert(this.touch1[0])),this.that.__zoom=I,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var I=he(this.that).datum();a.call(w,this.that,new ef(w,{sourceEvent:this.sourceEvent,target:x,type:w,transform:this.that.__zoom,dispatch:a}),I)}};function P(w,...I){if(!e.apply(this,arguments))return;var N=E(this,I).event(w),$=this.__zoom,B=Math.max(s[0],Math.min(s[1],$.k*Math.pow(2,r.apply(this,arguments)))),k=ye(w);if(N.wheel)(N.mouse[0][0]!==k[0]||N.mouse[0][1]!==k[1])&&(N.mouse[1]=$.invert(N.mouse[0]=k)),clearTimeout(N.wheel);else{if($.k===B)return;N.mouse=[k,$.invert(k)],sn(this),N.start()}Et(w),N.wheel=setTimeout(O,g),N.zoom("mouse",n(y(v($,B),N.mouse[0],N.mouse[1]),N.extent,c));function O(){N.wheel=null,N.end()}}function z(w,...I){if(f||!e.apply(this,arguments))return;var N=w.currentTarget,$=E(this,I,!0).event(w),B=he(w.view).on("mousemove.zoom",j,!0).on("mouseup.zoom",Y,!0),k=ye(w,N),O=w.clientX,R=w.clientY;bi(w.view),Wn(w),$.mouse=[k,this.__zoom.invert(k)],sn(this),$.start();function j(M){if(Et(M),!$.moved){var G=M.clientX-O,F=M.clientY-R;$.moved=G*G+F*F>p}$.event(M).zoom("mouse",n(y($.that.__zoom,$.mouse[0]=ye(M,N),$.mouse[1]),$.extent,c))}function Y(M){B.on("mousemove.zoom mouseup.zoom",null),vi(M.view,$.moved),Et(M),$.event(M).end()}}function D(w,...I){if(e.apply(this,arguments)){var N=this.__zoom,$=ye(w.changedTouches?w.changedTouches[0]:w,this),B=N.invert($),k=N.k*(w.shiftKey?.5:2),O=n(y(v(N,k),$,B),t.apply(this,I),c);Et(w),i>0?he(this).transition().duration(i).call(S,O,$,w):he(this).call(x.transform,O,$,w)}}function T(w,...I){if(e.apply(this,arguments)){var N=w.touches,$=N.length,B=E(this,I,w.changedTouches.length===$).event(w),k,O,R,j;for(Wn(w),O=0;O<$;++O)R=N[O],j=ye(R,this),j=[j,this.__zoom.invert(j),R.identifier],B.touch0?!B.touch1&&B.touch0[2]!==j[2]&&(B.touch1=j,B.taps=0):(B.touch0=j,k=!0,B.taps=1+!!u);u&&(u=clearTimeout(u)),k&&(B.taps<2&&(h=j[0],u=setTimeout(function(){u=null},d)),sn(this),B.start())}}function L(w,...I){if(this.__zooming){var N=E(this,I).event(w),$=w.changedTouches,B=$.length,k,O,R,j;for(Et(w),k=0;k<B;++k)O=$[k],R=ye(O,this),N.touch0&&N.touch0[2]===O.identifier?N.touch0[0]=R:N.touch1&&N.touch1[2]===O.identifier&&(N.touch1[0]=R);if(O=N.that.__zoom,N.touch1){var Y=N.touch0[0],M=N.touch0[1],G=N.touch1[0],F=N.touch1[1],V=(V=G[0]-Y[0])*V+(V=G[1]-Y[1])*V,W=(W=F[0]-M[0])*W+(W=F[1]-M[1])*W;O=v(O,Math.sqrt(V/W)),R=[(Y[0]+G[0])/2,(Y[1]+G[1])/2],j=[(M[0]+F[0])/2,(M[1]+F[1])/2]}else if(N.touch0)R=N.touch0[0],j=N.touch0[1];else return;N.zoom("touch",n(y(O,R,j),N.extent,c))}}function H(w,...I){if(this.__zooming){var N=E(this,I).event(w),$=w.changedTouches,B=$.length,k,O;for(Wn(w),f&&clearTimeout(f),f=setTimeout(function(){f=null},d),k=0;k<B;++k)O=$[k],N.touch0&&N.touch0[2]===O.identifier?delete N.touch0:N.touch1&&N.touch1[2]===O.identifier&&delete N.touch1;if(N.touch1&&!N.touch0&&(N.touch0=N.touch1,delete N.touch1),N.touch0)N.touch0[1]=this.__zoom.invert(N.touch0[0]);else if(N.end(),N.taps===2&&(O=ye(O,this),Math.hypot(h[0]-O[0],h[1]-O[1])<m)){var R=he(this).on("dblclick.zoom");R&&R.apply(this,arguments)}}}return x.wheelDelta=function(w){return arguments.length?(r=typeof w=="function"?w:Qt(+w),x):r},x.filter=function(w){return arguments.length?(e=typeof w=="function"?w:Qt(!!w),x):e},x.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:Qt(!!w),x):o},x.extent=function(w){return arguments.length?(t=typeof w=="function"?w:Qt([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),x):t},x.scaleExtent=function(w){return arguments.length?(s[0]=+w[0],s[1]=+w[1],x):[s[0],s[1]]},x.translateExtent=function(w){return arguments.length?(c[0][0]=+w[0][0],c[1][0]=+w[1][0],c[0][1]=+w[0][1],c[1][1]=+w[1][1],x):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},x.constrain=function(w){return arguments.length?(n=w,x):n},x.duration=function(w){return arguments.length?(i=+w,x):i},x.interpolate=function(w){return arguments.length?(l=w,x):l},x.on=function(){var w=a.on.apply(a,arguments);return w===a?x:w},x.clickDistance=function(w){return arguments.length?(p=(w=+w)*w,x):Math.sqrt(p)},x.tapDistance=function(w){return arguments.length?(m=+w,x):m},x}const Ee={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},$t=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ri=["Enter"," ","Escape"];var dt;(function(e){e.Strict="strict",e.Loose="loose"})(dt||(dt={}));var Ke;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ke||(Ke={}));var zt;(function(e){e.Partial="partial",e.Full="full"})(zt||(zt={}));const Li={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var He;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(He||(He={}));var hn;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(hn||(hn={}));var Z;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Z||(Z={}));const lo={[Z.Left]:Z.Right,[Z.Right]:Z.Left,[Z.Top]:Z.Bottom,[Z.Bottom]:Z.Top};function Hi(e){return e===null?null:e?"valid":"invalid"}const Bi=e=>"id"in e&&"source"in e&&"target"in e,af=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Er=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Vt=(e,t=[0,0])=>{const{width:n,height:r}=De(e),o=e.origin??t,s=n*o[0],c=r*o[1];return{x:e.position.x-s,y:e.position.y-c}},cf=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,o)=>{const s=typeof o=="string";let c=!t.nodeLookup&&!s?o:void 0;t.nodeLookup&&(c=s?t.nodeLookup.get(o):Er(o)?o:t.nodeLookup.get(o.id));const i=c?pn(c,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return kn(r,i)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Mn(n)},Wt=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const o=pn(r);n=kn(n,o)}}),Mn(n)},ji=(e,t,[n,r,o]=[0,0,1],s=!1,c=!1)=>{const i={...Yt(t,[n,r,o]),width:t.width/o,height:t.height/o},l=[];for(const a of e.values()){const{measured:u,selectable:h=!0,hidden:f=!1}=a;if(c&&!h||f)continue;const d=u.width??a.width??a.initialWidth??null,g=u.height??a.height??a.initialHeight??null,p=Rt(i,ht(a)),m=(d??0)*(g??0),x=s&&p>0;(!a.internals.handleBounds||x||p>=m||a.dragging)&&l.push(a)}return l},lf=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function uf(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(o=>o.id)):null;return e.forEach(o=>{o.measured.width&&o.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!o.hidden)&&(!r||r.has(o.id))&&n.set(o.id,o)}),n}async function df({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:s},c){if(e.size===0)return Promise.resolve(!0);const i=uf(e,c),l=Wt(i),a=Cr(l,t,n,(c==null?void 0:c.minZoom)??o,(c==null?void 0:c.maxZoom)??s,(c==null?void 0:c.padding)??.1);return await r.setViewport(a,{duration:c==null?void 0:c.duration}),Promise.resolve(!0)}function Fi({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:s}){const c=n.get(e),i=c.parentId?n.get(c.parentId):void 0,{x:l,y:a}=i?i.internals.positionAbsolute:{x:0,y:0},u=c.origin??r;let h=o;if(c.extent==="parent"&&!c.expandParent)if(!i)s==null||s("005",Ee.error005());else{const d=i.measured.width,g=i.measured.height;d&&g&&(h=[[l,a],[l+d,a+g]])}else i&&pt(c.extent)&&(h=[[c.extent[0][0]+l,c.extent[0][1]+a],[c.extent[1][0]+l,c.extent[1][1]+a]]);const f=pt(h)?Ze(t,h,c.measured):t;return(c.measured.width===void 0||c.measured.height===void 0)&&(s==null||s("015",Ee.error015())),{position:{x:f.x-l+(c.measured.width??0)*u[0],y:f.y-a+(c.measured.height??0)*u[1]},positionAbsolute:f}}async function ff({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){const s=new Set(e.map(f=>f.id)),c=[];for(const f of n){if(f.deletable===!1)continue;const d=s.has(f.id),g=!d&&f.parentId&&c.find(p=>p.id===f.parentId);(d||g)&&c.push(f)}const i=new Set(t.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),u=lf(c,l);for(const f of l)i.has(f.id)&&!u.find(g=>g.id===f.id)&&u.push(f);if(!o)return{edges:u,nodes:c};const h=await o({nodes:c,edges:u});return typeof h=="boolean"?h?{edges:u,nodes:c}:{edges:[],nodes:[]}:h}const ft=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ze=(e={x:0,y:0},t,n)=>({x:ft(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:ft(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Vi(e,t,n){const{width:r,height:o}=De(n),{x:s,y:c}=n.internals.positionAbsolute;return Ze(e,[[s,c],[s+r,c+o]],t)}const uo=(e,t,n)=>e<t?ft(Math.abs(e-t),1,t)/t:e>n?-ft(Math.abs(e-n),1,t)/t:0,Wi=(e,t,n=15,r=40)=>{const o=uo(e.x,r,t.width-r)*n,s=uo(e.y,r,t.height-r)*n;return[o,s]},kn=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),ar=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Mn=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),ht=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=Er(e)?e.internals.positionAbsolute:Vt(e,t);return{x:n,y:r,width:((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0,height:((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0}},pn=(e,t=[0,0])=>{var o,s;const{x:n,y:r}=Er(e)?e.internals.positionAbsolute:Vt(e,t);return{x:n,y:r,x2:n+(((o=e.measured)==null?void 0:o.width)??e.width??e.initialWidth??0),y2:r+(((s=e.measured)==null?void 0:s.height)??e.height??e.initialHeight??0)}},Yi=(e,t)=>Mn(kn(ar(e),ar(t))),Rt=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},fo=e=>be(e.width)&&be(e.height)&&be(e.x)&&be(e.y),be=e=>!isNaN(e)&&isFinite(e),hf=(e,t)=>{},Pn=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Yt=({x:e,y:t},[n,r,o],s=!1,c=[1,1])=>{const i={x:(e-n)/o,y:(t-r)/o};return s?Pn(i,c):i},gn=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r});function nt(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function pf(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=nt(e,n),o=nt(e,t);return{top:r,right:o,bottom:r,left:o,x:o*2,y:r*2}}if(typeof e=="object"){const r=nt(e.top??e.y??0,n),o=nt(e.bottom??e.y??0,n),s=nt(e.left??e.x??0,t),c=nt(e.right??e.x??0,t);return{top:r,right:c,bottom:o,left:s,x:s+c,y:r+o}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function gf(e,t,n,r,o,s){const{x:c,y:i}=gn(e,[t,n,r]),{x:l,y:a}=gn({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=o-l,h=s-a;return{left:Math.floor(c),top:Math.floor(i),right:Math.floor(u),bottom:Math.floor(h)}}const Cr=(e,t,n,r,o,s)=>{const c=pf(s,t,n),i=(t-c.x)/e.width,l=(n-c.y)/e.height,a=Math.min(i,l),u=ft(a,r,o),h=e.x+e.width/2,f=e.y+e.height/2,d=t/2-h*u,g=n/2-f*u,p=gf(e,d,g,u,t,n),m={left:Math.min(p.left-c.left,0),top:Math.min(p.top-c.top,0),right:Math.min(p.right-c.right,0),bottom:Math.min(p.bottom-c.bottom,0)};return{x:d-m.left+m.right,y:g-m.top+m.bottom,zoom:u}},mn=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function pt(e){return e!==void 0&&e!=="parent"}function De(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Xi(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function Gi(e,t={width:0,height:0},n,r,o){const s={...e},c=r.get(n);if(c){const i=c.origin||o;s.x+=c.internals.positionAbsolute.x-(t.width??0)*i[0],s.y+=c.internals.positionAbsolute.y-(t.height??0)*i[1]}return s}function ho(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function mf(){let e,t;return{promise:new Promise((r,o)=>{e=r,t=o}),resolve:e,reject:t}}function Mt(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){const{x:s,y:c}=Te(e),i=Yt({x:s-((o==null?void 0:o.left)??0),y:c-((o==null?void 0:o.top)??0)},r),{x:l,y:a}=n?Pn(i,t):i;return{xSnapped:l,ySnapped:a,...i}}const Nr=e=>({width:e.offsetWidth,height:e.offsetHeight}),qi=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},yf=["INPUT","SELECT","TEXTAREA"];function Ui(e){var r,o;const t=((o=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:o[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:yf.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Ki=e=>"clientX"in e,Te=(e,t)=>{var s,c;const n=Ki(e),r=n?e.clientX:(s=e.touches)==null?void 0:s[0].clientX,o=n?e.clientY:(c=e.touches)==null?void 0:c[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:o-((t==null?void 0:t.top)??0)}},po=(e,t,n,r,o)=>{const s=t.querySelectorAll(`.${e}`);return!s||!s.length?null:Array.from(s).map(c=>{const i=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),type:e,nodeId:o,position:c.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...Nr(c)}})};function Qi({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:s,targetControlX:c,targetControlY:i}){const l=e*.125+o*.375+c*.375+n*.125,a=t*.125+s*.375+i*.375+r*.125,u=Math.abs(l-e),h=Math.abs(a-t);return[l,a,u,h]}function Zt(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function go({pos:e,x1:t,y1:n,x2:r,y2:o,c:s}){switch(e){case Z.Left:return[t-Zt(t-r,s),n];case Z.Right:return[t+Zt(r-t,s),n];case Z.Top:return[t,n-Zt(n-o,s)];case Z.Bottom:return[t,n+Zt(o-n,s)]}}function Zi({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:o,targetPosition:s=Z.Top,curvature:c=.25}){const[i,l]=go({pos:n,x1:e,y1:t,x2:r,y2:o,c}),[a,u]=go({pos:s,x1:r,y1:o,x2:e,y2:t,c}),[h,f,d,g]=Qi({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:i,sourceControlY:l,targetControlX:a,targetControlY:u});return[`M${e},${t} C${i},${l} ${a},${u} ${r},${o}`,h,f,d,g]}function Ji({sourceX:e,sourceY:t,targetX:n,targetY:r}){const o=Math.abs(n-e)/2,s=n<e?n+o:n-o,c=Math.abs(r-t)/2,i=r<t?r+c:r-c;return[s,i,o,c]}function xf({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;const s=n||t.selected||e.selected,c=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(s?c:0)}function bf({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){const s=kn(pn(e),pn(t));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const c={x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]};return Rt(c,Mn(s))>0}const vf=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,wf=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),es=(e,t)=>{if(!e.source||!e.target)return t;let n;return Bi(e)?n={...e}:n={...e,id:vf(e)},wf(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function ts({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[o,s,c,i]=Ji({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,s,c,i]}const mo={[Z.Left]:{x:-1,y:0},[Z.Right]:{x:1,y:0},[Z.Top]:{x:0,y:-1},[Z.Bottom]:{x:0,y:1}},_f=({source:e,sourcePosition:t=Z.Bottom,target:n})=>t===Z.Left||t===Z.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},yo=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Sf({source:e,sourcePosition:t=Z.Bottom,target:n,targetPosition:r=Z.Top,center:o,offset:s}){const c=mo[t],i=mo[r],l={x:e.x+c.x*s,y:e.y+c.y*s},a={x:n.x+i.x*s,y:n.y+i.y*s},u=_f({source:l,sourcePosition:t,target:a}),h=u.x!==0?"x":"y",f=u[h];let d=[],g,p;const m={x:0,y:0},x={x:0,y:0},[v,y,b,S]=Ji({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(c[h]*i[h]===-1){g=o.x??v,p=o.y??y;const C=[{x:g,y:l.y},{x:g,y:a.y}],P=[{x:l.x,y:p},{x:a.x,y:p}];c[h]===f?d=h==="x"?C:P:d=h==="x"?P:C}else{const C=[{x:l.x,y:a.y}],P=[{x:a.x,y:l.y}];if(h==="x"?d=c.x===f?P:C:d=c.y===f?C:P,t===r){const H=Math.abs(e[h]-n[h]);if(H<=s){const w=Math.min(s-1,s-H);c[h]===f?m[h]=(l[h]>e[h]?-1:1)*w:x[h]=(a[h]>n[h]?-1:1)*w}}if(t!==r){const H=h==="x"?"y":"x",w=c[h]===i[H],I=l[H]>a[H],N=l[H]<a[H];(c[h]===1&&(!w&&I||w&&N)||c[h]!==1&&(!w&&N||w&&I))&&(d=h==="x"?C:P)}const z={x:l.x+m.x,y:l.y+m.y},D={x:a.x+x.x,y:a.y+x.y},T=Math.max(Math.abs(z.x-d[0].x),Math.abs(D.x-d[0].x)),L=Math.max(Math.abs(z.y-d[0].y),Math.abs(D.y-d[0].y));T>=L?(g=(z.x+D.x)/2,p=d[0].y):(g=d[0].x,p=(z.y+D.y)/2)}return[[e,{x:l.x+m.x,y:l.y+m.y},...d,{x:a.x+x.x,y:a.y+x.y},n],g,p,b,S]}function Ef(e,t,n,r){const o=Math.min(yo(e,t)/2,yo(t,n)/2,r),{x:s,y:c}=t;if(e.x===s&&s===n.x||e.y===c&&c===n.y)return`L${s} ${c}`;if(e.y===c){const a=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${s+o*a},${c}Q ${s},${c} ${s},${c+o*u}`}const i=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${s},${c+o*l}Q ${s},${c} ${s+o*i},${c}`}function cr({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:o,targetPosition:s=Z.Top,borderRadius:c=5,centerX:i,centerY:l,offset:a=20}){const[u,h,f,d,g]=Sf({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:s,center:{x:i,y:l},offset:a});return[u.reduce((m,x,v)=>{let y="";return v>0&&v<u.length-1?y=Ef(u[v-1],x,u[v+1],c):y=`${v===0?"M":"L"}${x.x} ${x.y}`,m+=y,m},""),h,f,d,g]}function xo(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function Cf(e){var h;const{sourceNode:t,targetNode:n}=e;if(!xo(t)||!xo(n))return null;const r=t.internals.handleBounds||bo(t.handles),o=n.internals.handleBounds||bo(n.handles),s=vo((r==null?void 0:r.source)??[],e.sourceHandle),c=vo(e.connectionMode===dt.Strict?(o==null?void 0:o.target)??[]:((o==null?void 0:o.target)??[]).concat((o==null?void 0:o.source)??[]),e.targetHandle);if(!s||!c)return(h=e.onError)==null||h.call(e,"008",Ee.error008(s?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const i=(s==null?void 0:s.position)||Z.Bottom,l=(c==null?void 0:c.position)||Z.Top,a=Lt(t,s,i),u=Lt(n,c,l);return{sourceX:a.x,sourceY:a.y,targetX:u.x,targetY:u.y,sourcePosition:i,targetPosition:l}}function bo(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Lt(e,t,n=Z.Left,r=!1){const o=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,s=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:c,height:i}=t??De(e);if(r)return{x:o+c/2,y:s+i/2};switch((t==null?void 0:t.position)??n){case Z.Top:return{x:o+c/2,y:s};case Z.Right:return{x:o+c,y:s+i/2};case Z.Bottom:return{x:o+c/2,y:s+i};case Z.Left:return{x:o,y:s+i/2}}}function vo(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function lr(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function Nf(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){const s=new Set;return e.reduce((c,i)=>([i.markerStart||r,i.markerEnd||o].forEach(l=>{if(l&&typeof l=="object"){const a=lr(l,t);s.has(a)||(c.push({id:a,color:l.color||n,...l}),s.add(a))}}),c),[]).sort((c,i)=>c.id.localeCompare(i.id))}const kr={nodeOrigin:[0,0],nodeExtent:$t,elevateNodesOnSelect:!0,defaults:{}},kf={...kr,checkEquality:!0};function Mr(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function Mf(e,t,n){const r=Mr(kr,n);for(const o of e.values())if(o.parentId)Pr(o,e,t,r);else{const s=Vt(o,r.nodeOrigin),c=pt(o.extent)?o.extent:r.nodeExtent,i=Ze(s,c,De(o));o.internals.positionAbsolute=i}}function ur(e,t,n,r){var l,a;const o=Mr(kf,r);let s=e.length>0;const c=new Map(t),i=o!=null&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let h=c.get(u.id);if(o.checkEquality&&u===(h==null?void 0:h.internals.userNode))t.set(u.id,h);else{const f=Vt(u,o.nodeOrigin),d=pt(u.extent)?u.extent:o.nodeExtent,g=Ze(f,d,De(u));h={...o.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(a=u.measured)==null?void 0:a.height},internals:{positionAbsolute:g,handleBounds:u.measured?h==null?void 0:h.internals.handleBounds:void 0,z:ns(u,i),userNode:u}},t.set(u.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(s=!1),u.parentId&&Pr(h,t,n,r)}return s}function Pf(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Pr(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:s,nodeExtent:c}=Mr(kr,r),i=e.parentId,l=t.get(i);if(!l){console.warn(`Parent node ${i} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Pf(e,n);const a=o?1e3:0,{x:u,y:h,z:f}=Af(e,l,s,c,a),{positionAbsolute:d}=e.internals,g=u!==d.x||h!==d.y;(g||f!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:g?{x:u,y:h}:d,z:f}})}function ns(e,t){return(be(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function Af(e,t,n,r,o){const{x:s,y:c}=t.internals.positionAbsolute,i=De(e),l=Vt(e,n),a=pt(e.extent)?Ze(l,e.extent,i):l;let u=Ze({x:s+a.x,y:c+a.y},r,i);e.extent==="parent"&&(u=Vi(u,i,t));const h=ns(e,o),f=t.internals.z??0;return{x:u.x,y:u.y,z:f>h?f:h}}function Ar(e,t,n,r=[0,0]){var c;const o=[],s=new Map;for(const i of e){const l=t.get(i.parentId);if(!l)continue;const a=((c=s.get(i.parentId))==null?void 0:c.expandedRect)??ht(l),u=Yi(a,i.rect);s.set(i.parentId,{expandedRect:u,parent:l})}return s.size>0&&s.forEach(({expandedRect:i,parent:l},a)=>{var y;const u=l.internals.positionAbsolute,h=De(l),f=l.origin??r,d=i.x<u.x?Math.round(Math.abs(u.x-i.x)):0,g=i.y<u.y?Math.round(Math.abs(u.y-i.y)):0,p=Math.max(h.width,Math.round(i.width)),m=Math.max(h.height,Math.round(i.height)),x=(p-h.width)*f[0],v=(m-h.height)*f[1];(d>0||g>0||x||v)&&(o.push({id:a,type:"position",position:{x:l.position.x-d+x,y:l.position.y-g+v}}),(y=n.get(a))==null||y.forEach(b=>{e.some(S=>S.id===b.id)||o.push({id:b.id,type:"position",position:{x:b.position.x+d,y:b.position.y+g}})})),(h.width<i.width||h.height<i.height||d||g)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:p+(d?f[0]*d-x:0),height:m+(g?f[1]*g-v:0)}})}),o}function Tf(e,t,n,r,o,s){const c=r==null?void 0:r.querySelector(".xyflow__viewport");let i=!1;if(!c)return{changes:[],updatedInternals:i};const l=[],a=window.getComputedStyle(c),{m22:u}=new window.DOMMatrixReadOnly(a.transform),h=[];for(const f of e.values()){const d=t.get(f.id);if(!d)continue;if(d.hidden){t.set(d.id,{...d,internals:{...d.internals,handleBounds:void 0}}),i=!0;continue}const g=Nr(f.nodeElement),p=d.measured.width!==g.width||d.measured.height!==g.height;if(!!(g.width&&g.height&&(p||!d.internals.handleBounds||f.force))){const x=f.nodeElement.getBoundingClientRect(),v=pt(d.extent)?d.extent:s;let{positionAbsolute:y}=d.internals;d.parentId&&d.extent==="parent"?y=Vi(y,g,t.get(d.parentId)):v&&(y=Ze(y,v,g));const b={...d,measured:g,internals:{...d.internals,positionAbsolute:y,handleBounds:{source:po("source",f.nodeElement,x,u,d.id),target:po("target",f.nodeElement,x,u,d.id)}}};t.set(d.id,b),d.parentId&&Pr(b,t,n,{nodeOrigin:o}),i=!0,p&&(l.push({id:d.id,type:"dimensions",dimensions:g}),d.expandParent&&d.parentId&&h.push({id:d.id,parentId:d.parentId,rect:ht(b,o)}))}}if(h.length>0){const f=Ar(h,t,n,o);l.push(...f)}return{changes:l,updatedInternals:i}}async function If({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:s}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const c=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,s]],r),i=!!c&&(c.x!==n[0]||c.y!==n[1]||c.k!==n[2]);return Promise.resolve(i)}function wo(e,t,n,r,o,s){let c=o;const i=r.get(c)||new Map;r.set(c,i.set(n,t)),c=`${o}-${e}`;const l=r.get(c)||new Map;if(r.set(c,l.set(n,t)),s){c=`${o}-${e}-${s}`;const a=r.get(c)||new Map;r.set(c,a.set(n,t))}}function rs(e,t,n){e.clear(),t.clear();for(const r of n){const{source:o,target:s,sourceHandle:c=null,targetHandle:i=null}=r,l={edgeId:r.id,source:o,target:s,sourceHandle:c,targetHandle:i},a=`${o}-${c}--${s}-${i}`,u=`${s}-${i}--${o}-${c}`;wo("source",l,u,e,o,c),wo("target",l,a,e,s,i),t.set(r.id,r)}}function os(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:os(n,t):!1}function _o(e,t,n){var o;let r=e;do{if((o=r==null?void 0:r.matches)!=null&&o.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Of(e,t,n,r){const o=new Map;for(const[s,c]of e)if((c.selected||c.id===r)&&(!c.parentId||!os(c,e))&&(c.draggable||t&&typeof c.draggable>"u")){const i=e.get(s);i&&o.set(s,{id:s,position:i.position||{x:0,y:0},distance:{x:n.x-i.internals.positionAbsolute.x,y:n.y-i.internals.positionAbsolute.y},extent:i.extent,parentId:i.parentId,origin:i.origin,expandParent:i.expandParent,internals:{positionAbsolute:i.internals.positionAbsolute||{x:0,y:0}},measured:{width:i.measured.width??0,height:i.measured.height??0}})}return o}function Yn({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var c,i,l;const o=[];for(const[a,u]of t){const h=(c=n.get(a))==null?void 0:c.internals.userNode;h&&o.push({...h,position:u.position,dragging:r})}if(!e)return[o[0],o];const s=(i=n.get(e))==null?void 0:i.internals.userNode;return[s?{...s,position:((l=t.get(e))==null?void 0:l.position)||s.position,dragging:r}:o[0],o]}function Df({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let s={x:null,y:null},c=0,i=new Map,l=!1,a={x:0,y:0},u=null,h=!1,f=null,d=!1;function g({noDragClassName:m,handleSelector:x,domNode:v,isSelectable:y,nodeId:b,nodeClickDistance:S=0}){f=he(v);function E({x:D,y:T},L){const{nodeLookup:H,nodeExtent:w,snapGrid:I,snapToGrid:N,nodeOrigin:$,onNodeDrag:B,onSelectionDrag:k,onError:O,updateNodePositions:R}=t();s={x:D,y:T};let j=!1,Y={x:0,y:0,x2:0,y2:0};if(i.size>1&&w){const M=Wt(i);Y=ar(M)}for(const[M,G]of i){if(!H.has(M))continue;let F={x:D-G.distance.x,y:T-G.distance.y};N&&(F=Pn(F,I));let V=[[w[0][0],w[0][1]],[w[1][0],w[1][1]]];if(i.size>1&&w&&!G.extent){const{positionAbsolute:K}=G.internals,Q=K.x-Y.x+w[0][0],X=K.x+G.measured.width-Y.x2+w[1][0],ne=K.y-Y.y+w[0][1],J=K.y+G.measured.height-Y.y2+w[1][1];V=[[Q,ne],[X,J]]}const{position:W,positionAbsolute:q}=Fi({nodeId:M,nextPosition:F,nodeLookup:H,nodeExtent:V,nodeOrigin:$,onError:O});j=j||G.position.x!==W.x||G.position.y!==W.y,G.position=W,G.internals.positionAbsolute=q}if(j&&(R(i,!0),L&&(r||B||!b&&k))){const[M,G]=Yn({nodeId:b,dragItems:i,nodeLookup:H});r==null||r(L,i,M,G),B==null||B(L,M,G),b||k==null||k(L,G)}}async function C(){if(!u)return;const{transform:D,panBy:T,autoPanSpeed:L,autoPanOnNodeDrag:H}=t();if(!H){l=!1,cancelAnimationFrame(c);return}const[w,I]=Wi(a,u,L);(w!==0||I!==0)&&(s.x=(s.x??0)-w/D[2],s.y=(s.y??0)-I/D[2],await T({x:w,y:I})&&E(s,null)),c=requestAnimationFrame(C)}function P(D){var j;const{nodeLookup:T,multiSelectionActive:L,nodesDraggable:H,transform:w,snapGrid:I,snapToGrid:N,selectNodesOnDrag:$,onNodeDragStart:B,onSelectionDragStart:k,unselectNodesAndEdges:O}=t();h=!0,(!$||!y)&&!L&&b&&((j=T.get(b))!=null&&j.selected||O()),y&&$&&b&&(e==null||e(b));const R=Mt(D.sourceEvent,{transform:w,snapGrid:I,snapToGrid:N,containerBounds:u});if(s=R,i=Of(T,H,R,b),i.size>0&&(n||B||!b&&k)){const[Y,M]=Yn({nodeId:b,dragItems:i,nodeLookup:T});n==null||n(D.sourceEvent,i,Y,M),B==null||B(D.sourceEvent,Y,M),b||k==null||k(D.sourceEvent,M)}}const z=wi().clickDistance(S).on("start",D=>{const{domNode:T,nodeDragThreshold:L,transform:H,snapGrid:w,snapToGrid:I}=t();u=(T==null?void 0:T.getBoundingClientRect())||null,d=!1,L===0&&P(D),s=Mt(D.sourceEvent,{transform:H,snapGrid:w,snapToGrid:I,containerBounds:u}),a=Te(D.sourceEvent,u)}).on("drag",D=>{const{autoPanOnNodeDrag:T,transform:L,snapGrid:H,snapToGrid:w,nodeDragThreshold:I,nodeLookup:N}=t(),$=Mt(D.sourceEvent,{transform:L,snapGrid:H,snapToGrid:w,containerBounds:u});if((D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||b&&!N.has(b))&&(d=!0),!d){if(!l&&T&&h&&(l=!0,C()),!h){const B=$.xSnapped-(s.x??0),k=$.ySnapped-(s.y??0);Math.sqrt(B*B+k*k)>I&&P(D)}(s.x!==$.xSnapped||s.y!==$.ySnapped)&&i&&h&&(a=Te(D.sourceEvent,u),E($,D.sourceEvent))}}).on("end",D=>{if(!(!h||d)&&(l=!1,h=!1,cancelAnimationFrame(c),i.size>0)){const{nodeLookup:T,updateNodePositions:L,onNodeDragStop:H,onSelectionDragStop:w}=t();if(L(i,!1),o||H||!b&&w){const[I,N]=Yn({nodeId:b,dragItems:i,nodeLookup:T,dragging:!1});o==null||o(D.sourceEvent,i,I,N),H==null||H(D.sourceEvent,I,N),b||w==null||w(D.sourceEvent,N)}}}).filter(D=>{const T=D.target;return!D.button&&(!m||!_o(T,`.${m}`,v))&&(!x||_o(T,x,v))});f.call(z)}function p(){f==null||f.on(".drag",null)}return{update:g,destroy:p}}function $f(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const s of t.values())Rt(o,ht(s))>0&&r.push(s);return r}const zf=250;function Rf(e,t,n,r){var i,l;let o=[],s=1/0;const c=$f(e,n,t+zf);for(const a of c){const u=[...((i=a.internals.handleBounds)==null?void 0:i.source)??[],...((l=a.internals.handleBounds)==null?void 0:l.target)??[]];for(const h of u){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:f,y:d}=Lt(a,h,h.position,!0),g=Math.sqrt(Math.pow(f-e.x,2)+Math.pow(d-e.y,2));g>t||(g<s?(o=[{...h,x:f,y:d}],s=g):g===s&&o.push({...h,x:f,y:d}))}}if(!o.length)return null;if(o.length>1){const a=r.type==="source"?"target":"source";return o.find(u=>u.type===a)??o[0]}return o[0]}function is(e,t,n,r,o,s=!1){var a,u,h;const c=r.get(e);if(!c)return null;const i=o==="strict"?(a=c.internals.handleBounds)==null?void 0:a[t]:[...((u=c.internals.handleBounds)==null?void 0:u.source)??[],...((h=c.internals.handleBounds)==null?void 0:h.target)??[]],l=(n?i==null?void 0:i.find(f=>f.id===n):i==null?void 0:i[0])??null;return l&&s?{...l,...Lt(c,l,l.position,!0)}:l}function ss(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function Lf(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const as=()=>!0;function Hf(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:s,isTarget:c,domNode:i,nodeLookup:l,lib:a,autoPanOnConnect:u,flowId:h,panBy:f,cancelConnection:d,onConnectStart:g,onConnect:p,onConnectEnd:m,isValidConnection:x=as,onReconnectEnd:v,updateConnection:y,getTransform:b,getFromHandle:S,autoPanSpeed:E}){const C=qi(e.target);let P=0,z;const{x:D,y:T}=Te(e),L=C==null?void 0:C.elementFromPoint(D,T),H=ss(s,L),w=i==null?void 0:i.getBoundingClientRect();if(!w||!H)return;const I=is(o,H,r,l,t);if(!I)return;let N=Te(e,w),$=!1,B=null,k=!1,O=null;function R(){if(!u||!w)return;const[q,K]=Wi(N,w,E);f({x:q,y:K}),P=requestAnimationFrame(R)}const j={...I,nodeId:o,type:H,position:I.position},Y=l.get(o),G={inProgress:!0,isValid:null,from:Lt(Y,j,Z.Left,!0),fromHandle:j,fromPosition:j.position,fromNode:Y,to:N,toHandle:null,toPosition:lo[j.position],toNode:null};y(G);let F=G;g==null||g(e,{nodeId:o,handleId:r,handleType:H});function V(q){if(!S()||!j){W(q);return}const K=b();N=Te(q,w),z=Rf(Yt(N,K,!1,[1,1]),n,l,j),$||(R(),$=!0);const Q=cs(q,{handle:z,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:c?"target":"source",isValidConnection:x,doc:C,lib:a,flowId:h,nodeLookup:l});O=Q.handleDomNode,B=Q.connection,k=Lf(!!z,Q.isValid);const X={...F,isValid:k,to:z&&k?gn({x:z.x,y:z.y},K):N,toHandle:Q.toHandle,toPosition:k&&Q.toHandle?Q.toHandle.position:lo[j.position],toNode:Q.toHandle?l.get(Q.toHandle.nodeId):null};k&&z&&F.toHandle&&X.toHandle&&F.toHandle.type===X.toHandle.type&&F.toHandle.nodeId===X.toHandle.nodeId&&F.toHandle.id===X.toHandle.id&&F.to.x===X.to.x&&F.to.y===X.to.y||(y(X),F=X)}function W(q){(z||O)&&B&&k&&(p==null||p(B));const{inProgress:K,...Q}=F,X={...Q,toPosition:F.toHandle?F.toPosition:null};m==null||m(q,X),s&&(v==null||v(q,X)),d(),cancelAnimationFrame(P),$=!1,k=!1,B=null,O=null,C.removeEventListener("mousemove",V),C.removeEventListener("mouseup",W),C.removeEventListener("touchmove",V),C.removeEventListener("touchend",W)}C.addEventListener("mousemove",V),C.addEventListener("mouseup",W),C.addEventListener("touchmove",V),C.addEventListener("touchend",W)}function cs(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:s,doc:c,lib:i,flowId:l,isValidConnection:a=as,nodeLookup:u}){const h=s==="target",f=t?c.querySelector(`.${i}-flow__handle[data-id="${l}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:d,y:g}=Te(e),p=c.elementFromPoint(d,g),m=p!=null&&p.classList.contains(`${i}-flow__handle`)?p:f,x={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){const v=ss(void 0,m),y=m.getAttribute("data-nodeid"),b=m.getAttribute("data-handleid"),S=m.classList.contains("connectable"),E=m.classList.contains("connectableend");if(!y||!v)return x;const C={source:h?y:r,sourceHandle:h?b:o,target:h?r:y,targetHandle:h?o:b};x.connection=C;const z=S&&E&&(n===dt.Strict?h&&v==="source"||!h&&v==="target":y!==r||b!==o);x.isValid=z&&a(C),x.toHandle=is(y,v,b,u,n,!1)}return x}const dr={onPointerDown:Hf,isValid:cs};function Bf({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const o=he(e);function s({translateExtent:i,width:l,height:a,zoomStep:u=10,pannable:h=!0,zoomable:f=!0,inversePan:d=!1}){const g=y=>{const b=n();if(y.sourceEvent.type!=="wheel"||!t)return;const S=-y.sourceEvent.deltaY*(y.sourceEvent.deltaMode===1?.05:y.sourceEvent.deltaMode?1:.002)*u,E=b[2]*Math.pow(2,S);t.scaleTo(E)};let p=[0,0];const m=y=>{(y.sourceEvent.type==="mousedown"||y.sourceEvent.type==="touchstart")&&(p=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY])},x=y=>{const b=n();if(y.sourceEvent.type!=="mousemove"&&y.sourceEvent.type!=="touchmove"||!t)return;const S=[y.sourceEvent.clientX??y.sourceEvent.touches[0].clientX,y.sourceEvent.clientY??y.sourceEvent.touches[0].clientY],E=[S[0]-p[0],S[1]-p[1]];p=S;const C=r()*Math.max(b[2],Math.log(b[2]))*(d?-1:1),P={x:b[0]-E[0]*C,y:b[1]-E[1]*C},z=[[0,0],[l,a]];t.setViewportConstrained({x:P.x,y:P.y,zoom:b[2]},z,i)},v=zi().on("start",m).on("zoom",h?x:null).on("zoom.wheel",f?g:null);o.call(v,{})}function c(){o.on("zoom",null)}return{update:s,destroy:c,pointer:ye}}const jf=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,An=e=>({x:e.x,y:e.y,zoom:e.k}),Xn=({x:e,y:t,zoom:n})=>Nn.translate(e,t).scale(n),ot=(e,t)=>e.target.closest(`.${t}`),ls=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Gn=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},us=e=>{const t=e.ctrlKey&&mn()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function Ff({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:s,zoomOnPinch:c,onPanZoomStart:i,onPanZoom:l,onPanZoomEnd:a}){return u=>{if(ot(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(u.ctrlKey&&c){const m=ye(u),x=us(u),v=h*Math.pow(2,x);r.scaleTo(n,v,m,u);return}const f=u.deltaMode===1?20:1;let d=o===Ke.Vertical?0:u.deltaX*f,g=o===Ke.Horizontal?0:u.deltaY*f;!mn()&&u.shiftKey&&o!==Ke.Vertical&&(d=u.deltaY*f,g=0),r.translateBy(n,-(d/h)*s,-(g/h)*s,{internal:!0});const p=An(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,i==null||i(u,p)),e.isPanScrolling&&(l==null||l(u,p),e.panScrollTimeout=setTimeout(()=>{a==null||a(u,p),e.isPanScrolling=!1},150))}}function Vf({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){const s=r.type==="wheel",c=!t&&s&&!r.ctrlKey,i=ot(r,e);if(r.ctrlKey&&s&&i&&r.preventDefault(),c||i)return null;r.preventDefault(),n.call(this,r,o)}}function Wf({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var s,c,i;if((s=r.sourceEvent)!=null&&s.internal)return;const o=An(r.transform);e.mouseButton=((c=r.sourceEvent)==null?void 0:c.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=o,((i=r.sourceEvent)==null?void 0:i.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,o))}}function Yf({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return s=>{var c,i;e.usedRightMouseButton=!!(n&&ls(t,e.mouseButton??0)),(c=s.sourceEvent)!=null&&c.sync||r([s.transform.x,s.transform.y,s.transform.k]),o&&!((i=s.sourceEvent)!=null&&i.internal)&&(o==null||o(s.sourceEvent,An(s.transform)))}}function Xf({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:s}){return c=>{var i;if(!((i=c.sourceEvent)!=null&&i.internal)&&(e.isZoomingOrPanning=!1,s&&ls(t,e.mouseButton??0)&&!e.usedRightMouseButton&&c.sourceEvent&&s(c.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&jf(e.prevViewport,c.transform))){const l=An(c.transform);e.prevViewport=l,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o==null||o(c.sourceEvent,l)},n?150:0)}}}function Gf({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:s,userSelectionActive:c,noWheelClassName:i,noPanClassName:l,lib:a}){return u=>{var g;const h=e||t,f=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(ot(u,`${a}-flow__node`)||ot(u,`${a}-flow__edge`)))return!0;if(!r&&!h&&!o&&!s&&!n||c||ot(u,i)&&u.type==="wheel"||ot(u,l)&&(u.type!=="wheel"||o&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((g=u.touches)==null?void 0:g.length)>1)return u.preventDefault(),!1;if(!h&&!o&&!f&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const d=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&d}}function qf({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:s,onPanZoom:c,onPanZoomStart:i,onPanZoomEnd:l,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),f=zi().clickDistance(!be(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),d=he(e).call(f);y({x:s.x,y:s.y,zoom:ft(s.zoom,t,n)},[[0,0],[h.width,h.height]],o);const g=d.on("wheel.zoom"),p=d.on("dblclick.zoom");f.wheelDelta(us);function m(L,H){return d?new Promise(w=>{f==null||f.transform(Gn(d,H==null?void 0:H.duration,()=>w(!0)),L)}):Promise.resolve(!1)}function x({noWheelClassName:L,noPanClassName:H,onPaneContextMenu:w,userSelectionActive:I,panOnScroll:N,panOnDrag:$,panOnScrollMode:B,panOnScrollSpeed:k,preventScrolling:O,zoomOnPinch:R,zoomOnScroll:j,zoomOnDoubleClick:Y,zoomActivationKeyPressed:M,lib:G,onTransformChange:F}){I&&!u.isZoomingOrPanning&&v();const W=N&&!M&&!I?Ff({zoomPanValues:u,noWheelClassName:L,d3Selection:d,d3Zoom:f,panOnScrollMode:B,panOnScrollSpeed:k,zoomOnPinch:R,onPanZoomStart:i,onPanZoom:c,onPanZoomEnd:l}):Vf({noWheelClassName:L,preventScrolling:O,d3ZoomHandler:g});if(d.on("wheel.zoom",W,{passive:!1}),!I){const K=Wf({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:i});f.on("start",K);const Q=Yf({zoomPanValues:u,panOnDrag:$,onPaneContextMenu:!!w,onPanZoom:c,onTransformChange:F});f.on("zoom",Q);const X=Xf({zoomPanValues:u,panOnDrag:$,panOnScroll:N,onPaneContextMenu:w,onPanZoomEnd:l,onDraggingChange:a});f.on("end",X)}const q=Gf({zoomActivationKeyPressed:M,panOnDrag:$,zoomOnScroll:j,panOnScroll:N,zoomOnDoubleClick:Y,zoomOnPinch:R,userSelectionActive:I,noPanClassName:H,noWheelClassName:L,lib:G});f.filter(q),Y?d.on("dblclick.zoom",p):d.on("dblclick.zoom",null)}function v(){f.on("zoom",null)}async function y(L,H,w){const I=Xn(L),N=f==null?void 0:f.constrain()(I,H,w);return N&&await m(N),new Promise($=>$(N))}async function b(L,H){const w=Xn(L);return await m(w,H),new Promise(I=>I(w))}function S(L){if(d){const H=Xn(L),w=d.property("__zoom");(w.k!==L.zoom||w.x!==L.x||w.y!==L.y)&&(f==null||f.transform(d,H,null,{sync:!0}))}}function E(){const L=d?$i(d.node()):{x:0,y:0,k:1};return{x:L.x,y:L.y,zoom:L.k}}function C(L,H){return d?new Promise(w=>{f==null||f.scaleTo(Gn(d,H==null?void 0:H.duration,()=>w(!0)),L)}):Promise.resolve(!1)}function P(L,H){return d?new Promise(w=>{f==null||f.scaleBy(Gn(d,H==null?void 0:H.duration,()=>w(!0)),L)}):Promise.resolve(!1)}function z(L){f==null||f.scaleExtent(L)}function D(L){f==null||f.translateExtent(L)}function T(L){const H=!be(L)||L<0?0:L;f==null||f.clickDistance(H)}return{update:x,destroy:v,setViewport:b,setViewportConstrained:y,getViewport:E,scaleTo:C,scaleBy:P,setScaleExtent:z,setTranslateExtent:D,syncViewport:S,setClickDistance:T}}var Pt;(function(e){e.Line="line",e.Handle="handle"})(Pt||(Pt={}));function Uf({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:s}){const c=e-t,i=n-r,l=[c>0?1:c<0?-1:0,i>0?1:i<0?-1:0];return c&&o&&(l[0]=l[0]*-1),i&&s&&(l[1]=l[1]*-1),l}function Kf(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),o=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:o}}function ze(e,t){return Math.max(0,t-e)}function Re(e,t){return Math.max(0,e-t)}function Jt(e,t,n){return Math.max(0,t-e,e-n)}function So(e,t){return e?!t:t}function Qf(e,t,n,r,o,s,c,i){let{affectsX:l,affectsY:a}=t;const{isHorizontal:u,isVertical:h}=t,f=u&&h,{xSnapped:d,ySnapped:g}=n,{minWidth:p,maxWidth:m,minHeight:x,maxHeight:v}=r,{x:y,y:b,width:S,height:E,aspectRatio:C}=e;let P=Math.floor(u?d-e.pointerX:0),z=Math.floor(h?g-e.pointerY:0);const D=S+(l?-P:P),T=E+(a?-z:z),L=-s[0]*S,H=-s[1]*E;let w=Jt(D,p,m),I=Jt(T,x,v);if(c){let B=0,k=0;l&&P<0?B=ze(y+P+L,c[0][0]):!l&&P>0&&(B=Re(y+D+L,c[1][0])),a&&z<0?k=ze(b+z+H,c[0][1]):!a&&z>0&&(k=Re(b+T+H,c[1][1])),w=Math.max(w,B),I=Math.max(I,k)}if(i){let B=0,k=0;l&&P>0?B=Re(y+P,i[0][0]):!l&&P<0&&(B=ze(y+D,i[1][0])),a&&z>0?k=Re(b+z,i[0][1]):!a&&z<0&&(k=ze(b+T,i[1][1])),w=Math.max(w,B),I=Math.max(I,k)}if(o){if(u){const B=Jt(D/C,x,v)*C;if(w=Math.max(w,B),c){let k=0;!l&&!a||l&&!a&&f?k=Re(b+H+D/C,c[1][1])*C:k=ze(b+H+(l?P:-P)/C,c[0][1])*C,w=Math.max(w,k)}if(i){let k=0;!l&&!a||l&&!a&&f?k=ze(b+D/C,i[1][1])*C:k=Re(b+(l?P:-P)/C,i[0][1])*C,w=Math.max(w,k)}}if(h){const B=Jt(T*C,p,m)/C;if(I=Math.max(I,B),c){let k=0;!l&&!a||a&&!l&&f?k=Re(y+T*C+L,c[1][0])/C:k=ze(y+(a?z:-z)*C+L,c[0][0])/C,I=Math.max(I,k)}if(i){let k=0;!l&&!a||a&&!l&&f?k=ze(y+T*C,i[1][0])/C:k=Re(y+(a?z:-z)*C,i[0][0])/C,I=Math.max(I,k)}}}z=z+(z<0?I:-I),P=P+(P<0?w:-w),o&&(f?D>T*C?z=(So(l,a)?-P:P)/C:P=(So(l,a)?-z:z)*C:u?(z=P/C,a=l):(P=z*C,l=a));const N=l?y+P:y,$=a?b+z:b;return{width:S+(l?-P:P),height:E+(a?-z:z),x:s[0]*P*(l?-1:1)+N,y:s[1]*z*(a?-1:1)+$}}const ds={width:0,height:0,x:0,y:0},Zf={...ds,pointerX:0,pointerY:0,aspectRatio:1};function Jf(e){return[[0,0],[e.measured.width,e.measured.height]]}function eh(e,t,n){const r=t.position.x+e.position.x,o=t.position.y+e.position.y,s=e.measured.width??0,c=e.measured.height??0,i=n[0]*s,l=n[1]*c;return[[r-i,o-l],[r+s-i,o+c-l]]}function th({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){const s=he(e);function c({controlPosition:l,boundaries:a,keepAspectRatio:u,resizeDirection:h,onResizeStart:f,onResize:d,onResizeEnd:g,shouldResize:p}){let m={...ds},x={...Zf};const v=Kf(l);let y,b=null,S=[],E,C,P;const z=wi().on("start",D=>{const{nodeLookup:T,transform:L,snapGrid:H,snapToGrid:w,nodeOrigin:I,paneDomNode:N}=n();if(y=T.get(t),!y)return;b=(N==null?void 0:N.getBoundingClientRect())??null;const{xSnapped:$,ySnapped:B}=Mt(D.sourceEvent,{transform:L,snapGrid:H,snapToGrid:w,containerBounds:b});m={width:y.measured.width??0,height:y.measured.height??0,x:y.position.x??0,y:y.position.y??0},x={...m,pointerX:$,pointerY:B,aspectRatio:m.width/m.height},E=void 0,y.parentId&&(y.extent==="parent"||y.expandParent)&&(E=T.get(y.parentId),C=E&&y.extent==="parent"?Jf(E):void 0),S=[],P=void 0;for(const[k,O]of T)if(O.parentId===t&&(S.push({id:k,position:{...O.position},extent:O.extent}),O.extent==="parent"||O.expandParent)){const R=eh(O,y,O.origin??I);P?P=[[Math.min(R[0][0],P[0][0]),Math.min(R[0][1],P[0][1])],[Math.max(R[1][0],P[1][0]),Math.max(R[1][1],P[1][1])]]:P=R}f==null||f(D,{...m})}).on("drag",D=>{const{transform:T,snapGrid:L,snapToGrid:H,nodeOrigin:w}=n(),I=Mt(D.sourceEvent,{transform:T,snapGrid:L,snapToGrid:H,containerBounds:b}),N=[];if(!y)return;const{x:$,y:B,width:k,height:O}=m,R={},j=y.origin??w,{width:Y,height:M,x:G,y:F}=Qf(x,v,I,a,u,j,C,P),V=Y!==k,W=M!==O,q=G!==$&&V,K=F!==B&&W;if(!q&&!K&&!V&&!W)return;if((q||K||j[0]===1||j[1]===1)&&(R.x=q?G:m.x,R.y=K?F:m.y,m.x=R.x,m.y=R.y,S.length>0)){const J=G-$,se=F-B;for(const oe of S)oe.position={x:oe.position.x-J+j[0]*(Y-k),y:oe.position.y-se+j[1]*(M-O)},N.push(oe)}if((V||W)&&(R.width=V&&(!h||h==="horizontal")?Y:m.width,R.height=W&&(!h||h==="vertical")?M:m.height,m.width=R.width,m.height=R.height),E&&y.expandParent){const J=j[0]*(R.width??0);R.x&&R.x<J&&(m.x=J,x.x=x.x-(R.x-J));const se=j[1]*(R.height??0);R.y&&R.y<se&&(m.y=se,x.y=x.y-(R.y-se))}const Q=Uf({width:m.width,prevWidth:k,height:m.height,prevHeight:O,affectsX:v.affectsX,affectsY:v.affectsY}),X={...m,direction:Q};(p==null?void 0:p(D,X))!==!1&&(d==null||d(D,X),r(R,N))}).on("end",D=>{g==null||g(D,{...m}),o==null||o({...m})});s.call(z)}function i(){s.on(".drag",null)}return{update:c,destroy:i}}var fs={exports:{}},hs={},ps={exports:{}},gs={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=A;function nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rh=typeof Object.is=="function"?Object.is:nh,oh=gt.useState,ih=gt.useEffect,sh=gt.useLayoutEffect,ah=gt.useDebugValue;function ch(e,t){var n=t(),r=oh({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return sh(function(){o.value=n,o.getSnapshot=t,qn(o)&&s({inst:o})},[e,n,t]),ih(function(){return qn(o)&&s({inst:o}),e(function(){qn(o)&&s({inst:o})})},[e]),ah(n),n}function qn(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rh(e,n)}catch{return!0}}function lh(e,t){return t()}var uh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lh:ch;gs.useSyncExternalStore=gt.useSyncExternalStore!==void 0?gt.useSyncExternalStore:uh;ps.exports=gs;var dh=ps.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tn=A,fh=dh;function hh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ph=typeof Object.is=="function"?Object.is:hh,gh=fh.useSyncExternalStore,mh=Tn.useRef,yh=Tn.useEffect,xh=Tn.useMemo,bh=Tn.useDebugValue;hs.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var s=mh(null);if(s.current===null){var c={hasValue:!1,value:null};s.current=c}else c=s.current;s=xh(function(){function l(d){if(!a){if(a=!0,u=d,d=r(d),o!==void 0&&c.hasValue){var g=c.value;if(o(g,d))return h=g}return h=d}if(g=h,ph(u,d))return g;var p=r(d);return o!==void 0&&o(g,p)?(u=d,g):(u=d,h=p)}var a=!1,u,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,o]);var i=gh(e,s[0],s[1]);return yh(function(){c.hasValue=!0,c.value=i},[i]),bh(i),i};fs.exports=hs;var vh=fs.exports;const wh=pr(vh),Eo=e=>{let t;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const d=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(g=>g(t,d))}},o=()=>t,l={setState:r,getState:o,getInitialState:()=>a,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{n.clear()}},a=t=e(r,o,l);return l},_h=e=>e?Eo(e):Eo,{useDebugValue:Sh}=Be,{useSyncExternalStoreWithSelector:Eh}=wh,Ch=e=>e;function ms(e,t=Ch,n){const r=Eh(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Sh(r),r}const Co=(e,t)=>{const n=_h(e),r=(o,s=t)=>ms(n,o,s);return Object.assign(r,n),r},Nh=(e,t)=>e?Co(e,t):Co;function ie(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,o]of e)if(!Object.is(o,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const In=A.createContext(null),kh=In.Provider,ys=Ee.error001();function ee(e,t){const n=A.useContext(In);if(n===null)throw new Error(ys);return ms(n,e,t)}function re(){const e=A.useContext(In);if(e===null)throw new Error(ys);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const No={display:"none"},Mh={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},xs="react-flow__node-desc",bs="react-flow__edge-desc",Ph="react-flow__aria-live",Ah=e=>e.ariaLiveMessage;function Th({rfId:e}){const t=ee(Ah);return _("div",{id:`${Ph}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:Mh,children:t})}function Ih({rfId:e,disableKeyboardA11y:t}){return U(Ce,{children:[U("div",{id:`${xs}-${e}`,style:No,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),_("div",{id:`${bs}-${e}`,style:No,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&_(Th,{rfId:e})]})}const Oh=e=>e.userSelectionActive?"none":"all",On=A.forwardRef(({position:e="top-left",children:t,className:n,style:r,...o},s)=>{const c=ee(Oh),i=`${e}`.split("-");return _("div",{className:ae(["react-flow__panel",n,...i]),style:{...r,pointerEvents:c},ref:s,...o,children:t})});On.displayName="Panel";function Dh({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:_(On,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:_("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const $h=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},en=e=>e.id;function zh(e,t){return ie(e.selectedNodes.map(en),t.selectedNodes.map(en))&&ie(e.selectedEdges.map(en),t.selectedEdges.map(en))}function Rh({onSelectionChange:e}){const t=re(),{selectedNodes:n,selectedEdges:r}=ee($h,zh);return A.useEffect(()=>{const o={nodes:n,edges:r};e==null||e(o),t.getState().onSelectionChangeHandlers.forEach(s=>s(o))},[n,r,e]),null}const Lh=e=>!!e.onSelectionChangeHandlers;function Hh({onSelectionChange:e}){const t=ee(Lh);return e||t?_(Rh,{onSelectionChange:e}):null}const vs=[0,0],Bh={x:0,y:0,zoom:1},jh=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],ko=[...jh,"rfId"],Fh=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Mo={translateExtent:$t,nodeOrigin:vs,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Vh(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:s,setNodeExtent:c,reset:i,setDefaultNodesAndEdges:l,setPaneClickDistance:a}=ee(Fh,ie),u=re();A.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{h.current=Mo,i()}),[]);const h=A.useRef(Mo);return A.useEffect(()=>{for(const f of ko){const d=e[f],g=h.current[f];d!==g&&(typeof e[f]>"u"||(f==="nodes"?t(d):f==="edges"?n(d):f==="minZoom"?r(d):f==="maxZoom"?o(d):f==="translateExtent"?s(d):f==="nodeExtent"?c(d):f==="paneClickDistance"?a(d):f==="fitView"?u.setState({fitViewQueued:d}):f==="fitViewOptions"?u.setState({fitViewOptions:d}):u.setState({[f]:d})))}h.current=e},ko.map(f=>e[f])),null}function Po(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Wh(e){var r;const[t,n]=A.useState(e==="system"?null:e);return A.useEffect(()=>{if(e!=="system"){n(e);return}const o=Po(),s=()=>n(o!=null&&o.matches?"dark":"light");return s(),o==null||o.addEventListener("change",s),()=>{o==null||o.removeEventListener("change",s)}},[e]),t!==null?t:(r=Po())!=null&&r.matches?"dark":"light"}const Ao=typeof document<"u"?document:null;function Ht(e=null,t={target:Ao,actInsideInputWithModifier:!0}){const[n,r]=A.useState(!1),o=A.useRef(!1),s=A.useRef(new Set([])),[c,i]=A.useMemo(()=>{if(e!==null){const a=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),u=a.reduce((h,f)=>h.concat(...f),[]);return[a,u]}return[[],[]]},[e]);return A.useEffect(()=>{const l=(t==null?void 0:t.target)||Ao;if(e!==null){const a=f=>{var p,m;if(o.current=f.ctrlKey||f.metaKey||f.shiftKey||f.altKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&Ui(f))return!1;const g=Io(f.code,i);if(s.current.add(f[g]),To(c,s.current,!1)){const x=((m=(p=f.composedPath)==null?void 0:p.call(f))==null?void 0:m[0])||f.target,v=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";t.preventDefault!==!1&&(o.current||!v)&&f.preventDefault(),r(!0)}},u=f=>{const d=Io(f.code,i);To(c,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(f[d]),f.key==="Meta"&&s.current.clear(),o.current=!1},h=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",a),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",a),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function To(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(o=>t.has(o)))}function Io(e,t){return t.includes(e)?"code":"key"}const Yh=()=>{const e=re();return A.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,o,s],panZoom:c}=e.getState();return c?(await c.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??s},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:o,height:s,maxZoom:c,panZoom:i}=e.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:c,a=o/2-t*l,u=s/2-n*l;return i?(await i.setViewport({x:a,y:u,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:o,minZoom:s,maxZoom:c,panZoom:i}=e.getState(),l=Cr(t,r,o,s,c,(n==null?void 0:n.padding)??.1);return i?(await i.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:o,snapToGrid:s,domNode:c}=e.getState();if(!c)return t;const{x:i,y:l}=c.getBoundingClientRect(),a={x:t.x-i,y:t.y-l},u=n.snapGrid??o,h=n.snapToGrid??s;return Yt(a,r,h,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:s}=r.getBoundingClientRect(),c=gn(t,n);return{x:c.x+o,y:c.y+s}}}),[])};function ws(e,t){const n=[],r=new Map,o=[];for(const s of e)if(s.type==="add"){o.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const c=r.get(s.id);c?c.push(s):r.set(s.id,[s])}for(const s of t){const c=r.get(s.id);if(!c){n.push(s);continue}if(c[0].type==="remove")continue;if(c[0].type==="replace"){n.push({...c[0].item});continue}const i={...s};for(const l of c)Xh(l,i);n.push(i)}return o.length&&o.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function Xh(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function _s(e,t){return ws(e,t)}function Ss(e,t){return ws(e,t)}function Xe(e,t){return{id:e,type:"select",selected:t}}function it(e,t=new Set,n=!1){const r=[];for(const[o,s]of e){const c=t.has(o);!(s.selected===void 0&&!c)&&s.selected!==c&&(n&&(s.selected=c),r.push(Xe(s.id,c)))}return r}function Oo({items:e=[],lookup:t}){var o;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,c]of e.entries()){const i=t.get(c.id),l=((o=i==null?void 0:i.internals)==null?void 0:o.userNode)??i;l!==void 0&&l!==c&&n.push({id:c.id,item:c,type:"replace"}),l===void 0&&n.push({item:c,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function Do(e){return{id:e.id,type:"remove"}}const $o=e=>af(e),Gh=e=>Bi(e);function Es(e){return A.forwardRef(e)}const qh=typeof window<"u"?A.useLayoutEffect:A.useEffect;function zo(e){const[t,n]=A.useState(BigInt(0)),[r]=A.useState(()=>Uh(()=>n(o=>o+BigInt(1))));return qh(()=>{const o=r.get();o.length&&(e(o),r.reset())},[t]),r}function Uh(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Cs=A.createContext(null);function Kh({children:e}){const t=re(),n=A.useCallback(i=>{const{nodes:l=[],setNodes:a,hasDefaultNodes:u,onNodesChange:h,nodeLookup:f,fitViewQueued:d}=t.getState();let g=l;for(const p of i)g=typeof p=="function"?p(g):p;if(u)a(g);else{const p=Oo({items:g,lookup:f});p.length>0?h==null||h(p):d&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:x,setNodes:v}=t.getState();m&&v(x)})}},[]),r=zo(n),o=A.useCallback(i=>{const{edges:l=[],setEdges:a,hasDefaultEdges:u,onEdgesChange:h,edgeLookup:f}=t.getState();let d=l;for(const g of i)d=typeof g=="function"?g(d):g;u?a(d):h&&h(Oo({items:d,lookup:f}))},[]),s=zo(o),c=A.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return _(Cs.Provider,{value:c,children:e})}function Qh(){const e=A.useContext(Cs);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Zh=e=>!!e.panZoom;function Tr(){const e=Yh(),t=re(),n=Qh(),r=ee(Zh),o=A.useMemo(()=>{const s=h=>t.getState().nodeLookup.get(h),c=h=>{n.nodeQueue.push(h)},i=h=>{n.edgeQueue.push(h)},l=h=>{var x,v;const{nodeLookup:f,nodeOrigin:d}=t.getState(),g=$o(h)?h:f.get(h.id),p=g.parentId?Gi(g.position,g.measured,g.parentId,f,d):g.position,m={...g,position:p,width:((x=g.measured)==null?void 0:x.width)??g.width,height:((v=g.measured)==null?void 0:v.height)??g.height};return ht(m)},a=(h,f,d={replace:!1})=>{c(g=>g.map(p=>{if(p.id===h){const m=typeof f=="function"?f(p):f;return d.replace&&$o(m)?m:{...p,...m}}return p}))},u=(h,f,d={replace:!1})=>{i(g=>g.map(p=>{if(p.id===h){const m=typeof f=="function"?f(p):f;return d.replace&&Gh(m)?m:{...p,...m}}return p}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var f;return(f=s(h))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(f=>({...f}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:c,setEdges:i,addNodes:h=>{const f=Array.isArray(h)?h:[h];n.nodeQueue.push(d=>[...d,...f])},addEdges:h=>{const f=Array.isArray(h)?h:[h];n.edgeQueue.push(d=>[...d,...f])},toObject:()=>{const{nodes:h=[],edges:f=[],transform:d}=t.getState(),[g,p,m]=d;return{nodes:h.map(x=>({...x})),edges:f.map(x=>({...x})),viewport:{x:g,y:p,zoom:m}}},deleteElements:async({nodes:h=[],edges:f=[]})=>{const{nodes:d,edges:g,onNodesDelete:p,onEdgesDelete:m,triggerNodeChanges:x,triggerEdgeChanges:v,onDelete:y,onBeforeDelete:b}=t.getState(),{nodes:S,edges:E}=await ff({nodesToRemove:h,edgesToRemove:f,nodes:d,edges:g,onBeforeDelete:b}),C=E.length>0,P=S.length>0;if(C){const z=E.map(Do);m==null||m(E),v(z)}if(P){const z=S.map(Do);p==null||p(S),x(z)}return(P||C)&&(y==null||y({nodes:S,edges:E})),{deletedNodes:S,deletedEdges:E}},getIntersectingNodes:(h,f=!0,d)=>{const g=fo(h),p=g?h:l(h),m=d!==void 0;return p?(d||t.getState().nodes).filter(x=>{const v=t.getState().nodeLookup.get(x.id);if(v&&!g&&(x.id===h.id||!v.internals.positionAbsolute))return!1;const y=ht(m?x:v),b=Rt(y,p);return f&&b>0||b>=p.width*p.height}):[]},isNodeIntersecting:(h,f,d=!0)=>{const p=fo(h)?h:l(h);if(!p)return!1;const m=Rt(p,f);return d&&m>0||m>=p.width*p.height},updateNode:a,updateNodeData:(h,f,d={replace:!1})=>{a(h,g=>{const p=typeof f=="function"?f(g):f;return d.replace?{...g,data:p}:{...g,data:{...g.data,...p}}},d)},updateEdge:u,updateEdgeData:(h,f,d={replace:!1})=>{u(h,g=>{const p=typeof f=="function"?f(g):f;return d.replace?{...g,data:p}:{...g,data:{...g.data,...p}}},d)},getNodesBounds:h=>{const{nodeLookup:f,nodeOrigin:d}=t.getState();return cf(h,{nodeLookup:f,nodeOrigin:d})},getHandleConnections:({type:h,id:f,nodeId:d})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${d}-${h}${f?`-${f}`:""}`))==null?void 0:g.values())??[])},getNodeConnections:({type:h,handleId:f,nodeId:d})=>{var g;return Array.from(((g=t.getState().connectionLookup.get(`${d}${h?f?`-${h}-${f}`:`-${h}`:""}`))==null?void 0:g.values())??[])},fitView:async h=>{const f=t.getState().fitViewResolver??mf();return t.setState({fitViewQueued:!0,fitViewOptions:h,fitViewResolver:f}),n.nodeQueue.push(d=>[...d]),f.promise}}},[]);return A.useMemo(()=>({...o,...e,viewportInitialized:r}),[r])}const Ro=e=>e.selected,Jh={actInsideInputWithModifier:!1},ep=typeof window<"u"?window:void 0;function tp({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=re(),{deleteElements:r}=Tr(),o=Ht(e,Jh),s=Ht(t,{target:ep});A.useEffect(()=>{if(o){const{edges:c,nodes:i}=n.getState();r({nodes:i.filter(Ro),edges:c.filter(Ro)}),n.setState({nodesSelectionActive:!1})}},[o]),A.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function np(e){const t=re();A.useEffect(()=>{const n=()=>{var o,s;if(!e.current)return!1;const r=Nr(e.current);(r.height===0||r.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",Ee.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Dn={position:"absolute",width:"100%",height:"100%",top:0,left:0},rp=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function op({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:s=Ke.Free,zoomOnDoubleClick:c=!0,panOnDrag:i=!0,defaultViewport:l,translateExtent:a,minZoom:u,maxZoom:h,zoomActivationKeyCode:f,preventScrolling:d=!0,children:g,noWheelClassName:p,noPanClassName:m,onViewportChange:x,isControlledViewport:v,paneClickDistance:y}){const b=re(),S=A.useRef(null),{userSelectionActive:E,lib:C}=ee(rp,ie),P=Ht(f),z=A.useRef();np(S);const D=A.useCallback(T=>{x==null||x({x:T[0],y:T[1],zoom:T[2]}),v||b.setState({transform:T})},[x,v]);return A.useEffect(()=>{if(S.current){z.current=qf({domNode:S.current,minZoom:u,maxZoom:h,translateExtent:a,viewport:l,paneClickDistance:y,onDraggingChange:w=>b.setState({paneDragging:w}),onPanZoomStart:(w,I)=>{const{onViewportChangeStart:N,onMoveStart:$}=b.getState();$==null||$(w,I),N==null||N(I)},onPanZoom:(w,I)=>{const{onViewportChange:N,onMove:$}=b.getState();$==null||$(w,I),N==null||N(I)},onPanZoomEnd:(w,I)=>{const{onViewportChangeEnd:N,onMoveEnd:$}=b.getState();$==null||$(w,I),N==null||N(I)}});const{x:T,y:L,zoom:H}=z.current.getViewport();return b.setState({panZoom:z.current,transform:[T,L,H],domNode:S.current.closest(".react-flow")}),()=>{var w;(w=z.current)==null||w.destroy()}}},[]),A.useEffect(()=>{var T;(T=z.current)==null||T.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:s,zoomOnDoubleClick:c,panOnDrag:i,zoomActivationKeyPressed:P,preventScrolling:d,noPanClassName:m,userSelectionActive:E,noWheelClassName:p,lib:C,onTransformChange:D})},[e,t,n,r,o,s,c,i,P,d,m,E,p,C,D]),_("div",{className:"react-flow__renderer",ref:S,style:Dn,children:g})}const ip=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sp(){const{userSelectionActive:e,userSelectionRect:t}=ee(ip,ie);return e&&t?_("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Un=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},ap=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function cp({isSelecting:e,selectionKeyPressed:t,selectionMode:n=zt.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:s,onSelectionEnd:c,onPaneClick:i,onPaneContextMenu:l,onPaneScroll:a,onPaneMouseEnter:u,onPaneMouseMove:h,onPaneMouseLeave:f,children:d}){const g=re(),{userSelectionActive:p,elementsSelectable:m,dragging:x,connectionInProgress:v}=ee(ap,ie),y=m&&(e||p),b=A.useRef(null),S=A.useRef(),E=A.useRef(new Set),C=A.useRef(new Set),P=A.useRef(!1),z=A.useRef(!1),D=$=>{if(P.current||v){P.current=!1;return}i==null||i($),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1})},T=$=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){$.preventDefault();return}l==null||l($)},L=a?$=>a($):void 0,H=$=>{var j,Y;const{resetSelectedElements:B,domNode:k}=g.getState();if(S.current=k==null?void 0:k.getBoundingClientRect(),!m||!e||$.button!==0||$.target!==b.current||!S.current)return;(Y=(j=$.target)==null?void 0:j.setPointerCapture)==null||Y.call(j,$.pointerId),z.current=!0,P.current=!1;const{x:O,y:R}=Te($.nativeEvent,S.current);B(),g.setState({userSelectionRect:{width:0,height:0,startX:O,startY:R,x:O,y:R}}),s==null||s($)},w=$=>{const{userSelectionRect:B,transform:k,nodeLookup:O,edgeLookup:R,connectionLookup:j,triggerNodeChanges:Y,triggerEdgeChanges:M,defaultEdgeOptions:G}=g.getState();if(!S.current||!B)return;P.current=!0;const{x:F,y:V}=Te($.nativeEvent,S.current),{startX:W,startY:q}=B,K={startX:W,startY:q,x:F<W?F:W,y:V<q?V:q,width:Math.abs(F-W),height:Math.abs(V-q)},Q=E.current,X=C.current;E.current=new Set(ji(O,K,k,n===zt.Partial,!0).map(J=>J.id)),C.current=new Set;const ne=(G==null?void 0:G.selectable)??!0;for(const J of E.current){const se=j.get(J);if(se)for(const{edgeId:oe}of se.values()){const $e=R.get(oe);$e&&($e.selectable??ne)&&C.current.add(oe)}}if(!ho(Q,E.current)){const J=it(O,E.current,!0);Y(J)}if(!ho(X,C.current)){const J=it(R,C.current);M(J)}g.setState({userSelectionRect:K,userSelectionActive:!0,nodesSelectionActive:!1})},I=$=>{var k,O;if($.button!==0||!z.current)return;(O=(k=$.target)==null?void 0:k.releasePointerCapture)==null||O.call(k,$.pointerId);const{userSelectionRect:B}=g.getState();!p&&B&&$.target===b.current&&(D==null||D($)),g.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),c==null||c($),(t||o)&&(P.current=!1),z.current=!1},N=r===!0||Array.isArray(r)&&r.includes(0);return U("div",{className:ae(["react-flow__pane",{draggable:N,dragging:x,selection:e}]),onClick:y?void 0:Un(D,b),onContextMenu:Un(T,b),onWheel:Un(L,b),onPointerEnter:y?void 0:u,onPointerDown:y?H:h,onPointerMove:y?w:h,onPointerUp:y?I:void 0,onPointerLeave:f,ref:b,style:Dn,children:[d,_(sp,{})]})}function fr({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:o,unselectNodesAndEdges:s,multiSelectionActive:c,nodeLookup:i,onError:l}=t.getState(),a=i.get(e);if(!a){l==null||l("012",Ee.error012(e));return}t.setState({nodesSelectionActive:!1}),a.selected?(n||a.selected&&c)&&(s({nodes:[a],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):o([e])}function Ns({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:s,nodeClickDistance:c}){const i=re(),[l,a]=A.useState(!1),u=A.useRef();return A.useEffect(()=>{u.current=Df({getStoreItems:()=>i.getState(),onNodeMouseDown:h=>{fr({id:h,store:i,nodeRef:e})},onDragStart:()=>{a(!0)},onDragStop:()=>{a(!1)}})},[]),A.useEffect(()=>{var h,f;if(t)(h=u.current)==null||h.destroy();else if(e.current)return(f=u.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:s,nodeId:o,nodeClickDistance:c}),()=>{var d;(d=u.current)==null||d.destroy()}},[n,r,t,s,e,o]),l}const lp=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function ks(){const e=re();return A.useCallback(n=>{const{nodeExtent:r,snapToGrid:o,snapGrid:s,nodesDraggable:c,onError:i,updateNodePositions:l,nodeLookup:a,nodeOrigin:u}=e.getState(),h=new Map,f=lp(c),d=o?s[0]:5,g=o?s[1]:5,p=n.direction.x*d*n.factor,m=n.direction.y*g*n.factor;for(const[,x]of a){if(!f(x))continue;let v={x:x.internals.positionAbsolute.x+p,y:x.internals.positionAbsolute.y+m};o&&(v=Pn(v,s));const{position:y,positionAbsolute:b}=Fi({nodeId:x.id,nextPosition:v,nodeLookup:a,nodeExtent:r,nodeOrigin:u,onError:i});x.position=y,x.internals.positionAbsolute=b,h.set(x.id,x)}l(h)},[])}const Ir=A.createContext(null),up=Ir.Provider;Ir.Consumer;const Ms=()=>A.useContext(Ir),dp=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),fp=(e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:s,connection:c}=r,{fromHandle:i,toHandle:l,isValid:a}=c,u=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,connectingTo:u,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.id)===t&&(o==null?void 0:o.type)===n,isPossibleEndHandle:s===dt.Strict?(i==null?void 0:i.type)!==n:e!==(i==null?void 0:i.nodeId)||t!==(i==null?void 0:i.id),connectionInProcess:!!i,clickConnectionInProcess:!!o,valid:u&&a}};function hp({type:e="source",position:t=Z.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:s=!0,id:c,onConnect:i,children:l,className:a,onMouseDown:u,onTouchStart:h,...f},d){var I,N;const g=c||null,p=e==="target",m=re(),x=Ms(),{connectOnClick:v,noPanClassName:y,rfId:b}=ee(dp,ie),{connectingFrom:S,connectingTo:E,clickConnecting:C,isPossibleEndHandle:P,connectionInProcess:z,clickConnectionInProcess:D,valid:T}=ee(fp(x,g,e),ie);x||(N=(I=m.getState()).onError)==null||N.call(I,"010",Ee.error010());const L=$=>{const{defaultEdgeOptions:B,onConnect:k,hasDefaultEdges:O}=m.getState(),R={...B,...$};if(O){const{edges:j,setEdges:Y}=m.getState();Y(es(R,j))}k==null||k(R),i==null||i(R)},H=$=>{if(!x)return;const B=Ki($.nativeEvent);if(o&&(B&&$.button===0||!B)){const k=m.getState();dr.onPointerDown($.nativeEvent,{autoPanOnConnect:k.autoPanOnConnect,connectionMode:k.connectionMode,connectionRadius:k.connectionRadius,domNode:k.domNode,nodeLookup:k.nodeLookup,lib:k.lib,isTarget:p,handleId:g,nodeId:x,flowId:k.rfId,panBy:k.panBy,cancelConnection:k.cancelConnection,onConnectStart:k.onConnectStart,onConnectEnd:k.onConnectEnd,updateConnection:k.updateConnection,onConnect:L,isValidConnection:n||k.isValidConnection,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,autoPanSpeed:k.autoPanSpeed})}B?u==null||u($):h==null||h($)},w=$=>{const{onClickConnectStart:B,onClickConnectEnd:k,connectionClickStartHandle:O,connectionMode:R,isValidConnection:j,lib:Y,rfId:M,nodeLookup:G,connection:F}=m.getState();if(!x||!O&&!o)return;if(!O){B==null||B($.nativeEvent,{nodeId:x,handleId:g,handleType:e}),m.setState({connectionClickStartHandle:{nodeId:x,type:e,id:g}});return}const V=qi($.target),W=n||j,{connection:q,isValid:K}=dr.isValid($.nativeEvent,{handle:{nodeId:x,id:g,type:e},connectionMode:R,fromNodeId:O.nodeId,fromHandleId:O.id||null,fromType:O.type,isValidConnection:W,flowId:M,doc:V,lib:Y,nodeLookup:G});K&&q&&L(q);const Q=structuredClone(F);delete Q.inProgress,Q.toPosition=Q.toHandle?Q.toHandle.position:null,k==null||k($,Q),m.setState({connectionClickStartHandle:null})};return _("div",{"data-handleid":g,"data-nodeid":x,"data-handlepos":t,"data-id":`${b}-${x}-${g}-${e}`,className:ae(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",y,a,{source:!p,target:p,connectable:r,connectablestart:o,connectableend:s,clickconnecting:C,connectingfrom:S,connectingto:E,valid:T,connectionindicator:r&&(!z||P)&&(z||D?s:o)}]),onMouseDown:H,onTouchStart:H,onClick:v?w:void 0,ref:d,...f,children:l})}const mt=A.memo(Es(hp));function pp({data:e,isConnectable:t,sourcePosition:n=Z.Bottom}){return U(Ce,{children:[e==null?void 0:e.label,_(mt,{type:"source",position:n,isConnectable:t})]})}function gp({data:e,isConnectable:t,targetPosition:n=Z.Top,sourcePosition:r=Z.Bottom}){return U(Ce,{children:[_(mt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,_(mt,{type:"source",position:r,isConnectable:t})]})}function mp(){return null}function yp({data:e,isConnectable:t,targetPosition:n=Z.Top}){return U(Ce,{children:[_(mt,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const yn={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Lo={input:pp,default:gp,output:yp,group:mp};function xp(e){var t,n,r,o;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((o=e.style)==null?void 0:o.height)}}const bp=e=>{const{width:t,height:n,x:r,y:o}=Wt(e.nodeLookup,{filter:s=>!!s.selected});return{width:be(t)?t:null,height:be(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function vp({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=re(),{width:o,height:s,transformString:c,userSelectionActive:i}=ee(bp,ie),l=ks(),a=A.useRef(null);if(A.useEffect(()=>{var f;n||(f=a.current)==null||f.focus({preventScroll:!0})},[n]),Ns({nodeRef:a}),i||!o||!s)return null;const u=e?f=>{const d=r.getState().nodes.filter(g=>g.selected);e(f,d)}:void 0,h=f=>{Object.prototype.hasOwnProperty.call(yn,f.key)&&(f.preventDefault(),l({direction:yn[f.key],factor:f.shiftKey?4:1}))};return _("div",{className:ae(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:_("div",{ref:a,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:o,height:s}})})}const Ho=typeof window<"u"?window:void 0,wp=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Ps({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:c,paneClickDistance:i,deleteKeyCode:l,selectionKeyCode:a,selectionOnDrag:u,selectionMode:h,onSelectionStart:f,onSelectionEnd:d,multiSelectionKeyCode:g,panActivationKeyCode:p,zoomActivationKeyCode:m,elementsSelectable:x,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:b,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:P,defaultViewport:z,translateExtent:D,minZoom:T,maxZoom:L,preventScrolling:H,onSelectionContextMenu:w,noWheelClassName:I,noPanClassName:N,disableKeyboardA11y:$,onViewportChange:B,isControlledViewport:k}){const{nodesSelectionActive:O,userSelectionActive:R}=ee(wp),j=Ht(a,{target:Ho}),Y=Ht(p,{target:Ho}),M=Y||P,G=Y||b,F=u&&M!==!0,V=j||R||F;return tp({deleteKeyCode:l,multiSelectionKeyCode:g}),_(op,{onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:v,zoomOnPinch:y,panOnScroll:G,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:C,panOnDrag:!j&&M,defaultViewport:z,translateExtent:D,minZoom:T,maxZoom:L,zoomActivationKeyCode:m,preventScrolling:H,noWheelClassName:I,noPanClassName:N,onViewportChange:B,isControlledViewport:k,paneClickDistance:i,children:U(cp,{onSelectionStart:f,onSelectionEnd:d,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:s,onPaneScroll:c,panOnDrag:M,isSelecting:!!V,selectionMode:h,selectionKeyPressed:j,selectionOnDrag:F,children:[e,O&&_(vp,{onSelectionContextMenu:w,noPanClassName:N,disableKeyboardA11y:$})]})})}Ps.displayName="FlowRenderer";const _p=A.memo(Ps),Sp=e=>t=>e?ji(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function Ep(e){return ee(A.useCallback(Sp(e),[e]),ie)}const Cp=e=>e.updateNodeInternals;function Np(){const e=ee(Cp),[t]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(o=>{const s=o.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:o.target,force:!0})}),e(r)}));return A.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function kp({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const o=re(),s=A.useRef(null),c=A.useRef(null),i=A.useRef(e.sourcePosition),l=A.useRef(e.targetPosition),a=A.useRef(t),u=n&&!!e.internals.handleBounds;return A.useEffect(()=>{s.current&&!e.hidden&&(!u||c.current!==s.current)&&(c.current&&(r==null||r.unobserve(c.current)),r==null||r.observe(s.current),c.current=s.current)},[u,e.hidden]),A.useEffect(()=>()=>{c.current&&(r==null||r.unobserve(c.current),c.current=null)},[]),A.useEffect(()=>{if(s.current){const h=a.current!==t,f=i.current!==e.sourcePosition,d=l.current!==e.targetPosition;(h||f||d)&&(a.current=t,i.current=e.sourcePosition,l.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:s.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),s}function Mp({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:s,onDoubleClick:c,nodesDraggable:i,elementsSelectable:l,nodesConnectable:a,nodesFocusable:u,resizeObserver:h,noDragClassName:f,noPanClassName:d,disableKeyboardA11y:g,rfId:p,nodeTypes:m,nodeClickDistance:x,onError:v}){const{node:y,internals:b,isParent:S}=ee(V=>{const W=V.nodeLookup.get(e),q=V.parentLookup.has(e);return{node:W,internals:W.internals,isParent:q}},ie);let E=y.type||"default",C=(m==null?void 0:m[E])||Lo[E];C===void 0&&(v==null||v("003",Ee.error003(E)),E="default",C=Lo.default);const P=!!(y.draggable||i&&typeof y.draggable>"u"),z=!!(y.selectable||l&&typeof y.selectable>"u"),D=!!(y.connectable||a&&typeof y.connectable>"u"),T=!!(y.focusable||u&&typeof y.focusable>"u"),L=re(),H=Xi(y),w=kp({node:y,nodeType:E,hasDimensions:H,resizeObserver:h}),I=Ns({nodeRef:w,disabled:y.hidden||!P,noDragClassName:f,handleSelector:y.dragHandle,nodeId:e,isSelectable:z,nodeClickDistance:x}),N=ks();if(y.hidden)return null;const $=De(y),B=xp(y),k=z||P||t||n||r||o,O=n?V=>n(V,{...b.userNode}):void 0,R=r?V=>r(V,{...b.userNode}):void 0,j=o?V=>o(V,{...b.userNode}):void 0,Y=s?V=>s(V,{...b.userNode}):void 0,M=c?V=>c(V,{...b.userNode}):void 0,G=V=>{const{selectNodesOnDrag:W,nodeDragThreshold:q}=L.getState();z&&(!W||!P||q>0)&&fr({id:e,store:L,nodeRef:w}),t&&t(V,{...b.userNode})},F=V=>{if(!(Ui(V.nativeEvent)||g))if(Ri.includes(V.key)&&z){const W=V.key==="Escape";fr({id:e,store:L,unselect:W,nodeRef:w})}else P&&y.selected&&Object.prototype.hasOwnProperty.call(yn,V.key)&&(V.preventDefault(),L.setState({ariaLiveMessage:`Moved selected node ${V.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~b.positionAbsolute.x}, y: ${~~b.positionAbsolute.y}`}),N({direction:yn[V.key],factor:V.shiftKey?4:1}))};return _("div",{className:ae(["react-flow__node",`react-flow__node-${E}`,{[d]:P},y.className,{selected:y.selected,selectable:z,parent:S,draggable:P,dragging:I}]),ref:w,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:k?"all":"none",visibility:H?"visible":"hidden",...y.style,...B},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:O,onMouseMove:R,onMouseLeave:j,onContextMenu:Y,onClick:G,onDoubleClick:M,onKeyDown:T?F:void 0,tabIndex:T?0:void 0,role:T?"button":void 0,"aria-describedby":g?void 0:`${xs}-${p}`,"aria-label":y.ariaLabel,children:_(up,{value:e,children:_(C,{id:e,data:y.data,type:E,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:y.selected??!1,selectable:z,draggable:P,deletable:y.deletable??!0,isConnectable:D,sourcePosition:y.sourcePosition,targetPosition:y.targetPosition,dragging:I,dragHandle:y.dragHandle,zIndex:b.z,parentId:y.parentId,...$})})})}const Pp=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function As(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:s}=ee(Pp,ie),c=Ep(e.onlyRenderVisibleElements),i=Np();return _("div",{className:"react-flow__nodes",style:Dn,children:c.map(l=>_(Mp,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:i,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:s},l))})}As.displayName="NodeRenderer";const Ap=A.memo(As);function Tp(e){return ee(A.useCallback(n=>{if(!e)return n.edges.map(o=>o.id);const r=[];if(n.width&&n.height)for(const o of n.edges){const s=n.nodeLookup.get(o.source),c=n.nodeLookup.get(o.target);s&&c&&bf({sourceNode:s,targetNode:c,width:n.width,height:n.height,transform:n.transform})&&r.push(o.id)}return r},[e]),ie)}const Ip=({color:e="none",strokeWidth:t=1})=>_("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Op=({color:e="none",strokeWidth:t=1})=>_("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Bo={[hn.Arrow]:Ip,[hn.ArrowClosed]:Op};function Dp(e){const t=re();return A.useMemo(()=>{var o,s;return Object.prototype.hasOwnProperty.call(Bo,e)?Bo[e]:((s=(o=t.getState()).onError)==null||s.call(o,"009",Ee.error009(e)),null)},[e])}const $p=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:s="strokeWidth",strokeWidth:c,orient:i="auto-start-reverse"})=>{const l=Dp(t);return l?_("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:i,refX:"0",refY:"0",children:_(l,{color:n,strokeWidth:c})}):null},Ts=({defaultColor:e,rfId:t})=>{const n=ee(s=>s.edges),r=ee(s=>s.defaultEdgeOptions),o=A.useMemo(()=>Nf(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return o.length?_("svg",{className:"react-flow__marker","aria-hidden":"true",children:_("defs",{children:o.map(s=>_($p,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Ts.displayName="MarkerDefinitions";var zp=A.memo(Ts);function Is({x:e,y:t,label:n,labelStyle:r,labelShowBg:o=!0,labelBgStyle:s,labelBgPadding:c=[2,4],labelBgBorderRadius:i=2,children:l,className:a,...u}){const[h,f]=A.useState({x:1,y:0,width:0,height:0}),d=ae(["react-flow__edge-textwrapper",a]),g=A.useRef(null);return A.useEffect(()=>{if(g.current){const p=g.current.getBBox();f({x:p.x,y:p.y,width:p.width,height:p.height})}},[n]),n?U("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:d,visibility:h.width?"visible":"hidden",...u,children:[o&&_("rect",{width:h.width+2*c[0],x:-c[0],y:-c[1],height:h.height+2*c[1],className:"react-flow__edge-textbg",style:s,rx:i,ry:i}),_("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:g,style:r,children:n}),l]}):null}Is.displayName="EdgeText";const Rp=A.memo(Is);function $n({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:i,labelBgBorderRadius:l,interactionWidth:a=20,...u}){return U(Ce,{children:[_("path",{...u,d:e,fill:"none",className:ae(["react-flow__edge-path",u.className])}),a&&_("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:a,className:"react-flow__edge-interaction"}),r&&be(t)&&be(n)?_(Rp,{x:t,y:n,label:r,labelStyle:o,labelShowBg:s,labelBgStyle:c,labelBgPadding:i,labelBgBorderRadius:l}):null]})}function jo({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===Z.Left||e===Z.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function Os({sourceX:e,sourceY:t,sourcePosition:n=Z.Bottom,targetX:r,targetY:o,targetPosition:s=Z.Top}){const[c,i]=jo({pos:n,x1:e,y1:t,x2:r,y2:o}),[l,a]=jo({pos:s,x1:r,y1:o,x2:e,y2:t}),[u,h,f,d]=Qi({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:c,sourceControlY:i,targetControlX:l,targetControlY:a});return[`M${e},${t} C${c},${i} ${l},${a} ${r},${o}`,u,h,f,d]}function Ds(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:c,targetPosition:i,label:l,labelStyle:a,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:d,style:g,markerEnd:p,markerStart:m,interactionWidth:x})=>{const[v,y,b]=Os({sourceX:n,sourceY:r,sourcePosition:c,targetX:o,targetY:s,targetPosition:i}),S=e.isInternal?void 0:t;return _($n,{id:S,path:v,labelX:y,labelY:b,label:l,labelStyle:a,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:d,style:g,markerEnd:p,markerStart:m,interactionWidth:x})})}const Lp=Ds({isInternal:!1}),$s=Ds({isInternal:!0});Lp.displayName="SimpleBezierEdge";$s.displayName="SimpleBezierEdgeInternal";function zs(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:c,labelStyle:i,labelShowBg:l,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:h,style:f,sourcePosition:d=Z.Bottom,targetPosition:g=Z.Top,markerEnd:p,markerStart:m,pathOptions:x,interactionWidth:v})=>{const[y,b,S]=cr({sourceX:n,sourceY:r,sourcePosition:d,targetX:o,targetY:s,targetPosition:g,borderRadius:x==null?void 0:x.borderRadius,offset:x==null?void 0:x.offset}),E=e.isInternal?void 0:t;return _($n,{id:E,path:y,labelX:b,labelY:S,label:c,labelStyle:i,labelShowBg:l,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:p,markerStart:m,interactionWidth:v})})}const Rs=zs({isInternal:!1}),Ls=zs({isInternal:!0});Rs.displayName="SmoothStepEdge";Ls.displayName="SmoothStepEdgeInternal";function Hs(e){return A.memo(({id:t,...n})=>{var o;const r=e.isInternal?void 0:t;return _(Rs,{...n,id:r,pathOptions:A.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(o=n.pathOptions)==null?void 0:o.offset])})})}const Hp=Hs({isInternal:!1}),Bs=Hs({isInternal:!0});Hp.displayName="StepEdge";Bs.displayName="StepEdgeInternal";function js(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,label:c,labelStyle:i,labelShowBg:l,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:d,markerStart:g,interactionWidth:p})=>{const[m,x,v]=ts({sourceX:n,sourceY:r,targetX:o,targetY:s}),y=e.isInternal?void 0:t;return _($n,{id:y,path:m,labelX:x,labelY:v,label:c,labelStyle:i,labelShowBg:l,labelBgStyle:a,labelBgPadding:u,labelBgBorderRadius:h,style:f,markerEnd:d,markerStart:g,interactionWidth:p})})}const Bp=js({isInternal:!1}),Fs=js({isInternal:!0});Bp.displayName="StraightEdge";Fs.displayName="StraightEdgeInternal";function Vs(e){return A.memo(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:s,sourcePosition:c=Z.Bottom,targetPosition:i=Z.Top,label:l,labelStyle:a,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:d,style:g,markerEnd:p,markerStart:m,pathOptions:x,interactionWidth:v})=>{const[y,b,S]=Zi({sourceX:n,sourceY:r,sourcePosition:c,targetX:o,targetY:s,targetPosition:i,curvature:x==null?void 0:x.curvature}),E=e.isInternal?void 0:t;return _($n,{id:E,path:y,labelX:b,labelY:S,label:l,labelStyle:a,labelShowBg:u,labelBgStyle:h,labelBgPadding:f,labelBgBorderRadius:d,style:g,markerEnd:p,markerStart:m,interactionWidth:v})})}const jp=Vs({isInternal:!1}),Ws=Vs({isInternal:!0});jp.displayName="BezierEdge";Ws.displayName="BezierEdgeInternal";const Fo={default:Ws,straight:Fs,step:Bs,smoothstep:Ls,simplebezier:$s},Vo={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Fp=(e,t,n)=>n===Z.Left?e-t:n===Z.Right?e+t:e,Vp=(e,t,n)=>n===Z.Top?e-t:n===Z.Bottom?e+t:e,Wo="react-flow__edgeupdater";function Yo({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:c,type:i}){return _("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:c,className:ae([Wo,`${Wo}-${i}`]),cx:Fp(t,r,e),cy:Vp(n,r,e),r,stroke:"transparent",fill:"transparent"})}function Wp({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:s,targetY:c,sourcePosition:i,targetPosition:l,onReconnect:a,onReconnectStart:u,onReconnectEnd:h,setReconnecting:f,setUpdateHover:d}){const g=re(),p=(b,S)=>{if(b.button!==0)return;const{autoPanOnConnect:E,domNode:C,isValidConnection:P,connectionMode:z,connectionRadius:D,lib:T,onConnectStart:L,onConnectEnd:H,cancelConnection:w,nodeLookup:I,rfId:N,panBy:$,updateConnection:B}=g.getState(),k=S.type==="target";f(!0),u==null||u(b,n,S.type);const O=(j,Y)=>{f(!1),h==null||h(j,n,S.type,Y)},R=j=>a==null?void 0:a(n,j);dr.onPointerDown(b.nativeEvent,{autoPanOnConnect:E,connectionMode:z,connectionRadius:D,domNode:C,handleId:S.id,nodeId:S.nodeId,nodeLookup:I,isTarget:k,edgeUpdaterType:S.type,lib:T,flowId:N,cancelConnection:w,panBy:$,isValidConnection:P,onConnect:R,onConnectStart:L,onConnectEnd:H,onReconnectEnd:O,updateConnection:B,getTransform:()=>g.getState().transform,getFromHandle:()=>g.getState().connection.fromHandle})},m=b=>p(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),x=b=>p(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),v=()=>d(!0),y=()=>d(!1);return U(Ce,{children:[(e===!0||e==="source")&&_(Yo,{position:i,centerX:r,centerY:o,radius:t,onMouseDown:m,onMouseEnter:v,onMouseOut:y,type:"source"}),(e===!0||e==="target")&&_(Yo,{position:l,centerX:s,centerY:c,radius:t,onMouseDown:x,onMouseEnter:v,onMouseOut:y,type:"target"})]})}function Yp({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:s,onContextMenu:c,onMouseEnter:i,onMouseMove:l,onMouseLeave:a,reconnectRadius:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:d,rfId:g,edgeTypes:p,noPanClassName:m,onError:x,disableKeyboardA11y:v}){let y=ee(X=>X.edgeLookup.get(e));const b=ee(X=>X.defaultEdgeOptions);y=b?{...b,...y}:y;let S=y.type||"default",E=(p==null?void 0:p[S])||Fo[S];E===void 0&&(x==null||x("011",Ee.error011(S)),S="default",E=Fo.default);const C=!!(y.focusable||t&&typeof y.focusable>"u"),P=typeof h<"u"&&(y.reconnectable||n&&typeof y.reconnectable>"u"),z=!!(y.selectable||r&&typeof y.selectable>"u"),D=A.useRef(null),[T,L]=A.useState(!1),[H,w]=A.useState(!1),I=re(),{zIndex:N,sourceX:$,sourceY:B,targetX:k,targetY:O,sourcePosition:R,targetPosition:j}=ee(A.useCallback(X=>{const ne=X.nodeLookup.get(y.source),J=X.nodeLookup.get(y.target);if(!ne||!J)return{zIndex:y.zIndex,...Vo};const se=Cf({id:e,sourceNode:ne,targetNode:J,sourceHandle:y.sourceHandle||null,targetHandle:y.targetHandle||null,connectionMode:X.connectionMode,onError:x});return{zIndex:xf({selected:y.selected,zIndex:y.zIndex,sourceNode:ne,targetNode:J,elevateOnSelect:X.elevateEdgesOnSelect}),...se||Vo}},[y.source,y.target,y.sourceHandle,y.targetHandle,y.selected,y.zIndex]),ie),Y=A.useMemo(()=>y.markerStart?`url('#${lr(y.markerStart,g)}')`:void 0,[y.markerStart,g]),M=A.useMemo(()=>y.markerEnd?`url('#${lr(y.markerEnd,g)}')`:void 0,[y.markerEnd,g]);if(y.hidden||$===null||B===null||k===null||O===null)return null;const G=X=>{var oe;const{addSelectedEdges:ne,unselectNodesAndEdges:J,multiSelectionActive:se}=I.getState();z&&(I.setState({nodesSelectionActive:!1}),y.selected&&se?(J({nodes:[],edges:[y]}),(oe=D.current)==null||oe.blur()):ne([e])),o&&o(X,y)},F=s?X=>{s(X,{...y})}:void 0,V=c?X=>{c(X,{...y})}:void 0,W=i?X=>{i(X,{...y})}:void 0,q=l?X=>{l(X,{...y})}:void 0,K=a?X=>{a(X,{...y})}:void 0,Q=X=>{var ne;if(!v&&Ri.includes(X.key)&&z){const{unselectNodesAndEdges:J,addSelectedEdges:se}=I.getState();X.key==="Escape"?((ne=D.current)==null||ne.blur(),J({edges:[y]})):se([e])}};return _("svg",{style:{zIndex:N},children:U("g",{className:ae(["react-flow__edge",`react-flow__edge-${S}`,y.className,m,{selected:y.selected,animated:y.animated,inactive:!z&&!o,updating:T,selectable:z}]),onClick:G,onDoubleClick:F,onContextMenu:V,onMouseEnter:W,onMouseMove:q,onMouseLeave:K,onKeyDown:C?Q:void 0,tabIndex:C?0:void 0,role:C?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":y.ariaLabel===null?void 0:y.ariaLabel||`Edge from ${y.source} to ${y.target}`,"aria-describedby":C?`${bs}-${g}`:void 0,ref:D,children:[!H&&_(E,{id:e,source:y.source,target:y.target,type:y.type,selected:y.selected,animated:y.animated,selectable:z,deletable:y.deletable??!0,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,sourceX:$,sourceY:B,targetX:k,targetY:O,sourcePosition:R,targetPosition:j,data:y.data,style:y.style,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerStart:Y,markerEnd:M,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth}),P&&_(Wp,{edge:y,isReconnectable:P,reconnectRadius:u,onReconnect:h,onReconnectStart:f,onReconnectEnd:d,sourceX:$,sourceY:B,targetX:k,targetY:O,sourcePosition:R,targetPosition:j,setUpdateHover:L,setReconnecting:w})]})})}const Xp=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ys({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:s,onEdgeContextMenu:c,onEdgeMouseEnter:i,onEdgeMouseMove:l,onEdgeMouseLeave:a,onEdgeClick:u,reconnectRadius:h,onEdgeDoubleClick:f,onReconnectStart:d,onReconnectEnd:g,disableKeyboardA11y:p}){const{edgesFocusable:m,edgesReconnectable:x,elementsSelectable:v,onError:y}=ee(Xp,ie),b=Tp(t);return U("div",{className:"react-flow__edges",children:[_(zp,{defaultColor:e,rfId:n}),b.map(S=>_(Yp,{id:S,edgesFocusable:m,edgesReconnectable:x,elementsSelectable:v,noPanClassName:o,onReconnect:s,onContextMenu:c,onMouseEnter:i,onMouseMove:l,onMouseLeave:a,onClick:u,reconnectRadius:h,onDoubleClick:f,onReconnectStart:d,onReconnectEnd:g,rfId:n,onError:y,edgeTypes:r,disableKeyboardA11y:p},S))]})}Ys.displayName="EdgeRenderer";const Gp=A.memo(Ys),qp=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Up({children:e}){const t=ee(qp);return _("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function Kp(e){const t=Tr(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const Qp=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function Zp(e){const t=ee(Qp),n=re();return A.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function Xo(e){return e.connection.inProgress?{...e.connection,to:Yt(e.connection.to,e.transform)}:{...e.connection}}function Jp(e){return e?n=>{const r=Xo(n);return e(r)}:Xo}function eg(e){const t=Jp(e);return ee(t,ie)}const tg=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function ng({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:o,width:s,height:c,isValid:i,inProgress:l}=ee(tg,ie);return!(s&&o&&l)?null:_("svg",{style:e,width:s,height:c,className:"react-flow__connectionline react-flow__container",children:_("g",{className:ae(["react-flow__connection",Hi(i)]),children:_(Xs,{style:t,type:n,CustomComponent:r,isValid:i})})})}const Xs=({style:e,type:t=He.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:o,from:s,fromNode:c,fromHandle:i,fromPosition:l,to:a,toNode:u,toHandle:h,toPosition:f}=eg();if(!o)return;if(n)return _(n,{connectionLineType:t,connectionLineStyle:e,fromNode:c,fromHandle:i,fromX:s.x,fromY:s.y,toX:a.x,toY:a.y,fromPosition:l,toPosition:f,connectionStatus:Hi(r),toNode:u,toHandle:h});let d="";const g={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:a.x,targetY:a.y,targetPosition:f};switch(t){case He.Bezier:[d]=Zi(g);break;case He.SimpleBezier:[d]=Os(g);break;case He.Step:[d]=cr({...g,borderRadius:0});break;case He.SmoothStep:[d]=cr(g);break;default:[d]=ts(g)}return _("path",{d,fill:"none",className:"react-flow__connection-path",style:e})};Xs.displayName="ConnectionLine";const rg={};function Go(e=rg){A.useRef(e),re(),A.useEffect(()=>{},[e])}function og(){re(),A.useRef(!1),A.useEffect(()=>{},[])}function Gs({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:s,onEdgeDoubleClick:c,onNodeMouseEnter:i,onNodeMouseMove:l,onNodeMouseLeave:a,onNodeContextMenu:u,onSelectionContextMenu:h,onSelectionStart:f,onSelectionEnd:d,connectionLineType:g,connectionLineStyle:p,connectionLineComponent:m,connectionLineContainerStyle:x,selectionKeyCode:v,selectionOnDrag:y,selectionMode:b,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:C,deleteKeyCode:P,onlyRenderVisibleElements:z,elementsSelectable:D,defaultViewport:T,translateExtent:L,minZoom:H,maxZoom:w,preventScrolling:I,defaultMarkerColor:N,zoomOnScroll:$,zoomOnPinch:B,panOnScroll:k,panOnScrollSpeed:O,panOnScrollMode:R,zoomOnDoubleClick:j,panOnDrag:Y,onPaneClick:M,onPaneMouseEnter:G,onPaneMouseMove:F,onPaneMouseLeave:V,onPaneScroll:W,onPaneContextMenu:q,paneClickDistance:K,nodeClickDistance:Q,onEdgeContextMenu:X,onEdgeMouseEnter:ne,onEdgeMouseMove:J,onEdgeMouseLeave:se,reconnectRadius:oe,onReconnect:$e,onReconnectStart:Je,onReconnectEnd:xt,noDragClassName:We,noWheelClassName:et,noPanClassName:ke,disableKeyboardA11y:Me,nodeExtent:bt,rfId:_e,viewport:me,onViewportChange:Ye}){return Go(e),Go(t),og(),Kp(n),Zp(me),_(_p,{onPaneClick:M,onPaneMouseEnter:G,onPaneMouseMove:F,onPaneMouseLeave:V,onPaneContextMenu:q,onPaneScroll:W,paneClickDistance:K,deleteKeyCode:P,selectionKeyCode:v,selectionOnDrag:y,selectionMode:b,onSelectionStart:f,onSelectionEnd:d,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:C,elementsSelectable:D,zoomOnScroll:$,zoomOnPinch:B,zoomOnDoubleClick:j,panOnScroll:k,panOnScrollSpeed:O,panOnScrollMode:R,panOnDrag:Y,defaultViewport:T,translateExtent:L,minZoom:H,maxZoom:w,onSelectionContextMenu:h,preventScrolling:I,noDragClassName:We,noWheelClassName:et,noPanClassName:ke,disableKeyboardA11y:Me,onViewportChange:Ye,isControlledViewport:!!me,children:U(Up,{children:[_(Gp,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:c,onReconnect:$e,onReconnectStart:Je,onReconnectEnd:xt,onlyRenderVisibleElements:z,onEdgeContextMenu:X,onEdgeMouseEnter:ne,onEdgeMouseMove:J,onEdgeMouseLeave:se,reconnectRadius:oe,defaultMarkerColor:N,noPanClassName:ke,disableKeyboardA11y:Me,rfId:_e}),_(ng,{style:p,type:g,component:m,containerStyle:x}),_("div",{className:"react-flow__edgelabel-renderer"}),_(Ap,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:i,onNodeMouseMove:l,onNodeMouseLeave:a,onNodeContextMenu:u,nodeClickDistance:Q,onlyRenderVisibleElements:z,noPanClassName:ke,noDragClassName:We,disableKeyboardA11y:Me,nodeExtent:bt,rfId:_e}),_("div",{className:"react-flow__viewport-portal"})]})})}Gs.displayName="GraphView";const ig=A.memo(Gs),qo=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:c,fitViewOptions:i,minZoom:l=.5,maxZoom:a=2,nodeOrigin:u,nodeExtent:h}={})=>{const f=new Map,d=new Map,g=new Map,p=new Map,m=r??t??[],x=n??e??[],v=u??[0,0],y=h??$t;rs(g,p,m);const b=ur(x,f,d,{nodeOrigin:v,nodeExtent:y,elevateNodesOnSelect:!1});let S=[0,0,1];if(c&&o&&s){const E=Wt(f,{filter:D=>!!((D.width||D.initialWidth)&&(D.height||D.initialHeight))}),{x:C,y:P,zoom:z}=Cr(E,o,s,l,a,(i==null?void 0:i.padding)??.1);S=[C,P,z]}return{rfId:"1",width:0,height:0,transform:S,nodes:x,nodesInitialized:b,nodeLookup:f,parentLookup:d,edges:m,edgeLookup:p,connectionLookup:g,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:a,translateExtent:$t,nodeExtent:y,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:dt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:c??!1,fitViewOptions:i,fitViewResolver:null,connection:{...Li},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:hf,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},sg=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:c,fitViewOptions:i,minZoom:l,maxZoom:a,nodeOrigin:u,nodeExtent:h})=>Nh((f,d)=>{async function g(){const{nodeLookup:p,panZoom:m,fitViewOptions:x,fitViewResolver:v,width:y,height:b,minZoom:S,maxZoom:E}=d();m&&(await df({nodes:p,width:y,height:b,panZoom:m,minZoom:S,maxZoom:E},x),v==null||v.resolve(!0),f({fitViewResolver:null}))}return{...qo({nodes:e,edges:t,width:o,height:s,fitView:c,fitViewOptions:i,minZoom:l,maxZoom:a,nodeOrigin:u,nodeExtent:h,defaultNodes:n,defaultEdges:r}),setNodes:p=>{const{nodeLookup:m,parentLookup:x,nodeOrigin:v,elevateNodesOnSelect:y,fitViewQueued:b}=d(),S=ur(p,m,x,{nodeOrigin:v,nodeExtent:h,elevateNodesOnSelect:y,checkEquality:!0});b&&S?(g(),f({nodes:p,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:p,nodesInitialized:S})},setEdges:p=>{const{connectionLookup:m,edgeLookup:x}=d();rs(m,x,p),f({edges:p})},setDefaultNodesAndEdges:(p,m)=>{if(p){const{setNodes:x}=d();x(p),f({hasDefaultNodes:!0})}if(m){const{setEdges:x}=d();x(m),f({hasDefaultEdges:!0})}},updateNodeInternals:p=>{const{triggerNodeChanges:m,nodeLookup:x,parentLookup:v,domNode:y,nodeOrigin:b,nodeExtent:S,debug:E,fitViewQueued:C}=d(),{changes:P,updatedInternals:z}=Tf(p,x,v,y,b,S);z&&(Mf(x,v,{nodeOrigin:b,nodeExtent:S}),C?(g(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(P==null?void 0:P.length)>0&&(E&&console.log("React Flow: trigger node changes",P),m==null||m(P)))},updateNodePositions:(p,m=!1)=>{const x=[],v=[],{nodeLookup:y,triggerNodeChanges:b}=d();for(const[S,E]of p){const C=y.get(S),P=!!(C!=null&&C.expandParent&&(C!=null&&C.parentId)&&(E!=null&&E.position)),z={id:S,type:"position",position:P?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:m};P&&C.parentId&&x.push({id:S,parentId:C.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),v.push(z)}if(x.length>0){const{parentLookup:S,nodeOrigin:E}=d(),C=Ar(x,y,S,E);v.push(...C)}b(v)},triggerNodeChanges:p=>{const{onNodesChange:m,setNodes:x,nodes:v,hasDefaultNodes:y,debug:b}=d();if(p!=null&&p.length){if(y){const S=_s(p,v);x(S)}b&&console.log("React Flow: trigger node changes",p),m==null||m(p)}},triggerEdgeChanges:p=>{const{onEdgesChange:m,setEdges:x,edges:v,hasDefaultEdges:y,debug:b}=d();if(p!=null&&p.length){if(y){const S=Ss(p,v);x(S)}b&&console.log("React Flow: trigger edge changes",p),m==null||m(p)}},addSelectedNodes:p=>{const{multiSelectionActive:m,edgeLookup:x,nodeLookup:v,triggerNodeChanges:y,triggerEdgeChanges:b}=d();if(m){const S=p.map(E=>Xe(E,!0));y(S);return}y(it(v,new Set([...p]),!0)),b(it(x))},addSelectedEdges:p=>{const{multiSelectionActive:m,edgeLookup:x,nodeLookup:v,triggerNodeChanges:y,triggerEdgeChanges:b}=d();if(m){const S=p.map(E=>Xe(E,!0));b(S);return}b(it(x,new Set([...p]))),y(it(v,new Set,!0))},unselectNodesAndEdges:({nodes:p,edges:m}={})=>{const{edges:x,nodes:v,nodeLookup:y,triggerNodeChanges:b,triggerEdgeChanges:S}=d(),E=p||v,C=m||x,P=E.map(D=>{const T=y.get(D.id);return T&&(T.selected=!1),Xe(D.id,!1)}),z=C.map(D=>Xe(D.id,!1));b(P),S(z)},setMinZoom:p=>{const{panZoom:m,maxZoom:x}=d();m==null||m.setScaleExtent([p,x]),f({minZoom:p})},setMaxZoom:p=>{const{panZoom:m,minZoom:x}=d();m==null||m.setScaleExtent([x,p]),f({maxZoom:p})},setTranslateExtent:p=>{var m;(m=d().panZoom)==null||m.setTranslateExtent(p),f({translateExtent:p})},setPaneClickDistance:p=>{var m;(m=d().panZoom)==null||m.setClickDistance(p)},resetSelectedElements:()=>{const{edges:p,nodes:m,triggerNodeChanges:x,triggerEdgeChanges:v,elementsSelectable:y}=d();if(!y)return;const b=m.reduce((E,C)=>C.selected?[...E,Xe(C.id,!1)]:E,[]),S=p.reduce((E,C)=>C.selected?[...E,Xe(C.id,!1)]:E,[]);x(b),v(S)},setNodeExtent:p=>{const{nodes:m,nodeLookup:x,parentLookup:v,nodeOrigin:y,elevateNodesOnSelect:b,nodeExtent:S}=d();p[0][0]===S[0][0]&&p[0][1]===S[0][1]&&p[1][0]===S[1][0]&&p[1][1]===S[1][1]||(ur(m,x,v,{nodeOrigin:y,nodeExtent:p,elevateNodesOnSelect:b,checkEquality:!1}),f({nodeExtent:p}))},panBy:p=>{const{transform:m,width:x,height:v,panZoom:y,translateExtent:b}=d();return If({delta:p,panZoom:y,transform:m,translateExtent:b,width:x,height:v})},cancelConnection:()=>{f({connection:{...Li}})},updateConnection:p=>{f({connection:p})},reset:()=>f({...qo()})}},Object.is);function ag({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:s,initialMinZoom:c,initialMaxZoom:i,initialFitViewOptions:l,fitView:a,nodeOrigin:u,nodeExtent:h,children:f}){const[d]=A.useState(()=>sg({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:s,fitView:a,minZoom:c,maxZoom:i,fitViewOptions:l,nodeOrigin:u,nodeExtent:h}));return _(kh,{value:d,children:_(Kh,{children:f})})}function cg({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:s,height:c,fitView:i,fitViewOptions:l,minZoom:a,maxZoom:u,nodeOrigin:h,nodeExtent:f}){return A.useContext(In)?_(Ce,{children:e}):_(ag,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:s,initialHeight:c,fitView:i,initialFitViewOptions:l,initialMinZoom:a,initialMaxZoom:u,nodeOrigin:h,nodeExtent:f,children:e})}const lg={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ug({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:s,edgeTypes:c,onNodeClick:i,onEdgeClick:l,onInit:a,onMove:u,onMoveStart:h,onMoveEnd:f,onConnect:d,onConnectStart:g,onConnectEnd:p,onClickConnectStart:m,onClickConnectEnd:x,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:z,onNodesDelete:D,onEdgesDelete:T,onDelete:L,onSelectionChange:H,onSelectionDragStart:w,onSelectionDrag:I,onSelectionDragStop:N,onSelectionContextMenu:$,onSelectionStart:B,onSelectionEnd:k,onBeforeDelete:O,connectionMode:R,connectionLineType:j=He.Bezier,connectionLineStyle:Y,connectionLineComponent:M,connectionLineContainerStyle:G,deleteKeyCode:F="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:W=!1,selectionMode:q=zt.Full,panActivationKeyCode:K="Space",multiSelectionKeyCode:Q=mn()?"Meta":"Control",zoomActivationKeyCode:X=mn()?"Meta":"Control",snapToGrid:ne,snapGrid:J,onlyRenderVisibleElements:se=!1,selectNodesOnDrag:oe,nodesDraggable:$e,nodesConnectable:Je,nodesFocusable:xt,nodeOrigin:We=vs,edgesFocusable:et,edgesReconnectable:ke,elementsSelectable:Me=!0,defaultViewport:bt=Bh,minZoom:_e=.5,maxZoom:me=2,translateExtent:Ye=$t,preventScrolling:zn=!0,nodeExtent:vt,defaultMarkerColor:wt="#b1b1b7",zoomOnScroll:Rn=!0,zoomOnPinch:tt=!0,panOnScroll:Ln=!1,panOnScrollSpeed:na=.5,panOnScrollMode:ra=Ke.Free,zoomOnDoubleClick:oa=!0,panOnDrag:ia=!0,onPaneClick:sa,onPaneMouseEnter:aa,onPaneMouseMove:ca,onPaneMouseLeave:la,onPaneScroll:ua,onPaneContextMenu:da,paneClickDistance:Or=0,nodeClickDistance:fa=0,children:ha,onReconnect:pa,onReconnectStart:ga,onReconnectEnd:ma,onEdgeContextMenu:ya,onEdgeDoubleClick:xa,onEdgeMouseEnter:ba,onEdgeMouseMove:va,onEdgeMouseLeave:wa,reconnectRadius:_a=10,onNodesChange:Sa,onEdgesChange:Ea,noDragClassName:Ca="nodrag",noWheelClassName:Na="nowheel",noPanClassName:Dr="nopan",fitView:$r,fitViewOptions:zr,connectOnClick:ka,attributionPosition:Ma,proOptions:Pa,defaultEdgeOptions:Aa,elevateNodesOnSelect:Ta,elevateEdgesOnSelect:Ia,disableKeyboardA11y:Rr=!1,autoPanOnConnect:Oa,autoPanOnNodeDrag:Da,autoPanSpeed:$a,connectionRadius:za,isValidConnection:Ra,onError:La,style:Ha,id:Lr,nodeDragThreshold:Ba,viewport:ja,onViewportChange:Fa,width:Va,height:Wa,colorMode:Ya="light",debug:Xa,onScroll:Xt,...Ga},qa){const Hn=Lr||"1",Ua=Wh(Ya),Ka=A.useCallback(Hr=>{Hr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Xt==null||Xt(Hr)},[Xt]);return _("div",{"data-testid":"rf__wrapper",...Ga,onScroll:Ka,style:{...Ha,...lg},ref:qa,className:ae(["react-flow",o,Ua]),id:Lr,children:U(cg,{nodes:e,edges:t,width:Va,height:Wa,fitView:$r,fitViewOptions:zr,minZoom:_e,maxZoom:me,nodeOrigin:We,nodeExtent:vt,children:[_(ig,{onInit:a,onNodeClick:i,onEdgeClick:l,onNodeMouseEnter:v,onNodeMouseMove:y,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:s,edgeTypes:c,connectionLineType:j,connectionLineStyle:Y,connectionLineComponent:M,connectionLineContainerStyle:G,selectionKeyCode:V,selectionOnDrag:W,selectionMode:q,deleteKeyCode:F,multiSelectionKeyCode:Q,panActivationKeyCode:K,zoomActivationKeyCode:X,onlyRenderVisibleElements:se,defaultViewport:bt,translateExtent:Ye,minZoom:_e,maxZoom:me,preventScrolling:zn,zoomOnScroll:Rn,zoomOnPinch:tt,zoomOnDoubleClick:oa,panOnScroll:Ln,panOnScrollSpeed:na,panOnScrollMode:ra,panOnDrag:ia,onPaneClick:sa,onPaneMouseEnter:aa,onPaneMouseMove:ca,onPaneMouseLeave:la,onPaneScroll:ua,onPaneContextMenu:da,paneClickDistance:Or,nodeClickDistance:fa,onSelectionContextMenu:$,onSelectionStart:B,onSelectionEnd:k,onReconnect:pa,onReconnectStart:ga,onReconnectEnd:ma,onEdgeContextMenu:ya,onEdgeDoubleClick:xa,onEdgeMouseEnter:ba,onEdgeMouseMove:va,onEdgeMouseLeave:wa,reconnectRadius:_a,defaultMarkerColor:wt,noDragClassName:Ca,noWheelClassName:Na,noPanClassName:Dr,rfId:Hn,disableKeyboardA11y:Rr,nodeExtent:vt,viewport:ja,onViewportChange:Fa}),_(Vh,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:d,onConnectStart:g,onConnectEnd:p,onClickConnectStart:m,onClickConnectEnd:x,nodesDraggable:$e,nodesConnectable:Je,nodesFocusable:xt,edgesFocusable:et,edgesReconnectable:ke,elementsSelectable:Me,elevateNodesOnSelect:Ta,elevateEdgesOnSelect:Ia,minZoom:_e,maxZoom:me,nodeExtent:vt,onNodesChange:Sa,onEdgesChange:Ea,snapToGrid:ne,snapGrid:J,connectionMode:R,translateExtent:Ye,connectOnClick:ka,defaultEdgeOptions:Aa,fitView:$r,fitViewOptions:zr,onNodesDelete:D,onEdgesDelete:T,onDelete:L,onNodeDragStart:C,onNodeDrag:P,onNodeDragStop:z,onSelectionDrag:I,onSelectionDragStart:w,onSelectionDragStop:N,onMove:u,onMoveStart:h,onMoveEnd:f,noPanClassName:Dr,nodeOrigin:We,rfId:Hn,autoPanOnConnect:Oa,autoPanOnNodeDrag:Da,autoPanSpeed:$a,onError:La,connectionRadius:za,isValidConnection:Ra,selectNodesOnDrag:oe,nodeDragThreshold:Ba,onBeforeDelete:O,paneClickDistance:Or,debug:Xa}),_(Hh,{onSelectionChange:H}),ha,_(Dh,{proOptions:Pa,position:Ma}),_(Ih,{rfId:Hn,disableKeyboardA11y:Rr})]})})}var dg=Es(ug);function fg({dimensions:e,lineWidth:t,variant:n,className:r}){return _("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:ae(["react-flow__background-pattern",n,r])})}function hg({radius:e,className:t}){return _("circle",{cx:e,cy:e,r:e,className:ae(["react-flow__background-pattern","dots",t])})}var je;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(je||(je={}));const pg={[je.Dots]:1,[je.Lines]:1,[je.Cross]:6},gg=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function qs({id:e,variant:t=je.Dots,gap:n=20,size:r,lineWidth:o=1,offset:s=0,color:c,bgColor:i,style:l,className:a,patternClassName:u}){const h=A.useRef(null),{transform:f,patternId:d}=ee(gg,ie),g=r||pg[t],p=t===je.Dots,m=t===je.Cross,x=Array.isArray(n)?n:[n,n],v=[x[0]*f[2]||1,x[1]*f[2]||1],y=g*f[2],b=Array.isArray(s)?s:[s,s],S=m?[y,y]:v,E=[b[0]*f[2]||1+S[0]/2,b[1]*f[2]||1+S[1]/2],C=`${d}${e||""}`;return U("svg",{className:ae(["react-flow__background",a]),style:{...l,...Dn,"--xy-background-color-props":i,"--xy-background-pattern-color-props":c},ref:h,"data-testid":"rf__background",children:[_("pattern",{id:C,x:f[0]%v[0],y:f[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:p?_(hg,{radius:y/2,className:u}):_(fg,{dimensions:S,lineWidth:o,variant:t,className:u})}),_("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${C})`})]})}qs.displayName="Background";const mg=A.memo(qs);function yg(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:_("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function xg(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:_("path",{d:"M0 0h32v4.2H0z"})})}function bg(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:_("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function vg(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:_("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function wg(){return _("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:_("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function tn({children:e,className:t,...n}){return _("button",{type:"button",className:ae(["react-flow__controls-button",t]),...n,children:e})}const _g=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function Us({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:c,onFitView:i,onInteractiveChange:l,className:a,children:u,position:h="bottom-left",orientation:f="vertical","aria-label":d="React Flow controls"}){const g=re(),{isInteractive:p,minZoomReached:m,maxZoomReached:x}=ee(_g,ie),{zoomIn:v,zoomOut:y,fitView:b}=Tr(),S=()=>{v(),s==null||s()},E=()=>{y(),c==null||c()},C=()=>{b(o),i==null||i()},P=()=>{g.setState({nodesDraggable:!p,nodesConnectable:!p,elementsSelectable:!p}),l==null||l(!p)};return U(On,{className:ae(["react-flow__controls",f==="horizontal"?"horizontal":"vertical",a]),position:h,style:e,"data-testid":"rf__controls","aria-label":d,children:[t&&U(Ce,{children:[_(tn,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:x,children:_(yg,{})}),_(tn,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:m,children:_(xg,{})})]}),n&&_(tn,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view",children:_(bg,{})}),r&&_(tn,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:p?_(wg,{}):_(vg,{})}),u]})}Us.displayName="Controls";A.memo(Us);function Sg({id:e,x:t,y:n,width:r,height:o,style:s,color:c,strokeColor:i,strokeWidth:l,className:a,borderRadius:u,shapeRendering:h,selected:f,onClick:d}){const{background:g,backgroundColor:p}=s||{},m=c||g||p;return _("rect",{className:ae(["react-flow__minimap-node",{selected:f},a]),x:t,y:n,rx:u,ry:u,width:r,height:o,style:{fill:m,stroke:i,strokeWidth:l},shapeRendering:h,onClick:d?x=>d(x,e):void 0})}const Eg=A.memo(Sg),Cg=e=>e.nodes.map(t=>t.id),Kn=e=>e instanceof Function?e:()=>e;function Ng({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:s=Eg,onClick:c}){const i=ee(Cg,ie),l=Kn(t),a=Kn(e),u=Kn(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return _(Ce,{children:i.map(f=>_(Mg,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:a,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:s,onClick:c,shapeRendering:h},f))})}function kg({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:s,shapeRendering:c,NodeComponent:i,onClick:l}){const{node:a,x:u,y:h,width:f,height:d}=ee(g=>{const{internals:p}=g.nodeLookup.get(e),m=p.userNode,{x,y:v}=p.positionAbsolute,{width:y,height:b}=De(m);return{node:m,x,y:v,width:y,height:b}},ie);return!a||a.hidden||!Xi(a)?null:_(i,{x:u,y:h,width:f,height:d,style:a.style,selected:!!a.selected,className:r(a),color:t(a),borderRadius:o,strokeColor:n(a),strokeWidth:s,shapeRendering:c,onClick:l,id:a.id})}const Mg=A.memo(kg);var Pg=A.memo(Ng);const Ag=200,Tg=150,Ig=e=>!e.hidden,Og=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Yi(Wt(e.nodeLookup,{filter:Ig}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},Dg="react-flow__minimap-desc";function Ks({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:s=5,nodeStrokeWidth:c,nodeComponent:i,bgColor:l,maskColor:a,maskStrokeColor:u,maskStrokeWidth:h,position:f="bottom-right",onClick:d,onNodeClick:g,pannable:p=!1,zoomable:m=!1,ariaLabel:x="React Flow mini map",inversePan:v,zoomStep:y=10,offsetScale:b=5}){const S=re(),E=A.useRef(null),{boundingRect:C,viewBB:P,rfId:z,panZoom:D,translateExtent:T,flowWidth:L,flowHeight:H}=ee(Og,ie),w=(e==null?void 0:e.width)??Ag,I=(e==null?void 0:e.height)??Tg,N=C.width/w,$=C.height/I,B=Math.max(N,$),k=B*w,O=B*I,R=b*B,j=C.x-(k-C.width)/2-R,Y=C.y-(O-C.height)/2-R,M=k+R*2,G=O+R*2,F=`${Dg}-${z}`,V=A.useRef(0),W=A.useRef();V.current=B,A.useEffect(()=>{if(E.current&&D)return W.current=Bf({domNode:E.current,panZoom:D,getTransform:()=>S.getState().transform,getViewScale:()=>V.current}),()=>{var Q;(Q=W.current)==null||Q.destroy()}},[D]),A.useEffect(()=>{var Q;(Q=W.current)==null||Q.update({translateExtent:T,width:L,height:H,inversePan:v,pannable:p,zoomStep:y,zoomable:m})},[p,m,v,y,T,L,H]);const q=d?Q=>{var J;const[X,ne]=((J=W.current)==null?void 0:J.pointer(Q))||[0,0];d(Q,{x:X,y:ne})}:void 0,K=g?A.useCallback((Q,X)=>{const ne=S.getState().nodeLookup.get(X).internals.userNode;g(Q,ne)},[]):void 0;return _(On,{position:f,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*B:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof c=="number"?c:void 0},className:ae(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:U("svg",{width:w,height:I,viewBox:`${j} ${Y} ${M} ${G}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":F,ref:E,onClick:q,children:[x&&_("title",{id:F,children:x}),_(Pg,{onClick:K,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:o,nodeStrokeWidth:c,nodeComponent:i}),_("path",{className:"react-flow__minimap-mask",d:`M${j-R},${Y-R}h${M+R*2}v${G+R*2}h${-M-R*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ks.displayName="MiniMap";A.memo(Ks);function $g({nodeId:e,position:t,variant:n=Pt.Handle,className:r,style:o={},children:s,color:c,minWidth:i=10,minHeight:l=10,maxWidth:a=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:h=!1,resizeDirection:f,shouldResize:d,onResizeStart:g,onResize:p,onResizeEnd:m}){const x=Ms(),v=typeof e=="string"?e:x,y=re(),b=A.useRef(null),S=n===Pt.Line?"right":"bottom-right",E=t??S,C=A.useRef(null);A.useEffect(()=>{if(!(!b.current||!v))return C.current||(C.current=th({domNode:b.current,nodeId:v,getStoreItems:()=>{const{nodeLookup:T,transform:L,snapGrid:H,snapToGrid:w,nodeOrigin:I,domNode:N}=y.getState();return{nodeLookup:T,transform:L,snapGrid:H,snapToGrid:w,nodeOrigin:I,paneDomNode:N}},onChange:(T,L)=>{const{triggerNodeChanges:H,nodeLookup:w,parentLookup:I,nodeOrigin:N}=y.getState(),$=[],B={x:T.x,y:T.y},k=w.get(v);if(k&&k.expandParent&&k.parentId){const O=k.origin??N,R=T.width??k.measured.width??0,j=T.height??k.measured.height??0,Y={id:k.id,parentId:k.parentId,rect:{width:R,height:j,...Gi({x:T.x??k.position.x,y:T.y??k.position.y},{width:R,height:j},k.parentId,w,O)}},M=Ar([Y],w,I,N);$.push(...M),B.x=T.x?Math.max(O[0]*R,T.x):void 0,B.y=T.y?Math.max(O[1]*j,T.y):void 0}if(B.x!==void 0&&B.y!==void 0){const O={id:v,type:"position",position:{...B}};$.push(O)}if(T.width!==void 0&&T.height!==void 0){const R={id:v,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:T.width,height:T.height}};$.push(R)}for(const O of L){const R={...O,type:"position"};$.push(R)}H($)},onEnd:({width:T,height:L})=>{const H={id:v,type:"dimensions",resizing:!1,dimensions:{width:T,height:L}};y.getState().triggerNodeChanges([H])}})),C.current.update({controlPosition:E,boundaries:{minWidth:i,minHeight:l,maxWidth:a,maxHeight:u},keepAspectRatio:h,resizeDirection:f,onResizeStart:g,onResize:p,onResizeEnd:m,shouldResize:d}),()=>{var T;(T=C.current)==null||T.destroy()}},[E,i,l,a,u,h,g,p,m,d]);const P=E.split("-"),z=n===Pt.Line?"borderColor":"backgroundColor",D=c?{...o,[z]:c}:o;return _("div",{className:ae(["react-flow__resize-control","nodrag",...P,n,r]),ref:b,style:D,children:s})}A.memo($g);var Qs={exports:{}};(function(e,t){(function(n,r){e.exports=r(A)})(typeof self<"u"?self:Zo,n=>(()=>{var r={2:(i,l,a)=>{var u=a(2199),h=a(4664),f=a(5950);i.exports=function(d){return u(d,f,h)}},79:(i,l,a)=>{var u=a(3702),h=a(80),f=a(4739),d=a(8655),g=a(1175);function p(m){var x=-1,v=m==null?0:m.length;for(this.clear();++x<v;){var y=m[x];this.set(y[0],y[1])}}p.prototype.clear=u,p.prototype.delete=h,p.prototype.get=f,p.prototype.has=d,p.prototype.set=g,i.exports=p},80:(i,l,a)=>{var u=a(6025),h=Array.prototype.splice;i.exports=function(f){var d=this.__data__,g=u(d,f);return!(g<0||(g==d.length-1?d.pop():h.call(d,g,1),--this.size,0))}},270:(i,l,a)=>{var u=a(7068),h=a(346);i.exports=function f(d,g,p,m,x){return d===g||(d==null||g==null||!h(d)&&!h(g)?d!=d&&g!=g:u(d,g,p,m,f,x))}},289:(i,l,a)=>{var u=a(2651);i.exports=function(h){return u(this,h).get(h)}},294:i=>{i.exports=function(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=9007199254740991}},317:i=>{i.exports=function(l){var a=-1,u=Array(l.size);return l.forEach(function(h,f){u[++a]=[f,h]}),u}},346:i=>{i.exports=function(l){return l!=null&&typeof l=="object"}},361:i=>{var l=/^(?:0|[1-9]\d*)$/;i.exports=function(a,u){var h=typeof a;return!!(u=u??9007199254740991)&&(h=="number"||h!="symbol"&&l.test(a))&&a>-1&&a%1==0&&a<u}},392:i=>{i.exports=function(l,a){return l==null?void 0:l[a]}},659:(i,l,a)=>{var u=a(1873),h=Object.prototype,f=h.hasOwnProperty,d=h.toString,g=u?u.toStringTag:void 0;i.exports=function(p){var m=f.call(p,g),x=p[g];try{p[g]=void 0;var v=!0}catch{}var y=d.call(p);return v&&(m?p[g]=x:delete p[g]),y}},689:(i,l,a)=>{var u=a(2),h=Object.prototype.hasOwnProperty;i.exports=function(f,d,g,p,m,x){var v=1&g,y=u(f),b=y.length;if(b!=u(d).length&&!v)return!1;for(var S=b;S--;){var E=y[S];if(!(v?E in d:h.call(d,E)))return!1}var C=x.get(f),P=x.get(d);if(C&&P)return C==d&&P==f;var z=!0;x.set(f,d),x.set(d,f);for(var D=v;++S<b;){var T=f[E=y[S]],L=d[E];if(p)var H=v?p(L,T,E,d,f,x):p(T,L,E,f,d,x);if(!(H===void 0?T===L||m(T,L,g,p,x):H)){z=!1;break}D||(D=E=="constructor")}if(z&&!D){var w=f.constructor,I=d.constructor;w==I||!("constructor"in f)||!("constructor"in d)||typeof w=="function"&&w instanceof w&&typeof I=="function"&&I instanceof I||(z=!1)}return x.delete(f),x.delete(d),z}},695:(i,l,a)=>{var u=a(8096),h=a(2428),f=a(6449),d=a(3656),g=a(361),p=a(7167),m=Object.prototype.hasOwnProperty;i.exports=function(x,v){var y=f(x),b=!y&&h(x),S=!y&&!b&&d(x),E=!y&&!b&&!S&&p(x),C=y||b||S||E,P=C?u(x.length,String):[],z=P.length;for(var D in x)!v&&!m.call(x,D)||C&&(D=="length"||S&&(D=="offset"||D=="parent")||E&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||g(D,z))||P.push(D);return P}},938:i=>{i.exports=function(l){var a=this.__data__,u=a.delete(l);return this.size=a.size,u}},945:(i,l,a)=>{var u=a(79),h=a(8223),f=a(3661);i.exports=function(d,g){var p=this.__data__;if(p instanceof u){var m=p.__data__;if(!h||m.length<199)return m.push([d,g]),this.size=++p.size,this;p=this.__data__=new f(m)}return p.set(d,g),this.size=p.size,this}},1042:(i,l,a)=>{var u=a(6110)(Object,"create");i.exports=u},1175:(i,l,a)=>{var u=a(6025);i.exports=function(h,f){var d=this.__data__,g=u(d,h);return g<0?(++this.size,d.push([h,f])):d[g][1]=f,this}},1380:i=>{i.exports=function(l){return this.__data__.set(l,"__lodash_hash_undefined__"),this}},1420:(i,l,a)=>{var u=a(79);i.exports=function(){this.__data__=new u,this.size=0}},1459:i=>{i.exports=function(l){return this.__data__.has(l)}},1549:(i,l,a)=>{var u=a(2032),h=a(3862),f=a(6721),d=a(2749),g=a(5749);function p(m){var x=-1,v=m==null?0:m.length;for(this.clear();++x<v;){var y=m[x];this.set(y[0],y[1])}}p.prototype.clear=u,p.prototype.delete=h,p.prototype.get=f,p.prototype.has=d,p.prototype.set=g,i.exports=p},1873:(i,l,a)=>{var u=a(9325).Symbol;i.exports=u},1882:(i,l,a)=>{var u=a(2552),h=a(3805);i.exports=function(f){if(!h(f))return!1;var d=u(f);return d=="[object Function]"||d=="[object GeneratorFunction]"||d=="[object AsyncFunction]"||d=="[object Proxy]"}},1986:(i,l,a)=>{var u=a(1873),h=a(7828),f=a(5288),d=a(5911),g=a(317),p=a(4247),m=u?u.prototype:void 0,x=m?m.valueOf:void 0;i.exports=function(v,y,b,S,E,C,P){switch(b){case"[object DataView]":if(v.byteLength!=y.byteLength||v.byteOffset!=y.byteOffset)return!1;v=v.buffer,y=y.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=y.byteLength||!C(new h(v),new h(y)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+v,+y);case"[object Error]":return v.name==y.name&&v.message==y.message;case"[object RegExp]":case"[object String]":return v==y+"";case"[object Map]":var z=g;case"[object Set]":var D=1&S;if(z||(z=p),v.size!=y.size&&!D)return!1;var T=P.get(v);if(T)return T==y;S|=2,P.set(v,y);var L=d(z(v),z(y),S,E,C,P);return P.delete(v),L;case"[object Symbol]":if(x)return x.call(v)==x.call(y)}return!1}},2032:(i,l,a)=>{var u=a(1042);i.exports=function(){this.__data__=u?u(null):{},this.size=0}},2199:(i,l,a)=>{var u=a(4528),h=a(6449);i.exports=function(f,d,g){var p=d(f);return h(f)?p:u(p,g(f))}},2404:(i,l,a)=>{var u=a(270);i.exports=function(h,f){return u(h,f)}},2428:(i,l,a)=>{var u=a(7534),h=a(346),f=Object.prototype,d=f.hasOwnProperty,g=f.propertyIsEnumerable,p=u(function(){return arguments}())?u:function(m){return h(m)&&d.call(m,"callee")&&!g.call(m,"callee")};i.exports=p},2552:(i,l,a)=>{var u=a(1873),h=a(659),f=a(9350),d=u?u.toStringTag:void 0;i.exports=function(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":d&&d in Object(g)?h(g):f(g)}},2651:(i,l,a)=>{var u=a(4218);i.exports=function(h,f){var d=h.__data__;return u(f)?d[typeof f=="string"?"string":"hash"]:d.map}},2749:(i,l,a)=>{var u=a(1042),h=Object.prototype.hasOwnProperty;i.exports=function(f){var d=this.__data__;return u?d[f]!==void 0:h.call(d,f)}},2804:(i,l,a)=>{var u=a(6110)(a(9325),"Promise");i.exports=u},2949:(i,l,a)=>{var u=a(2651);i.exports=function(h,f){var d=u(this,h),g=d.size;return d.set(h,f),this.size+=d.size==g?0:1,this}},3040:(i,l,a)=>{var u=a(1549),h=a(79),f=a(8223);i.exports=function(){this.size=0,this.__data__={hash:new u,map:new(f||h),string:new u}}},3146:(i,l,a)=>{for(var u=a(3491),h=typeof window>"u"?a.g:window,f=["moz","webkit"],d="AnimationFrame",g=h["request"+d],p=h["cancel"+d]||h["cancelRequest"+d],m=0;!g&&m<f.length;m++)g=h[f[m]+"Request"+d],p=h[f[m]+"Cancel"+d]||h[f[m]+"CancelRequest"+d];if(!g||!p){var x=0,v=0,y=[],b=1e3/60;g=function(S){if(y.length===0){var E=u(),C=Math.max(0,b-(E-x));x=C+E,setTimeout(function(){var P=y.slice(0);y.length=0;for(var z=0;z<P.length;z++)if(!P[z].cancelled)try{P[z].callback(x)}catch(D){setTimeout(function(){throw D},0)}},Math.round(C))}return y.push({handle:++v,callback:S,cancelled:!1}),v},p=function(S){for(var E=0;E<y.length;E++)y[E].handle===S&&(y[E].cancelled=!0)}}i.exports=function(S){return g.call(h,S)},i.exports.cancel=function(){p.apply(h,arguments)},i.exports.polyfill=function(S){S||(S=h),S.requestAnimationFrame=g,S.cancelAnimationFrame=p}},3345:i=>{i.exports=function(){return[]}},3491:function(i){(function(){var l,a,u,h,f,d;typeof performance<"u"&&performance!==null&&performance.now?i.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(i.exports=function(){return(l()-f)/1e6},a=process.hrtime,h=(l=function(){var g;return 1e9*(g=a())[0]+g[1]})(),d=1e9*process.uptime(),f=h-d):Date.now?(i.exports=function(){return Date.now()-u},u=Date.now()):(i.exports=function(){return new Date().getTime()-u},u=new Date().getTime())}).call(this)},3605:i=>{i.exports=function(l){return this.__data__.get(l)}},3650:(i,l,a)=>{var u=a(4335)(Object.keys,Object);i.exports=u},3656:(i,l,a)=>{i=a.nmd(i);var u=a(9325),h=a(9935),f=l&&!l.nodeType&&l,d=f&&i&&!i.nodeType&&i,g=d&&d.exports===f?u.Buffer:void 0,p=(g?g.isBuffer:void 0)||h;i.exports=p},3661:(i,l,a)=>{var u=a(3040),h=a(7670),f=a(289),d=a(4509),g=a(2949);function p(m){var x=-1,v=m==null?0:m.length;for(this.clear();++x<v;){var y=m[x];this.set(y[0],y[1])}}p.prototype.clear=u,p.prototype.delete=h,p.prototype.get=f,p.prototype.has=d,p.prototype.set=g,i.exports=p},3702:i=>{i.exports=function(){this.__data__=[],this.size=0}},3805:i=>{i.exports=function(l){var a=typeof l;return l!=null&&(a=="object"||a=="function")}},3862:i=>{i.exports=function(l){var a=this.has(l)&&delete this.__data__[l];return this.size-=a?1:0,a}},4218:i=>{i.exports=function(l){var a=typeof l;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?l!=="__proto__":l===null}},4247:i=>{i.exports=function(l){var a=-1,u=Array(l.size);return l.forEach(function(h){u[++a]=h}),u}},4248:i=>{i.exports=function(l,a){for(var u=-1,h=l==null?0:l.length;++u<h;)if(a(l[u],u,l))return!0;return!1}},4335:i=>{i.exports=function(l,a){return function(u){return l(a(u))}}},4509:(i,l,a)=>{var u=a(2651);i.exports=function(h){return u(this,h).has(h)}},4528:i=>{i.exports=function(l,a){for(var u=-1,h=a.length,f=l.length;++u<h;)l[f+u]=a[u];return l}},4664:(i,l,a)=>{var u=a(9770),h=a(3345),f=Object.prototype.propertyIsEnumerable,d=Object.getOwnPropertySymbols,g=d?function(p){return p==null?[]:(p=Object(p),u(d(p),function(m){return f.call(p,m)}))}:h;i.exports=g},4739:(i,l,a)=>{var u=a(6025);i.exports=function(h){var f=this.__data__,d=u(f,h);return d<0?void 0:f[d][1]}},4840:(i,l,a)=>{var u=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g;i.exports=u},4894:(i,l,a)=>{var u=a(1882),h=a(294);i.exports=function(f){return f!=null&&h(f.length)&&!u(f)}},4901:(i,l,a)=>{var u=a(2552),h=a(294),f=a(346),d={};d["[object Float32Array]"]=d["[object Float64Array]"]=d["[object Int8Array]"]=d["[object Int16Array]"]=d["[object Int32Array]"]=d["[object Uint8Array]"]=d["[object Uint8ClampedArray]"]=d["[object Uint16Array]"]=d["[object Uint32Array]"]=!0,d["[object Arguments]"]=d["[object Array]"]=d["[object ArrayBuffer]"]=d["[object Boolean]"]=d["[object DataView]"]=d["[object Date]"]=d["[object Error]"]=d["[object Function]"]=d["[object Map]"]=d["[object Number]"]=d["[object Object]"]=d["[object RegExp]"]=d["[object Set]"]=d["[object String]"]=d["[object WeakMap]"]=!1,i.exports=function(g){return f(g)&&h(g.length)&&!!d[u(g)]}},5083:(i,l,a)=>{var u=a(1882),h=a(7296),f=a(3805),d=a(7473),g=/^\[object .+?Constructor\]$/,p=Function.prototype,m=Object.prototype,x=p.toString,v=m.hasOwnProperty,y=RegExp("^"+x.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(b){return!(!f(b)||h(b))&&(u(b)?y:g).test(d(b))}},5288:i=>{i.exports=function(l,a){return l===a||l!=l&&a!=a}},5481:(i,l,a)=>{var u=a(9325)["__core-js_shared__"];i.exports=u},5527:i=>{var l=Object.prototype;i.exports=function(a){var u=a&&a.constructor;return a===(typeof u=="function"&&u.prototype||l)}},5580:(i,l,a)=>{var u=a(6110)(a(9325),"DataView");i.exports=u},5749:(i,l,a)=>{var u=a(1042);i.exports=function(h,f){var d=this.__data__;return this.size+=this.has(h)?0:1,d[h]=u&&f===void 0?"__lodash_hash_undefined__":f,this}},5861:(i,l,a)=>{var u=a(5580),h=a(8223),f=a(2804),d=a(6545),g=a(8303),p=a(2552),m=a(7473),x="[object Map]",v="[object Promise]",y="[object Set]",b="[object WeakMap]",S="[object DataView]",E=m(u),C=m(h),P=m(f),z=m(d),D=m(g),T=p;(u&&T(new u(new ArrayBuffer(1)))!=S||h&&T(new h)!=x||f&&T(f.resolve())!=v||d&&T(new d)!=y||g&&T(new g)!=b)&&(T=function(L){var H=p(L),w=H=="[object Object]"?L.constructor:void 0,I=w?m(w):"";if(I)switch(I){case E:return S;case C:return x;case P:return v;case z:return y;case D:return b}return H}),i.exports=T},5911:(i,l,a)=>{var u=a(8859),h=a(4248),f=a(9219);i.exports=function(d,g,p,m,x,v){var y=1&p,b=d.length,S=g.length;if(b!=S&&!(y&&S>b))return!1;var E=v.get(d),C=v.get(g);if(E&&C)return E==g&&C==d;var P=-1,z=!0,D=2&p?new u:void 0;for(v.set(d,g),v.set(g,d);++P<b;){var T=d[P],L=g[P];if(m)var H=y?m(L,T,P,g,d,v):m(T,L,P,d,g,v);if(H!==void 0){if(H)continue;z=!1;break}if(D){if(!h(g,function(w,I){if(!f(D,I)&&(T===w||x(T,w,p,m,v)))return D.push(I)})){z=!1;break}}else if(T!==L&&!x(T,L,p,m,v)){z=!1;break}}return v.delete(d),v.delete(g),z}},5950:(i,l,a)=>{var u=a(695),h=a(8984),f=a(4894);i.exports=function(d){return f(d)?u(d):h(d)}},6009:(i,l,a)=>{i=a.nmd(i);var u=a(4840),h=l&&!l.nodeType&&l,f=h&&i&&!i.nodeType&&i,d=f&&f.exports===h&&u.process,g=function(){try{return f&&f.require&&f.require("util").types||d&&d.binding&&d.binding("util")}catch{}}();i.exports=g},6025:(i,l,a)=>{var u=a(5288);i.exports=function(h,f){for(var d=h.length;d--;)if(u(h[d][0],f))return d;return-1}},6110:(i,l,a)=>{var u=a(5083),h=a(392);i.exports=function(f,d){var g=h(f,d);return u(g)?g:void 0}},6449:i=>{var l=Array.isArray;i.exports=l},6545:(i,l,a)=>{var u=a(6110)(a(9325),"Set");i.exports=u},6721:(i,l,a)=>{var u=a(1042),h=Object.prototype.hasOwnProperty;i.exports=function(f){var d=this.__data__;if(u){var g=d[f];return g==="__lodash_hash_undefined__"?void 0:g}return h.call(d,f)?d[f]:void 0}},7068:(i,l,a)=>{var u=a(7217),h=a(5911),f=a(1986),d=a(689),g=a(5861),p=a(6449),m=a(3656),x=a(7167),v="[object Arguments]",y="[object Array]",b="[object Object]",S=Object.prototype.hasOwnProperty;i.exports=function(E,C,P,z,D,T){var L=p(E),H=p(C),w=L?y:g(E),I=H?y:g(C),N=(w=w==v?b:w)==b,$=(I=I==v?b:I)==b,B=w==I;if(B&&m(E)){if(!m(C))return!1;L=!0,N=!1}if(B&&!N)return T||(T=new u),L||x(E)?h(E,C,P,z,D,T):f(E,C,w,P,z,D,T);if(!(1&P)){var k=N&&S.call(E,"__wrapped__"),O=$&&S.call(C,"__wrapped__");if(k||O){var R=k?E.value():E,j=O?C.value():C;return T||(T=new u),D(R,j,P,z,T)}}return!!B&&(T||(T=new u),d(E,C,P,z,D,T))}},7167:(i,l,a)=>{var u=a(4901),h=a(7301),f=a(6009),d=f&&f.isTypedArray,g=d?h(d):u;i.exports=g},7217:(i,l,a)=>{var u=a(79),h=a(1420),f=a(938),d=a(3605),g=a(9817),p=a(945);function m(x){var v=this.__data__=new u(x);this.size=v.size}m.prototype.clear=h,m.prototype.delete=f,m.prototype.get=d,m.prototype.has=g,m.prototype.set=p,i.exports=m},7296:(i,l,a)=>{var u,h=a(5481),f=(u=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"";i.exports=function(d){return!!f&&f in d}},7301:i=>{i.exports=function(l){return function(a){return l(a)}}},7473:i=>{var l=Function.prototype.toString;i.exports=function(a){if(a!=null){try{return l.call(a)}catch{}try{return a+""}catch{}}return""}},7534:(i,l,a)=>{var u=a(2552),h=a(346);i.exports=function(f){return h(f)&&u(f)=="[object Arguments]"}},7670:(i,l,a)=>{var u=a(2651);i.exports=function(h){var f=u(this,h).delete(h);return this.size-=f?1:0,f}},7828:(i,l,a)=>{var u=a(9325).Uint8Array;i.exports=u},8096:i=>{i.exports=function(l,a){for(var u=-1,h=Array(l);++u<l;)h[u]=a(u);return h}},8223:(i,l,a)=>{var u=a(6110)(a(9325),"Map");i.exports=u},8303:(i,l,a)=>{var u=a(6110)(a(9325),"WeakMap");i.exports=u},8655:(i,l,a)=>{var u=a(6025);i.exports=function(h){return u(this.__data__,h)>-1}},8859:(i,l,a)=>{var u=a(3661),h=a(1380),f=a(1459);function d(g){var p=-1,m=g==null?0:g.length;for(this.__data__=new u;++p<m;)this.add(g[p])}d.prototype.add=d.prototype.push=h,d.prototype.has=f,i.exports=d},8984:(i,l,a)=>{var u=a(5527),h=a(3650),f=Object.prototype.hasOwnProperty;i.exports=function(d){if(!u(d))return h(d);var g=[];for(var p in Object(d))f.call(d,p)&&p!="constructor"&&g.push(p);return g}},9155:i=>{i.exports=n},9219:i=>{i.exports=function(l,a){return l.has(a)}},9325:(i,l,a)=>{var u=a(4840),h=typeof self=="object"&&self&&self.Object===Object&&self,f=u||h||Function("return this")();i.exports=f},9350:i=>{var l=Object.prototype.toString;i.exports=function(a){return l.call(a)}},9770:i=>{i.exports=function(l,a){for(var u=-1,h=l==null?0:l.length,f=0,d=[];++u<h;){var g=l[u];a(g,u,l)&&(d[f++]=g)}return d}},9817:i=>{i.exports=function(l){return this.__data__.has(l)}},9905:(i,l,a)=>{a.d(l,{default:()=>B});var u=a(3146),h=a.n(u);const f=function(k){return new RegExp(/<[a-z][\s\S]*>/i).test(k)},d=function(k,O){return Math.floor(Math.random()*(O-k+1))+k};var g="TYPE_CHARACTER",p="REMOVE_CHARACTER",m="REMOVE_ALL",x="REMOVE_LAST_VISIBLE_NODE",v="PAUSE_FOR",y="CALL_FUNCTION",b="ADD_HTML_TAG_ELEMENT",S="CHANGE_DELETE_SPEED",E="CHANGE_DELAY",C="CHANGE_CURSOR",P="PASTE_STRING",z="HTML_TAG";function D(k){return D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},D(k)}function T(k,O){var R=Object.keys(k);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(k);O&&(j=j.filter(function(Y){return Object.getOwnPropertyDescriptor(k,Y).enumerable})),R.push.apply(R,j)}return R}function L(k){for(var O=1;O<arguments.length;O++){var R=arguments[O]!=null?arguments[O]:{};O%2?T(Object(R),!0).forEach(function(j){N(k,j,R[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(R)):T(Object(R)).forEach(function(j){Object.defineProperty(k,j,Object.getOwnPropertyDescriptor(R,j))})}return k}function H(k){return function(O){if(Array.isArray(O))return w(O)}(k)||function(O){if(typeof Symbol<"u"&&O[Symbol.iterator]!=null||O["@@iterator"]!=null)return Array.from(O)}(k)||function(O,R){if(O){if(typeof O=="string")return w(O,R);var j={}.toString.call(O).slice(8,-1);return j==="Object"&&O.constructor&&(j=O.constructor.name),j==="Map"||j==="Set"?Array.from(O):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?w(O,R):void 0}}(k)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(k,O){(O==null||O>k.length)&&(O=k.length);for(var R=0,j=Array(O);R<O;R++)j[R]=k[R];return j}function I(k,O){for(var R=0;R<O.length;R++){var j=O[R];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(k,$(j.key),j)}}function N(k,O,R){return(O=$(O))in k?Object.defineProperty(k,O,{value:R,enumerable:!0,configurable:!0,writable:!0}):k[O]=R,k}function $(k){var O=function(R){if(D(R)!="object"||!R)return R;var j=R[Symbol.toPrimitive];if(j!==void 0){var Y=j.call(R,"string");if(D(Y)!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(R)}(k);return D(O)=="symbol"?O:O+""}const B=function(){function k(j,Y){var M=this;if(function(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}(this,k),N(this,"state",{cursorAnimation:null,lastFrameTime:null,pauseUntil:null,eventQueue:[],eventLoop:null,eventLoopPaused:!1,reverseCalledEvents:[],calledEvents:[],visibleNodes:[],initialOptions:null,elements:{container:null,wrapper:document.createElement("span"),cursor:document.createElement("span")}}),N(this,"options",{strings:null,cursor:"|",delay:"natural",pauseFor:1500,deleteSpeed:"natural",loop:!1,autoStart:!1,devMode:!1,skipAddStyles:!1,wrapperClassName:"Typewriter__wrapper",cursorClassName:"Typewriter__cursor",stringSplitter:null,onCreateTextNode:null,onRemoveNode:null}),N(this,"setupWrapperElement",function(){M.state.elements.container&&(M.state.elements.wrapper.className=M.options.wrapperClassName,M.state.elements.cursor.className=M.options.cursorClassName,M.state.elements.cursor.innerHTML=M.options.cursor,M.state.elements.container.innerHTML="",M.state.elements.container.appendChild(M.state.elements.wrapper),M.state.elements.container.appendChild(M.state.elements.cursor))}),N(this,"start",function(){return M.state.eventLoopPaused=!1,M.runEventLoop(),M}),N(this,"pause",function(){return M.state.eventLoopPaused=!0,M}),N(this,"stop",function(){return M.state.eventLoop&&((0,u.cancel)(M.state.eventLoop),M.state.eventLoop=null),M}),N(this,"pauseFor",function(F){return M.addEventToQueue(v,{ms:F}),M}),N(this,"typeOutAllStrings",function(){return typeof M.options.strings=="string"?(M.typeString(M.options.strings).pauseFor(M.options.pauseFor),M):(M.options.strings.forEach(function(F){M.typeString(F).pauseFor(M.options.pauseFor).deleteAll(M.options.deleteSpeed)}),M)}),N(this,"typeString",function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(f(F))return M.typeOutHTMLString(F,V);if(F){var W=(M.options||{}).stringSplitter,q=typeof W=="function"?W(F):F.split("");M.typeCharacters(q,V)}return M}),N(this,"pasteString",function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return f(F)?M.typeOutHTMLString(F,V,!0):(F&&M.addEventToQueue(P,{character:F,node:V}),M)}),N(this,"typeOutHTMLString",function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,W=arguments.length>2?arguments[2]:void 0,q=function(ne){var J=document.createElement("div");return J.innerHTML=ne,J.childNodes}(F);if(q.length>0)for(var K=0;K<q.length;K++){var Q=q[K],X=Q.innerHTML;Q&&Q.nodeType!==3?(Q.innerHTML="",M.addEventToQueue(b,{node:Q,parentNode:V}),W?M.pasteString(X,Q):M.typeString(X,Q)):Q.textContent&&(W?M.pasteString(Q.textContent,V):M.typeString(Q.textContent,V))}return M}),N(this,"deleteAll",function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"natural";return M.addEventToQueue(m,{speed:F}),M}),N(this,"changeDeleteSpeed",function(F){if(!F)throw new Error("Must provide new delete speed");return M.addEventToQueue(S,{speed:F}),M}),N(this,"changeDelay",function(F){if(!F)throw new Error("Must provide new delay");return M.addEventToQueue(E,{delay:F}),M}),N(this,"changeCursor",function(F){if(!F)throw new Error("Must provide new cursor");return M.addEventToQueue(C,{cursor:F}),M}),N(this,"deleteChars",function(F){if(!F)throw new Error("Must provide amount of characters to delete");for(var V=0;V<F;V++)M.addEventToQueue(p);return M}),N(this,"callFunction",function(F,V){if(!F||typeof F!="function")throw new Error("Callback must be a function");return M.addEventToQueue(y,{cb:F,thisArg:V}),M}),N(this,"typeCharacters",function(F){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!F||!Array.isArray(F))throw new Error("Characters must be an array");return F.forEach(function(W){M.addEventToQueue(g,{character:W,node:V})}),M}),N(this,"removeCharacters",function(F){if(!F||!Array.isArray(F))throw new Error("Characters must be an array");return F.forEach(function(){M.addEventToQueue(p)}),M}),N(this,"addEventToQueue",function(F,V){var W=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return M.addEventToStateProperty(F,V,W,"eventQueue")}),N(this,"addReverseCalledEvent",function(F,V){var W=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return M.options.loop?M.addEventToStateProperty(F,V,W,"reverseCalledEvents"):M}),N(this,"addEventToStateProperty",function(F,V){var W=arguments.length>2&&arguments[2]!==void 0&&arguments[2],q=arguments.length>3?arguments[3]:void 0,K={eventName:F,eventArgs:V||{}};return M.state[q]=W?[K].concat(H(M.state[q])):[].concat(H(M.state[q]),[K]),M}),N(this,"runEventLoop",function(){M.state.lastFrameTime||(M.state.lastFrameTime=Date.now());var F=Date.now(),V=F-M.state.lastFrameTime;if(!M.state.eventQueue.length){if(!M.options.loop)return;M.state.eventQueue=H(M.state.calledEvents),M.state.calledEvents=[],M.options=L({},M.state.initialOptions)}if(M.state.eventLoop=h()(M.runEventLoop),!M.state.eventLoopPaused){if(M.state.pauseUntil){if(F<M.state.pauseUntil)return;M.state.pauseUntil=null}var W,q=H(M.state.eventQueue),K=q.shift();if(!(V<=(W=K.eventName===x||K.eventName===p?M.options.deleteSpeed==="natural"?d(40,80):M.options.deleteSpeed:M.options.delay==="natural"?d(120,160):M.options.delay))){var Q=K.eventName,X=K.eventArgs;switch(M.logInDevMode({currentEvent:K,state:M.state,delay:W}),Q){case P:case g:var ne=X.character,J=X.node,se=document.createTextNode(ne),oe=se;M.options.onCreateTextNode&&typeof M.options.onCreateTextNode=="function"&&(oe=M.options.onCreateTextNode(ne,se)),oe&&(J?J.appendChild(oe):M.state.elements.wrapper.appendChild(oe)),M.state.visibleNodes=[].concat(H(M.state.visibleNodes),[{type:"TEXT_NODE",character:ne,node:oe}]);break;case p:q.unshift({eventName:x,eventArgs:{removingCharacterNode:!0}});break;case v:var $e=K.eventArgs.ms;M.state.pauseUntil=Date.now()+parseInt($e);break;case y:var Je=K.eventArgs,xt=Je.cb,We=Je.thisArg;xt.call(We,{elements:M.state.elements});break;case b:var et=K.eventArgs,ke=et.node,Me=et.parentNode;Me?Me.appendChild(ke):M.state.elements.wrapper.appendChild(ke),M.state.visibleNodes=[].concat(H(M.state.visibleNodes),[{type:z,node:ke,parentNode:Me||M.state.elements.wrapper}]);break;case m:var bt=M.state.visibleNodes,_e=X.speed,me=[];_e&&me.push({eventName:S,eventArgs:{speed:_e,temp:!0}});for(var Ye=0,zn=bt.length;Ye<zn;Ye++)me.push({eventName:x,eventArgs:{removingCharacterNode:!1}});_e&&me.push({eventName:S,eventArgs:{speed:M.options.deleteSpeed,temp:!0}}),q.unshift.apply(q,me);break;case x:var vt=K.eventArgs.removingCharacterNode;if(M.state.visibleNodes.length){var wt=M.state.visibleNodes.pop(),Rn=wt.type,tt=wt.node,Ln=wt.character;M.options.onRemoveNode&&typeof M.options.onRemoveNode=="function"&&M.options.onRemoveNode({node:tt,character:Ln}),tt&&tt.parentNode.removeChild(tt),Rn===z&&vt&&q.unshift({eventName:x,eventArgs:{}})}break;case S:M.options.deleteSpeed=K.eventArgs.speed;break;case E:M.options.delay=K.eventArgs.delay;break;case C:M.options.cursor=K.eventArgs.cursor,M.state.elements.cursor.innerHTML=K.eventArgs.cursor}M.options.loop&&(K.eventName===x||K.eventArgs&&K.eventArgs.temp||(M.state.calledEvents=[].concat(H(M.state.calledEvents),[K]))),M.state.eventQueue=q,M.state.lastFrameTime=F}}}),j)if(typeof j=="string"){var G=document.querySelector(j);if(!G)throw new Error("Could not find container element");this.state.elements.container=G}else this.state.elements.container=j;Y&&(this.options=L(L({},this.options),Y)),this.state.initialOptions=L({},this.options),this.init()}var O,R;return O=k,(R=[{key:"init",value:function(){var j,Y;this.setupWrapperElement(),this.addEventToQueue(C,{cursor:this.options.cursor},!0),this.addEventToQueue(m,null,!0),!window||window.___TYPEWRITER_JS_STYLES_ADDED___||this.options.skipAddStyles||(j=".Typewriter__cursor{-webkit-animation:Typewriter-cursor 1s infinite;animation:Typewriter-cursor 1s infinite;margin-left:1px}@-webkit-keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes Typewriter-cursor{0%{opacity:0}50%{opacity:1}100%{opacity:0}}",(Y=document.createElement("style")).appendChild(document.createTextNode(j)),document.head.appendChild(Y),window.___TYPEWRITER_JS_STYLES_ADDED___=!0),this.options.autoStart===!0&&this.options.strings&&this.typeOutAllStrings().start()}},{key:"logInDevMode",value:function(j){this.options.devMode&&console.log(j)}}])&&I(O.prototype,R),Object.defineProperty(O,"prototype",{writable:!1}),k}()},9935:i=>{i.exports=function(){return!1}}},o={};function s(i){var l=o[i];if(l!==void 0)return l.exports;var a=o[i]={id:i,loaded:!1,exports:{}};return r[i].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.n=i=>{var l=i&&i.__esModule?()=>i.default:()=>i;return s.d(l,{a:l}),l},s.d=(i,l)=>{for(var a in l)s.o(l,a)&&!s.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:l[a]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=(i,l)=>Object.prototype.hasOwnProperty.call(i,l),s.nmd=i=>(i.paths=[],i.children||(i.children=[]),i);var c={};return(()=>{s.d(c,{default:()=>b});var i=s(9155),l=s.n(i),a=s(9905),u=s(2404),h=s.n(u);function f(S){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(S)}function d(S,E){for(var C=0;C<E.length;C++){var P=E[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,v(P.key),P)}}function g(S,E){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,P){return C.__proto__=P,C},g(S,E)}function p(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function m(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m=function(){return!!S})()}function x(S){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(E){return E.__proto__||Object.getPrototypeOf(E)},x(S)}function v(S){var E=function(C){if(f(C)!="object"||!C)return C;var P=C[Symbol.toPrimitive];if(P!==void 0){var z=P.call(C,"string");if(f(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(S);return f(E)=="symbol"?E:E+""}var y=function(S){(function(D,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(T&&T.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),T&&g(D,T)})(z,S);var E,C,P=function(D){var T=m();return function(){var L,H=x(D);if(T){var w=x(this).constructor;L=Reflect.construct(H,arguments,w)}else L=H.apply(this,arguments);return function(I,N){if(N&&(f(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p(I)}(this,L)}}(z);function z(){var D,T,L,H;(function($,B){if(!($ instanceof B))throw new TypeError("Cannot call a class as a function")})(this,z);for(var w=arguments.length,I=new Array(w),N=0;N<w;N++)I[N]=arguments[N];return T=p(D=P.call.apply(P,[this].concat(I))),H={instance:null},(L=v(L="state"))in T?Object.defineProperty(T,L,{value:H,enumerable:!0,configurable:!0,writable:!0}):T[L]=H,D}return E=z,(C=[{key:"componentDidMount",value:function(){var D=this,T=new a.default(this.typewriter,this.props.options);this.setState({instance:T},function(){var L=D.props.onInit;L&&L(T)})}},{key:"componentDidUpdate",value:function(D){h()(this.props.options,D.options)||this.setState({instance:new a.default(this.typewriter,this.props.options)})}},{key:"componentWillUnmount",value:function(){this.state.instance&&this.state.instance.stop()}},{key:"render",value:function(){var D=this,T=this.props.component;return l().createElement(T,{ref:function(L){return D.typewriter=L},className:"Typewriter","data-testid":"typewriter-wrapper"})}}])&&d(E.prototype,C),Object.defineProperty(E,"prototype",{writable:!1}),z}(i.Component);y.defaultProps={component:"div"};const b=y})(),c.default})())})(Qs);var zg=Qs.exports;const Zs=pr(zg);function Rg({data:e}){const t=ac("#1A202C","#2D3748"),n="#569CD6";return U(te,{bg:t,borderRadius:"md",border:"1px solid",borderColor:"gray.600",boxShadow:"0 0 10px rgba(86, 156, 214, 0.2)",p:4,w:"300px",fontFamily:"'Fira Code', 'Consolas', monospace",position:"relative",transition:"all 0.2s ease-in-out",boxSizing:"border-box",_hover:{boxShadow:"0 0 15px rgba(86, 156, 214, 0.3)"},children:[U(te,{bg:"gray.700",borderTopRadius:"md",h:"20px",mb:3,display:"flex",alignItems:"center",px:2,children:[_(te,{w:"10px",h:"10px",borderRadius:"full",bg:"red.400",mr:1}),_(te,{w:"10px",h:"10px",borderRadius:"full",bg:"yellow.400",mr:1}),_(te,{w:"10px",h:"10px",borderRadius:"full",bg:"green.400"})]}),_(te,{maxH:"300px",overflowY:"auto",overflowX:"hidden",pr:4,pl:2,maxW:"100%",boxSizing:"border-box",css:{cursor:"pointer !important","&::-webkit-scrollbar":{width:"10px"},"&::-webkit-scrollbar-track":{background:"#292b37",borderRadius:"5px"},"&::-webkit-scrollbar-thumb":{background:"#866bab",borderRadius:"5px",border:"2px solid #292b37"},"&::-webkit-scrollbar-thumb:hover":{background:"#cc7bc9"}},children:_(yr,{align:"start",spacing:1,maxW:"100%",children:_(le,{fontSize:"sm",whiteSpace:"pre-wrap",overflowWrap:"break-word",wordBreak:"break-word",maxW:"100%",color:"#D4D4D4",children:_(Zs,{onInit:s=>{s.typeString(`<span style="color: #D4D4D4">{
</span>`).typeString(`<span style="color: #569CD6">"label"</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">"${e.label||"node@related"}"</span><span style="color: #D4D4D4">,
</span>`).typeString(`<span style="color: #569CD6">"description"</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">"${e.description||"Custom Chakra UI Node"}"</span><span style="color: #D4D4D4">,
</span>`).typeString(`<span style="color: #569CD6">"url"</span><span style="color: #D4D4D4">: </span><a href="${e.url||"#"}" style="color: #CE9178; text-decoration: underline;" onmouseover="this.style.color='#e9967a'" onmouseout="this.style.color='#CE9178'">${e.url||"no url provided"}</a><span style="color: #D4D4D4">
}</span>`).start()},options:{delay:50,cursor:"|",autoStart:!0,loop:!1,wrapperClassName:"typewriter-wrapper",cursorClassName:"typewriter-cursor"}},e.trigger||0)})})}),_(mt,{type:"target",position:Z.Left,style:{background:n,border:"1px solid #000"}})]})}function Lg({data:e,id:t,style:n}){return U(te,{style:n,children:[_(mt,{type:"source",position:Z.Right,style:{background:"#555"}}),_(te,{p:2,children:e.label})]})}const Hg={MainNode:Rg,SubNode:Lg};function Bg(){const e=Jo({base:!0,xl:!1}),[t,n]=A.useState([]),[r,o]=A.useState(null),[s,c]=A.useState([]),[i,l]=A.useState(0),a=A.useCallback(d=>n(g=>_s(d,g)),[]),u=A.useCallback(d=>c(g=>Ss(d,g)),[]),h=A.useCallback(d=>{c(g=>es({...d,style:{stroke:"#FF0072",strokeWidth:2}},g))},[]),f=A.useCallback((d,g)=>{if(g.type==="SubNode"){o(g.id);const p=t.map(m=>m.id==="related"?{...m,data:{...m.data,label:g.data.label,description:g.data.description,url:g.data.url,trigger:i+1}}:{...m,style:m.type==="MainNode"?{}:{background:"#866bab",color:"#fff",border:m.id===g.id?"2px solid #ff79c6":"1px solid #777",borderRadius:"10px",padding:"10px",boxShadow:m.id===g.id?"0 0 15px #ff79c6, 0 4px 8px rgba(0, 0, 0, 0.1)":"0 4px 8px rgba(0, 0, 0, 0.1)"}});n(p),l(m=>m+1)}},[t,i]);return A.useEffect(()=>{const d=[{id:"about",type:"SubNode",data:{label:"About",main:!0,url:"https://barbarpotato.github.io/About/",description:"Describing myself as a software engineer with a strong focus on software development and architecture."},position:{x:-100,y:120},sourcePosition:"right"},{id:"labs",type:"SubNode",data:{label:"Labs",main:!0,url:"https://barbarpotato.github.io/Labs/",description:"Technical articles, tutorials, and insights about web development and software engineering."},position:{x:0,y:200},sourcePosition:"right"},{id:"projects",type:"SubNode",data:{label:"Projects",main:!0,url:"https://barbarpotato.github.io/Projects/",description:"A mix of things Ive builtsome for fun, some for work, all focused on making ideas come to life with clean and solid code."},position:{x:-120,y:280},sourcePosition:"right"},{id:"badge",type:"SubNode",data:{label:"Badges",main:!0,url:"https://barbarpotato.github.io/Badges/",description:"These badges represent the certificates Ive earned through my journey of learning across a variety of online platforms."},position:{x:0,y:370},sourcePosition:"right"},{id:"experiences",type:"SubNode",data:{label:"Experiences",main:!0,url:"https://barbarpotato.github.io/Experiences/",description:"Explore some of my past experiences, where Ive consistently tracked and evaluated my progress."},position:{x:-120,y:470},sourcePosition:"right"},{id:"related",type:"MainNode",data:{label:"Hello Visitors",description:"These Section Allows You to Understand the sitemap of my Portfolio",url:"https://barbarpotato.github.io/",trigger:0},position:{x:270,y:220},targetPosition:"left"}].map(p=>({...p,style:p.type==="MainNode"?{}:{background:"#866bab",color:"#fff",border:"1px solid #777",borderRadius:"10px",padding:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}})),g=[{id:"e2",source:"labs",target:"related",animated:!0},{id:"e4",source:"projects",target:"related",animated:!0},{id:"e5",source:"badge",target:"related",animated:!0},{id:"e6",source:"about",target:"related",animated:!0},{id:"e8",source:"experiences",target:"related",animated:!0}].map(p=>({...p,style:{stroke:"#ff79c6",strokeWidth:2}}));n(d),c(g)},[]),U(ct,{maxW:"7xl",color:"#faf9ff",pt:20,children:[_(te,{className:"stars3"}),_(ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:U(de,{direction:"column",justify:"space-between",mb:8,children:[U(te,{children:[_(Fe,{size:{base:"2xl",sm:"3xl",md:"xl"},mb:2,children:"Dive Into The Contents Of My Creation"}),_(le,{color:"#c0c0c0",fontSize:{base:"lg",sm:"xl",md:"lg"},children:"Explore a curated collection of my Profile, projects, technical insights, and in-depth development tutorials."})]}),_(te,{borderWidth:2,borderColor:"#c0c0c0",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"2xl",w:"100%",h:"50vh",marginTop:10,children:_("div",{style:{width:"100%",height:"100%",position:"relative"},children:_(dg,{nodes:t,edges:s,onNodesChange:a,onEdgesChange:u,onConnect:h,onNodeClick:f,deleteKeyCode:null,fitView:!0,zoomOnScroll:e,nodeTypes:Hg,children:_(mg,{variant:"lines",color:"#c0c0c0",style:{opacity:.2}})})})})]})})]})}var Js={exports:{}};/*!
 * TagCloud.js v2.5.0
 * Copyright (c) 2016-2024 @ Cong Min
 * MIT License - https://github.com/mcc108/TagCloud
 */(function(e,t){(function(n,r){e.exports=r()})(Zo,function(){function n(d,g){var p=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);g&&(m=m.filter(function(x){return Object.getOwnPropertyDescriptor(d,x).enumerable})),p.push.apply(p,m)}return p}function r(d){for(var g=1;g<arguments.length;g++){var p=arguments[g]!=null?arguments[g]:{};g%2?n(Object(p),!0).forEach(function(m){i(d,m,p[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(p)):n(Object(p)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(p,m))})}return d}function o(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function s(d,g){for(var p=0;p<g.length;p++){var m=g[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,u(m.key),m)}}function c(d,g,p){return g&&s(d.prototype,g),p&&s(d,p),Object.defineProperty(d,"prototype",{writable:!1}),d}function i(d,g,p){return g=u(g),g in d?Object.defineProperty(d,g,{value:p,enumerable:!0,configurable:!0,writable:!0}):d[g]=p,d}function l(){return l=Object.assign?Object.assign.bind():function(d){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var m in p)Object.prototype.hasOwnProperty.call(p,m)&&(d[m]=p[m])}return d},l.apply(this,arguments)}function a(d,g){if(typeof d!="object"||d===null)return d;var p=d[Symbol.toPrimitive];if(p!==void 0){var m=p.call(d,g||"default");if(typeof m!="object")return m;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(d)}function u(d){var g=a(d,"string");return typeof g=="symbol"?g:String(g)}var h=function(){function d(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.body,p=arguments.length>1?arguments[1]:void 0,m=arguments.length>2?arguments[2]:void 0;o(this,d);var x=this;if(!g||g.nodeType!==1)return new Error("Incorrect element type");x.$container=g,x.texts=p||[],x.config=r(r({},d._defaultConfig),m||{}),x.radius=x.config.radius,x.depth=2*x.radius,x.size=1.5*x.radius,x.maxSpeed=d._getMaxSpeed(x.config.maxSpeed),x.initSpeed=d._getInitSpeed(x.config.initSpeed),x.direction=x.config.direction,x.keep=x.config.keep,x.paused=!1,x._createElment(),x._init(),d.list.push({el:x.$el,container:g,instance:x})}return c(d,[{key:"_createElment",value:function(){var p=this,m=document.createElement("div");m.className=p.config.containerClass,p.config.useContainerInlineStyles&&(m.style.position="relative",m.style.width="".concat(2*p.radius,"px"),m.style.height="".concat(2*p.radius,"px")),p.items=[],p.texts.forEach(function(x,v){var y=p._createTextItem(x,v);m.appendChild(y.el),p.items.push(y)}),p.$container.appendChild(m),p.$el=m}},{key:"_createTextItem",value:function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=this,v=document.createElement("span");if(v.className=x.config.itemClass,x.config.useItemInlineStyles){v.style.willChange="transform, opacity, filter",v.style.position="absolute",v.style.top="50%",v.style.left="50%",v.style.zIndex=m+1,v.style.filter="alpha(opacity=0)",v.style.opacity=0;var y="50% 50%";v.style.WebkitTransformOrigin=y,v.style.MozTransformOrigin=y,v.style.OTransformOrigin=y,v.style.transformOrigin=y;var b="translate3d(-50%, -50%, 0) scale(1)";v.style.WebkitTransform=b,v.style.MozTransform=b,v.style.OTransform=b,v.style.transform=b}return x.config.useHTML?v.innerHTML=p:v.innerText=p,r({el:v},x._computePosition(m))}},{key:"_computePosition",value:function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this,v=x.texts.length;m&&(p=Math.floor(Math.random()*(v+1)));var y=Math.acos(-1+(2*p+1)/v),b=Math.sqrt((v+1)*Math.PI)*y;return{x:x.size*Math.cos(b)*Math.sin(y)/2,y:x.size*Math.sin(b)*Math.sin(y)/2,z:x.size*Math.cos(y)/2}}},{key:"_requestInterval",value:function(p,m){var x=function(){return window.requestAnimationFrame}(),v=new Date().getTime(),y={};function b(){y.value=x(b);var S=new Date().getTime(),E=S-v;E>=m&&(p.call(),v=new Date().getTime())}return y.value=x(b),y}},{key:"_init",value:function(){var p=this;p.active=!1,p.mouseX0=p.initSpeed*Math.sin(p.direction*(Math.PI/180)),p.mouseY0=-p.initSpeed*Math.cos(p.direction*(Math.PI/180)),p.mouseX=p.mouseX0,p.mouseY=p.mouseY0;var m=window.matchMedia("(hover: hover)");(!m||m.matches)&&(d._on(p.$el,"mouseover",function(){p.active=!0}),d._on(p.$el,"mouseout",function(){p.active=!1}),d._on(p.keep?window:p.$el,"mousemove",function(x){x=x||window.event;var v=p.$el.getBoundingClientRect();p.mouseX=(x.clientX-(v.left+v.width/2))/5,p.mouseY=(x.clientY-(v.top+v.height/2))/5})),p._next(),p.interval=p._requestInterval(function(){p._next.call(p)},10)}},{key:"_next",value:function(){var p=this;if(!p.paused){!p.keep&&!p.active&&(p.mouseX=Math.abs(p.mouseX-p.mouseX0)<1?p.mouseX0:(p.mouseX+p.mouseX0)/2,p.mouseY=Math.abs(p.mouseY-p.mouseY0)<1?p.mouseY0:(p.mouseY+p.mouseY0)/2);var m=-(Math.min(Math.max(-p.mouseY,-p.size),p.size)/p.radius)*p.maxSpeed,x=Math.min(Math.max(-p.mouseX,-p.size),p.size)/p.radius*p.maxSpeed;if(p.config.reverseDirection&&(m=-m,x=-x),!(Math.abs(m)<=.01&&Math.abs(x)<=.01)){var v=Math.PI/180,y=[Math.sin(m*v),Math.cos(m*v),Math.sin(x*v),Math.cos(x*v)];p.items.forEach(function(b){var S=b.x,E=b.y*y[1]+b.z*-y[0],C=b.y*y[0]+b.z*y[1],P=S*y[3]+C*y[2],z=E,D=C*y[3]-S*y[2],T=2*p.depth/(2*p.depth+D);b.x=P,b.y=z,b.z=D,b.scale=T.toFixed(3);var L=T*T-.25;L=(L>1?1:L).toFixed(3);var H=b.el,w=(b.x-H.offsetWidth/2).toFixed(2),I=(b.y-H.offsetHeight/2).toFixed(2),N="translate3d(".concat(w,"px, ").concat(I,"px, 0) scale(").concat(b.scale,")");H.style.WebkitTransform=N,H.style.MozTransform=N,H.style.OTransform=N,H.style.transform=N,H.style.filter="alpha(opacity=".concat(100*L,")"),H.style.opacity=L})}}}},{key:"update",value:function(p){var m=this;m.texts=p||[],m.texts.forEach(function(b,S){var E=m.items[S];E||(E=m._createTextItem(b,S),l(E,m._computePosition(S,!0)),m.$el.appendChild(E.el),m.items.push(E)),m.config.useHTML?E.el.innerHTML=b:E.el.innerText=b});var x=m.texts.length,v=m.items.length;if(x<v){var y=m.items.splice(x,v-x);y.forEach(function(b){m.$el.removeChild(b.el)})}}},{key:"destroy",value:function(){var p=this;p.interval=null;var m=d.list.findIndex(function(x){return x.el===p.$el});m!==-1&&d.list.splice(m,1),p.$container&&p.$el&&p.$container.removeChild(p.$el)}},{key:"pause",value:function(){var p=this;p.paused=!0}},{key:"resume",value:function(){var p=this;p.paused=!1}}],[{key:"_on",value:function(p,m,x,v){p.addEventListener?p.addEventListener(m,x,v):p.attachEvent?p.attachEvent("on".concat(m),x):p["on".concat(m)]=x}}]),d}();h.list=[],h._defaultConfig={radius:100,maxSpeed:"normal",initSpeed:"normal",direction:135,keep:!0,reverseDirection:!1,useContainerInlineStyles:!0,useItemInlineStyles:!0,containerClass:"tagcloud",itemClass:"tagcloud--item",useHTML:!1},h._getMaxSpeed=function(d){return{slow:.5,normal:1,fast:2}[d]||1},h._getInitSpeed=function(d){return{slow:16,normal:32,fast:80}[d]||32};var f=function(d,g,p){typeof d=="string"&&(d=document.querySelectorAll(d)),d.forEach||(d=[d]);var m=[];return d.forEach(function(x){x&&m.push(new h(x,g,p))}),m.length<=1?m[0]:m};return f})})(Js);var jg=Js.exports;const Fg=pr(jg);ve(te);const Vg=ve(de),Wg={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2,delayChildren:.3}}},Yg={hidden:{opacity:0,y:40,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.8,ease:"easeOut"}}};function Xg(){const{isMobile:e}=cc(),[t,n]=A.useState(!1);A.useEffect(()=>{n(!0)},[]);const r=A.useCallback(()=>{if(!t)return;const o=".tagcloud",s=["Frontend","Backend","Mobile App","Web App","Web Service","SQL","NoSQL","Caching","API","Object Storage","Distributed","Orchestration","Container","AWS","Google Cloud","CI/CD","Loadbalancing","TDD","BDD","ML","LLM","Security","IAC","Observability","Throttling","Debugging","MVC","gRPC","WebSockets","SOAP","RESTful APIs","GraphQL","MQTT","Microservices","Serverless","Monolithic","Sharding","Partitioning","Replication","Event-Driven","CQRS","CAP","AI","Scalability","Monitoring","Automation"],c={radius:e?350:580,maxSpeed:"normal",initSpeed:"fast",keep:!0},i=document.querySelector(o);i&&(i.innerHTML=""),Fg(o,s,c)},[e,t]);return A.useEffect(()=>(r(),()=>{const o=document.querySelector(".tagcloud");o&&(o.innerHTML="")}),[r]),U(ct,{maxW:"100%",height:"100vh",position:"relative",overflow:"hidden",px:4,children:[_(te,{className:"stars"}),_(te,{className:"stars2"}),_(te,{className:"stars3"}),_(ve.div,{initial:{opacity:0,scale:.5,rotate:10},animate:{opacity:.8,scale:1,rotate:0},transition:{duration:1.8,ease:[.2,.8,.2,1],delay:.5},style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",pointerEvents:"none",zIndex:0,filter:e?"blur(1px)":"blur(2px)"},children:_("span",{className:"tagcloud"})}),_(de,{id:"home",height:"100%",direction:"column",justifyContent:"center",alignItems:"center",textAlign:"center",as:ve.div,variants:Wg,initial:"hidden",animate:"visible",position:"relative",zIndex:0,children:U(Vg,{direction:"column",maxW:"80%",variants:Yg,children:[_(le,{fontWeight:"bold",fontSize:{base:"34px",md:"64px",lg:"96px"},color:"#faf9ff",lineHeight:"1.2",children:"Hi, I'm Darmawan"}),_(le,{fontWeight:"bold",fontSize:{base:"34px",md:"48px",lg:"72px"},color:"#ff79c6",lineHeight:"1.2",children:"Software Engineer"}),_(le,{fontWeight:"bold",fontSize:{base:"20px",md:"24px",lg:"28px"},color:"#faf9ff",mt:4,children:_(Zs,{options:{strings:["I'm currently working at PT. Samamaju Prima","I'm currently working a 3PL Project","Check out my latest labs for new updates"],autoStart:!0,loop:!0,deleteSpeed:15}})})]})})]})}var ea={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Uo=Be.createContext&&Be.createContext(ea),Gg=["attr","size","title"];function qg(e,t){if(e==null)return{};var n=Ug(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ug(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xn.apply(this,arguments)}function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ko(Object(n),!0).forEach(function(r){Kg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kg(e,t,n){return t=Qg(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qg(e){var t=Zg(e,"string");return typeof t=="symbol"?t:t+""}function Zg(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ta(e){return e&&e.map((t,n)=>Be.createElement(t.tag,bn({key:n},t.attr),ta(t.child)))}function Ve(e){return t=>Be.createElement(Jg,xn({attr:bn({},e.attr)},t),ta(e.child))}function Jg(e){var t=n=>{var{attr:r,size:o,title:s}=e,c=qg(e,Gg),i=o||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Be.createElement("svg",xn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:l,style:bn(bn({color:e.color||n.color},n.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),s&&Be.createElement("title",null,s),e.children)};return Uo!==void 0?Be.createElement(Uo.Consumer,null,n=>t(n)):t(ea)}function vn(e){return Ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(e)}function e0(e){return Ve({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(e)}const t0=e=>{const[t,n]=e.split(" "),[r,o,s]=t.split("-");return new Date(r,o-1,s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},n0=()=>{const[e,t]=A.useState([]),[n,r]=A.useState(!0);return A.useEffect(()=>{let o="";o="https://api-barbarpotato.vercel.app/labs/latest",fetch(o).then(s=>s.json()).then(s=>{t(s),r(!1)})},[]),n?_(lc,{}):U(ct,{maxW:"7xl",bg:"#292b37",color:"#faf9ff",pt:20,children:[_(te,{className:"stars"}),_(te,{className:"stars2"}),_(ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:U(de,{direction:{base:"column",md:"row"},justify:"space-between",mb:8,children:[U(te,{children:[_(Fe,{size:{base:"2xl",sm:"3xl",md:"xl"},mb:2,children:"Latest Labs Content"}),_(le,{color:"#c0c0c0",fontSize:{base:"lg",sm:"xl",md:"lg"},children:"It's About Technical insights and development tutorials"})]}),_(Ie,{as:"a",href:"/Labs",variant:"outline",rightIcon:_(vn,{}),mt:{base:4,md:0},borderColor:"#faf9ff",color:"#faf9ff",_hover:{bg:"#383a4a"},children:"See More Contents"})]})}),n?_(de,{justify:"center",mt:10,children:_(Qo,{size:"lg"})}):_(gr,{templateColumns:{base:"1fr",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)"},gap:6,children:e.map(o=>_(ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:U(te,{className:"project-card",bg:"#383a4a",p:6,borderRadius:"xl",shadow:"md",transition:"all 0.2s",display:"flex",flexDirection:"column",children:[U(wn,{spacing:2,mb:4,fontSize:"sm",color:"#c0c0c0",direction:"row",align:"center",children:[_(e0,{}),_(le,{as:"time",dateTime:o.timestamp,children:t0(o.timestamp)}),_(le,{mx:2,children:""})]}),_(Fe,{size:"md",noOfLines:2,mb:2,children:_(Ge,{as:"a",href:`/Labs-${o.index}/${o.slug}`,_hover:{color:"#866bab"},children:o.title})}),_(le,{flex:"1",color:"#d0d0d0",noOfLines:3,children:o.short_description}),_(Ie,{as:"a",href:`/Labs-${o.index}/${o.slug}`,variant:"link",color:"#866bab",alignSelf:"flex-start",mt:4,rightIcon:_(vn,{}),children:"Read More"})]})},o.id))})]})};function r0(e){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"},child:[]}]})(e)}function o0(e){return Ve({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(e)}function i0(){const{isOpen:e,onToggle:t}=ei(),[n,r]=A.useState("/"),o="#faf9ff",s="#bd93f9",c=[{label:"Home",path:"/"},{label:"About",path:"/About/"},{label:"Labs",path:"/Labs/"},{label:"Projects",path:"/Projects/"},{label:"Experiences",path:"/Experiences/"},{label:"Badges",path:"/Badges/"}];A.useEffect(()=>{const u=i(window.location.pathname);r(u)},[]);const i=u=>u.replace(/\/+$/,"")||"/",l=u=>{i(u)!==n&&(window.location.href=u)},a=u=>i(u)===n;return U(A.Fragment,{children:[U(de,{backgroundColor:"#292b37",id:"navigation",p:5,alignItems:"center",justifyContent:"space-between",zIndex:30,children:[_(de,{p:2,children:U(Fe,{fontSize:"2xl",color:o,children:[_("span",{style:{color:s,fontWeight:"bold"},children:"D"}),"armawan"]})}),_(si,{spacing:4,display:{base:"none",lg:"flex"},children:c.map(({label:u,path:h})=>_(Ie,{onClick:()=>l(h),variant:a(h)?"solid":"ghost",colorScheme:"purple",color:o,borderRadius:"md",_hover:{bg:a(h)?s:"#6b46c1",transform:"scale(1.1)",transition:"transform 0.2s ease-in-out"},_active:{bg:a(h)?s:"#6b46c1",transform:"scale(0.95)"},fontWeight:a(h)?"bold":"normal",p:4,children:u},h))}),_(ni,{display:{base:"inline-flex",lg:"none"},icon:e?_(o0,{size:24}):_(r0,{size:24}),variant:"ghost",color:o,onClick:t,"aria-label":"Toggle menu"})]}),_(ti,{in:e,animateOpacity:!0,children:_(te,{position:"absolute",top:"72px",width:"100%",zIndex:20,bg:"#292b37",color:o,display:{lg:"none"},px:4,pb:4,children:_(yr,{align:"stretch",spacing:1,children:c.map(({label:u,path:h})=>_(A.Fragment,{children:_(Ie,{colorScheme:"purple",onClick:()=>{l(h),t()},variant:a(h)?"solid":"ghost",justifyContent:"flex-start",color:"white",borderRadius:"md",fontWeight:a(h)?"bold":"normal",w:"full",children:u})},h))})})})]})}function s0(e){return Ve({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function a0(e){return Ve({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function c0(e){return Ve({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(e)}const l0=()=>{const e="#faf9ff",t="#bd93f9",n=new Date().getFullYear(),r=[{label:"GitHub",href:"https://github.com/Barbarpotato"},{label:"LinkedIn",href:"https://www.linkedin.com/in/darmawan-jr-b16135220/"},{label:"Instagram",href:"https://www.instagram.com/darmajr94?igsh=OGgwNTRnaGFxeTY1"},{label:"WhatsApp",href:"https://api.whatsapp.com/send/?phone=6282148282424&text&type=phone_number&app_absent=0"}],o=[{label:"Home",href:"https://barbarpotato.github.io/"},{label:"About",href:"https://barbarpotato.github.io/About/"},{label:"Labs",href:"https://barbarpotato.github.io/Labs/"},{label:"Projects",href:"https://barbarpotato.github.io/Projects/"},{label:"Experiences",href:"https://barbarpotato.github.io/Experiences/"},{label:"Badges",href:"https://barbarpotato.github.io/Badges/"}];return _(te,{boxShadow:"dark-lg",as:"footer",mt:100,backgroundColor:"#292b37",color:"white",py:10,children:U(te,{maxW:"7xl",mx:"auto",px:{base:4,sm:6,lg:8},children:[U(de,{direction:{base:"column",md:"row"},justify:{md:"space-between"},children:[U(te,{mb:{base:8,md:0},maxW:{md:"md"},children:[_(de,{align:"center",children:U(Fe,{fontSize:"2xl",color:e,children:[_("span",{style:{color:t,fontWeight:"bold"},children:"D"}),"armawan"]})}),_(le,{mt:2,color:"gray.400",children:"Crafting cutting-edge web experiences with passion and innovation. Let's collaborate to turn your vision into reality."})]}),U(mr,{columns:{base:2,sm:3},spacing:8,w:{base:"full",md:"auto"},children:[U(te,{children:[_(le,{fontSize:"sm",fontWeight:"semibold",textTransform:"uppercase",mb:4,children:"Connect"}),_(de,{direction:"column",gap:2,children:r.map(({label:s,href:c})=>_(Ge,{href:c,target:"_blank",color:"gray.400",_hover:{color:"pink.300"},children:s},s))})]}),U(te,{children:[_(le,{fontSize:"sm",fontWeight:"semibold",textTransform:"uppercase",mb:4,children:"Resources"}),_(de,{direction:"column",gap:2,children:o.map(({label:s,href:c})=>_(Ge,{href:c,color:"gray.400",_hover:{color:"pink.300"},children:s},s))})]})]})]}),_(te,{mt:8,pt:8,borderTop:"1px",borderColor:"gray.800",children:U(de,{direction:{base:"column",md:"row"},align:{md:"center"},justify:{md:"space-between"},children:[U(de,{order:{md:2},gap:6,mb:{base:8,md:0},justify:{base:"center",md:"flex-start"},children:[_(Ge,{href:"https://github.com/Barbarpotato",target:"_blank",color:"gray.400",_hover:{color:"pink.300"},"aria-label":"Visit my GitHub profile",children:_(Bn,{as:s0,boxSize:6})}),_(Ge,{href:"https://www.linkedin.com/in/darmawan-jr-b16135220/",target:"_blank",color:"gray.400",_hover:{color:"pink.300"},"aria-label":"Visit my LinkedIn profile",children:_(Bn,{as:c0,boxSize:6})}),_(Ge,{href:"https://www.instagram.com/darmajr94?igsh=OGgwNTRnaGFxeTY1",target:"_blank",color:"gray.400",_hover:{color:"pink.300"},"aria-label":"Visit my Instagram profile",children:_(Bn,{as:a0,boxSize:6})})]}),_(de,{order:{md:1},direction:"row",align:"center",color:"gray.400",justify:{base:"center",md:"flex-start"},children:U(le,{fontSize:"base",children:[" ",n," Barbarpotato. All rights reserved."]})})]})})]})})};function u0(e){return Ve({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M21 12.22C21 6.73 16.74 3 12 3c-4.69 0-9 3.65-9 9.28-.6.34-1 .98-1 1.72v2c0 1.1.9 2 2 2h1v-6.1c0-3.87 3.13-7 7-7s7 3.13 7 7V19h-8v2h8c1.1 0 2-.9 2-2v-1.22c.59-.31 1-.92 1-1.64v-2.3c0-.7-.41-1.31-1-1.62z"},child:[]},{tag:"circle",attr:{cx:"9",cy:"13",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"13",r:"1"},child:[]},{tag:"path",attr:{d:"M18 11.03A6.04 6.04 0 0 0 12.05 6c-3.03 0-6.29 2.51-6.03 6.45a8.075 8.075 0 0 0 4.86-5.89c1.31 2.63 4 4.44 7.12 4.47z"},child:[]}]})(e)}const d0=A.lazy(()=>uc(()=>import("./DarwinDrawer-73a6dad3.js"),["assets/DarwinDrawer-73a6dad3.js","assets/index-99f585fb.js","assets/index-5565c751.css"]));function f0(){const{isOpen:e,onOpen:t,onClose:n}=ei(),r=A.useRef(),o=Jo({base:!0,md:!1});return U(A.Fragment,{children:[_(A.Suspense,{fallback:null,children:e&&_(d0,{isOpen:e,onClose:n,btnRef:r})}),o?_("button",{ref:r,onClick:t,className:"chatbot-toggle-button","aria-label":"Ask Darwin AI",children:_(u0,{size:30,color:"white"})}):_(Ie,{zIndex:10,ref:r,position:"fixed",right:"20px",bottom:"20px",colorScheme:"purple",onClick:t,children:"Ask Darwin AI"})]})}const h0=()=>{const[e,t]=A.useState([]);return A.useEffect(()=>{(async()=>{try{const i=(await(await fetch("https://api-barbarpotato.vercel.app/projects/latest")).json()).map(l=>({id:l.project_id,title:l.heading,description:l.text,image:l.imageUrl,slug:l.slug}));t(i)}catch(r){console.error("Error fetching projects:",r)}})()},[]),U(ct,{maxW:"7xl",bg:"#292b37",color:"#faf9ff",pt:20,children:[_(ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:U(de,{direction:{base:"column",md:"row"},height:"100%",justify:"space-between",mb:8,children:[U(te,{children:[_(Fe,{size:{base:"2xl",sm:"3xl",md:"xl"},mb:2,color:"#faf9ff",children:"Recent Projects"}),_(le,{color:"#c0c0c0",fontSize:{base:"lg",sm:"xl",md:"lg"},children:"A showcase of my development work, side projects, and experiments."})]}),_(Ie,{as:"a",href:"/Projects/",variant:"outline",rightIcon:_(vn,{}),mt:{base:4,md:0},borderColor:"#faf9ff",color:"#faf9ff",_hover:{bg:"#383a4a"},children:"See All Projects"})]})}),_(ct,{maxW:"container.xl",py:12,children:_(mr,{columns:{base:1,md:2,lg:3},spacing:6,children:e.map(n=>_(ve.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:U(Sc,{height:"100%",boxShadow:"dark-lg",overflow:"hidden",transition:"all 0.3s",display:"flex",flexDirection:"column",bg:"#383a4a",className:"project-card",color:"#faf9ff",borderRadius:"xl",children:[_(te,{overflow:"hidden",aspectRatio:16/9,children:_(oi,{src:n.image,alt:n.title,objectFit:"cover",w:"full",h:"full",transition:"transform 0.3s",_hover:{transform:"scale(1.05)"}})}),_(Cc,{children:_(Fe,{as:"h3",size:"md",color:"#faf9ff",children:n.title})}),U(Ec,{flex:"1",children:[_(le,{color:"#d0d0d0",children:n.description}),_(Ie,{as:"a",href:`/Projects/${n.slug}`,variant:"link",color:"#866bab",alignSelf:"flex-start",mt:4,rightIcon:_(vn,{}),children:"See Details"})]})]})},n.id))})})]})};function p0(){return U(A.Fragment,{children:[_(f0,{}),_(ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:1},children:_(i0,{})}),_(Xg,{}),_(Bg,{}),_(n0,{}),_(h0,{}),_(l0,{})]})}const v0=Object.freeze(Object.defineProperty({__proto__:null,default:p0},Symbol.toStringTag,{value:"Module"}));export{te as B,Fe as H,v0 as M,x0 as T,m0 as a,rt as b,le as c,jr as d,Ie as e,y0 as g,pc as m,Fr as w};
